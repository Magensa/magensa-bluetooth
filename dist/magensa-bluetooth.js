!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["magensa-bluetooth"]=t():e["magensa-bluetooth"]=t()}(window,(function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t),i.d(t,"scanForDevices",(function(){return Ce}));class a extends Error{constructor(e){let{message:t,code:i,name:a}=e;super(t||"Web Bluetooth API threw an unknown, or undocumented error"),this.code=i||1e3,this.name=a||"WebBluetoothError"}}var s=a;const r={filters:[{services:["0508e6f8-ad82-898f-f843-e3410cb60104"]},{services:["0508e6f8-ad82-898f-f843-e3410cb60101"]},{services:["0508e6f8-ad82-898f-f843-e3410cb60103"]}],optionalServices:["0508e6f8-ad82-898f-f843-e3410cb60104","0508e6f8-ad82-898f-f843-e3410cb60103","0508e6f8-ad82-898f-f843-e3410cb60101","0508e6f8-ad82-898f-f843-e3410cb60202","device_information"],keepRepeatedDevices:!1,acceptAllAdvertisements:!1};function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=class{constructor(){n(this,"logDeviceState",e=>{let t=new CustomEvent("deviceLog",{bubbles:!0,detail:e});window.dispatchEvent(t)}),n(this,"convertArrayToHexString",e=>Array.from(e,e=>("0"+(255&e).toString(16)).slice(-2)).join("").toUpperCase()),n(this,"readTwoByteLength",e=>e[0]<<8|e[1]),n(this,"bufferToUtf8",e=>new TextDecoder("utf-8").decode(Uint8Array.from(e))),n(this,"castDecToHex",e=>parseInt(e.toString(16),16)),n(this,"newArrayPartial",(e,t)=>new Array(t).fill(e)),n(this,"readByteArray",e=>{let t=[];for(let i=0;i<e.byteLength;i++)t.push(e.getUint8(i));return t}),n(this,"hexToAscii",e=>{let t="";for(let i=0;i<e.length&&"00"!==e.substr(i,2);i+=2)t+=String.fromCharCode(parseInt(e.substr(i,2),16));return t.trim()}),n(this,"hexToBytes",e=>{let t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t}),n(this,"decodeRLE",e=>{let t=[e[0]],i=0,a=e.length;for(let s=1;s<a;s++)i=s+1,i+1<a&&e[s]===e[i]?(t.push(...this.newArrayPartial(e[s],e[i+1])),s=i+1):t.push(e[s]);return t}),n(this,"buildInitialDataArray",e=>{let t=[];for(let e=Math.min(...Object.keys(this.rawData));e<this.maxBlockId;e++)t=t.concat(...this.rawData[e]);return e?this.checkRle(t):t}),n(this,"checkRle",e=>this.rleFormats[this.initialNotification[0]]?this.decodeRLE(e):e),n(this,"convertCurrencyCode",e=>{let t=e.toLowerCase();return"us"===t?[8,64]:"euro"===t?[9,120]:[0,0]}),n(this,"convertNumToAmount",e=>{let t=e.toString(),i=[];for(;t.length<12;)t="0"+t;for(let e=0;e<t.length;e+=2)i.push(parseInt(t.substr(e,2),16));return i}),n(this,"delayPromise",(e,t)=>new Promise(i=>{setTimeout(i,e,t)})),this.rleFormats=Object.freeze({0:!1,1:!0,2:!1,3:!0})}};function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h=class extends o{constructor(){super(),c(this,"formatExpPAN",e=>{let t="object"==typeof e?this.bufferToUtf8(e.slice(4)):e;if(-1!==t.indexOf(";")){let e=this.splitExpPAN(t);return{maskedPAN:e[0],Last4:e[1],expirationDate:e[2],serviceCode:e[3]}}return{maskedPAN:"",Last4:"",expirationDate:"",serviceCode:""}}),c(this,"splitExpPAN",e=>{if(e.length>3){let t=e.replace(";","").replace("?","").split("="),i=t[1].slice(0,4),a=t[1].slice(4,7),s=i.slice(-2)+"/"+i.slice(0,2);return[t[0],t[0].slice(-4),s,a]}return["Not Found","Not Found","Not Found","Not Found"]})}};const d="Success, listening for swipe",l="DynaPro Mini",u="Configuration",m=Object.freeze({code:0,message:"Success, there was no session to clear"}),v=Object.freeze({code:19,message:"GATT operation already in progress."}),p=Object.freeze({code:0,message:"Device Closed"}),g=Object.freeze({eDynamo:3,tDynamo:7,[l]:3,dynaProGo:7}),f=Object.freeze({msr:1,chip:2,chipmsr:3,contactless:4,contactlessmsr:5,contactlesschip:6,all:7});function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b=class extends h{constructor(){super(),C(this,"tlvParser",(e,t)=>{let i,a,s,r=e.length,n=[],o=0,c=!0,h=null,d=[];for(;o<r;)if(a=e[o],c){i=0;let t=!0;if(0===a)break;for(;t&&o<r;)a=e[o],o++,d[i]=a,t=0===i?(a&this.moreTagBytesFlag1)==this.moreTagBytesFlag1:(a&this.moreTagBytesFlag2)==this.moreTagBytesFlag2,i++;h=this.convertArrayToHexString(d.slice(0,i)),c=!1}else{if(s=0,(a&this.moreLengthFlag)==this.moreLengthFlag){let t=a&this.oneByteLengthMask;o++;let i=0;for(;i<t&&o<r;)a=e[o],o++,s=((255&s)<<8)+a,i++}else s=a&this.oneByteLengthMask,o++;if(h){let i=d[0],a=(o+s>r?r:o+s)-o,c=a>0?this.convertArrayToHexString(e.slice(o,o+a)):"";n.push({tag:h,tagLength:s||c.length+.5,tagValue:this.hexOrAsciiFormatter(h,c,t)}),(i&this.constructedFlag)!=this.constructedFlag&&(o+=s)}c=!0}return n}),C(this,"hexOrAsciiFormatter",(e,t,i)=>{switch(e){case"DFDF1A":return`${t} ${this.trxStatusToString[parseInt(t,16)]}`;case"DFDF4D":case"5F20":return this.hexToAscii(t);case"DFDF25":return i?this.hexToAscii(t?t.substring(0,14):t):t;case"DFDF40":return 128===t?`${t}  CBC-MAC checked in ARQC online response`:1===t;default:return t}}),this.moreTagBytesFlag1=31,this.moreTagBytesFlag2=128,this.constructedFlag=32,this.moreLengthFlag=128,this.oneByteLengthMask=127,this.trxStatusToString=Object.freeze({0:"Approved",1:"Declined",2:"Error",16:"Cancelled By Host",17:"Confirm Amount No",18:"Confirm Amount Timeout",19:"Confirm Amount Cancel",20:"MSR Select Debit",21:"MSR Select Debit",22:"MSR Select Credit/Debit timout",23:"MSR Select Credit/Debit cancel",24:"Signature Capture Cancelled by Host (SC-S Only | SC-F only)",25:"Signature Capture Timeout (SC-S Only | SC-F Only)",26:"Signature Capture Cancelled by Cardholder (SC-S Only | SC-F Only)",27:"PIN Entry Cancelled by Host",28:"PIN entry timeout",29:"PIN entry Cancelled by Cardholder",30:"Manual Selected Cancelled by Host",31:"Manual Selection Timeout",32:"Manual Selction Cancelled by Cardholder",33:"Waiting for Card Cancelled by Host",34:"Waiting for Card Timeout",35:"Cancelled by Card Swipe (MSR) [SCRA] || Waiting for Card Cancelled by Cardholder [PIN]",36:"Waiting for Card ICC Seated",37:"Waiting for Card MSR Swiped",255:"Unknown Transaction Status"})}};class D extends Error{constructor(){super("Device communication error. Length does not match data"),this.name="BleTransmissionError",this.code=1012}}var S=D;class y extends Error{constructor(e){let{code:t,name:i,message:a}=e;super(a),this.name=i||"DeviceError",this.code=t||1e3}}var T=y;function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var k=class extends b{constructor(e){super(),w(this,"buildDeviceErr",e=>e instanceof DOMException?new s(e):e instanceof Error?e:new T(e)),w(this,"throwLenErr",()=>new S),w(this,"sendErrToCallback",e=>(this.errorCallback(e),e)),this.errorCallback=e.errorCallback}};const P=Object.freeze({errorCode:8,errorName:"NotFoundError"}),A=Object.freeze({code:19,name:"NetworkError"}),E=Object.freeze({code:1002,name:"DeviceNotFound",message:"Please select device to connect"}),R=Object.freeze({code:1003,name:"GattServerNotConnected",message:"Please connect desired device"}),I=Object.freeze({code:1004,name:"CommandNotSent",message:"Command characteristic not found, device not opened"}),B=Object.freeze({code:1005,name:"CommandNotSent",message:"Device not opened"}),O=Object.freeze({code:1006,name:"CommandNotSent",message:"Application From Host not found.  Device not connected"}),N=Object.freeze({code:1007,name:"ReadFailed",message:"Unable to read data from device. Communication error"}),x=Object.freeze({code:1008,name:"ResponseNotReceived",message:"Command was sent, but response was not received from device"}),L=Object.freeze({code:1009,name:"GetServiceFail",message:"Failed to retrieve primary GATT service. Please connect device"}),M=Object.freeze({code:1013,name:"CommandNotAccepted",message:"Device did not accept command"});function H(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var j=class extends k{constructor(e,t){super(t),H(this,"cardTypes",e=>"all"!==e?f[e]||3:g[this.deviceType]||3),H(this,"connect",()=>new Promise((e,t)=>(this.logDeviceState(`[GATT]: Device Connection Request || ${new Date}`),this.device?this.device.gatt.connect().then(t=>(this.logDeviceState(`[GATT]: Device connected - GATT Server retrieved successfully || ${new Date}`),this.gattServer=t,e())):t(this.buildDeviceErr(E))))),H(this,"disconnect",()=>new Promise(e=>this.device.gatt.connected?(this.device.gatt.disconnect(),e(p)):e(p))),H(this,"cacheCardServiceBase",e=>new Promise((t,i)=>(e=e||0,this.logDeviceState(`[GATT]: Cache Card Service Request || ${new Date}`),this.gattServer?this.findPrimaryService(e).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(R))))),H(this,"findPrimaryService",e=>new Promise((t,i)=>this.gattServer.getPrimaryService(this.deviceUUIDs[e]).then(e=>(this.cardService=e,this.logDeviceState(`[GATT]: Success! GATT Card Service retrieved and cached || ${new Date}`),this.device.addEventListener("gattserverdisconnected",this.disconnectHandler),t(e))).catch(a=>a.code===P.errorCode&&a.name===P.errorName?(this.deviceUUIDs[e+1],this.logDeviceState(`[ERROR]: Failed to connect. UUID: ${this.deviceUUIDs[e]} is not valid for this device. Trying again with UUID: ${this.deviceUUIDs[e+1]} || ${new Date}`),t(this.findPrimaryService(e+1))):(this.logDeviceState(`[ERROR]: Failed to retrieve Card Service - UUID: ${this.deviceUUIDs[e]} is not valid for this device. || ${new Date}`),i(a))))),H(this,"connectAndCache",e=>new Promise((t,i)=>{let a=t=>new Promise((i,s)=>t<4?this.connect().then(()=>this.cacheCardServiceBase(e)).then(e=>i(e)).catch(e=>e.code===A.code&&e.name===A.name?setTimeout(()=>(this.logDeviceState(`[ERROR]: Error caching GATT Service - Clearing cache and trying again. || ${new Date}`),this.clearGattCache(),i(a(t+1))),500):(this.logDeviceState(`[ERROR]: Failed to cache GATT Service || ${new Date}`),s(e))):s(this.buildDeviceErr(L)));return a(0).then(e=>t(e)).catch(e=>i(e))})),H(this,"sendArpcBase",e=>new Promise((t,i)=>{if(!this.device.gatt.connected)return i(this.buildDeviceErr(B));if("string"!=typeof e&&"object"!=typeof e)return i(this.buildDeviceErr((a=["string","array of numbers"],Object.freeze({code:1015,name:"IncorrectInputType",message:`Parameter type was not correct, acceptable type(s) are: ${a.join(", ")}`}))));var a;const s="string"==typeof e?e.length/2:e.length,r="string"==typeof e?this.hexToBytes(e):e;return t(this.buildArpcCommand(s,r))})),H(this,"onDestroyHandler",()=>{if(this.device&&this.device.gatt.connected)return this.device.gatt.disconnect()}),H(this,"waitForDeviceResponse",e=>new Promise(t=>{let i=a=>a<e?this.commandRespAvailable?t(!0):setTimeout(()=>i(a+1),200):t(!1);i(0)})),H(this,"disconnectHandler",e=>{this.gattServer=null,this.cardService=null,this.logDeviceState(`[Disconnected]: Disconnect event. Returning event to user, removing device listener || ${new Date}`),this.disconnectCallback(e),this.device.removeEventListener("gattserverdisconnected",this.disconnectHandler)}),H(this,"isDeviceConnected",()=>!!this.device.gatt&&this.device.gatt.connected),this.device=e,this.disconnectCallback=t.disconnectHandler,this.gattServer=null,this.cardService=null,this.deviceUUIDs=["0508e6f8-ad82-898f-f843-e3410cb60104","0508e6f8-ad82-898f-f843-e3410cb60103","0508e6f8-ad82-898f-f843-e3410cb60101"],this.statusVerbosity=Object.freeze({minimum:0,medium:1,verbose:2}),this.currencyCode=Object.freeze({dollar:[8,64],euro:[9,120],pound:[8,38],default:[0,0]}),this.transactionTypes=Object.freeze({purchase:0,cashadvance:1,cashback:2,purchasegoods:4,purchaseservices:8,contactlesscashback:9,cashmanual:18,refund:32,chiponlypayment:80}),this.commandRespAvailable=!1}};function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var $=class extends j{constructor(e,t){super(e,t),F(this,"decimalToBinary",e=>{let t=(e>>>0).toString(2);return"00000000".substr(t.length)+t}),F(this,"stringNumToBool",e=>!!+e),F(this,"findNullTerminatedString",e=>{let t;for(let i=0;i<e.length;i++)if(0===e[i]&&0===e[i+1]&&0===e[i+2]){t=i;break}return t?this.convertArrayToHexString(e.slice(2,t)):this.convertArrayToHexString(e.slice(2))}),F(this,"findPinLength",(e,t)=>{let i=12,a=4;return e&&"number"==typeof e&&e<=12&&(i=e>=4?e:12),t&&"number"==typeof t&&t>=4&&(a=t<=i?t:4),parseInt(`${i.toString(16)}${a.toString(16)}`,16)}),F(this,"buildPinOptionsByte",(e,t,i,a)=>{const s=Object.freeze({disabled:"00",englishfrench:"01",allspecified:"10"}),r=`000${e=e&&s[e.toLowerCase()]||s.disabled}${(t="boolean"!=typeof t||t)?"1":"0"}${"boolean"!=typeof t||t?"1":"0"}${a=a&&a.toLowerCase()in["iso0","iso3"]?"iso0"===a.toLowerCase()?"0":"1":"0"}`;return this.logDeviceState(`[PinOptionsByte]: binary string representation: ${r} || byte result: ${parseInt(r,2)}`),parseInt(r,2)})}};function U(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var q=class extends ${constructor(e,t){super(e,t),U(this,"parseDeviceConfiguration",e=>({...this.firstDeviceControlByte(this.decimalToBinary(e[1])),...this.secondDeviceControlByte(this.decimalToBinary(e[2])),...this.maskConfigurationByte(this.decimalToBinary(e[3])),...this.msrConfigurationByte(this.decimalToBinary(e[4])),maskCharacter:this.findMaskCharacter(e[5]),leadingUnmaskedLength:parseInt(this.decimalToBinary(e[6]).slice(4),2),trailingUnmaskedLength:parseInt(this.decimalToBinary(e[6]).slice(0,4),2),emvL2IcsConfig:this.emvL2ConfigOptions[this.decimalToBinary(e[7]).slice(0,4)]||`Unknown/Undocumented EMV L2 ICS ${u}`,...this.contactlessConfig(e[8])})),U(this,"contactlessConfig",e=>({contactlessSupport:this.enabledBrands[this.convertArrayToHexString([e])[0]],contactlessGuiControls:"1"===this.decimalToBinary(e)[5]?"Alternate":"Standard"})),U(this,"findMaskCharacter",e=>{if(48===e)return"ASCII: '0'";{const t=this.convertArrayToHexString([e]),i=this.hexToAscii(t);return i?`ASCII: '${i}'`:`Non-ASCII character in hex: '${t}'`}}),U(this,"firstDeviceControlByte",e=>({requireMutualAuth:this.stringNumToBool(e[0]),msrEncryptionVariant:"1"===e[1]?"DATA":"PIN",isClearTextEnabled:this.stringNumToBool(e[3]),isBeeperModeEnabled:this.stringNumToBool(e[4]),isBitmapLocked:this.stringNumToBool(e[6]),isConfigurationLocked:this.stringNumToBool(e[7])})),U(this,"secondDeviceControlByte",e=>({isArpcMacEnabled:this.stringNumToBool(e[1]),isFinancialIccCardTypeReportingEnabled:this.stringNumToBool(e[2]),arqcBatchDataOutputFormat:"1"===e[3]?"Reserved Format":"DynaPro Format"})),U(this,"maskConfigurationByte",e=>({isIsoMaskEnabled:this.stringNumToBool(e[7]),isCheckDigitEnabled:this.stringNumToBool(e[6]),isMs2Point0Enabled:"00"!==e.slice(4,6)})),U(this,"msrConfigurationByte",e=>({isAAMVAcardEnabled:this.stringNumToBool(e[7]),track3Data:this.trackDataOptions[e.slice(4,6)]||"Unknown",track2Data:this.trackDataOptions[e.slice(2,4)]||"Unknown",track1Data:this.trackDataOptions[e.slice(0,2)]||"Unknown"})),this.trackDataOptions=Object.freeze({"00":"Disabled","01":"Enabled",11:"Required"}),this.emvL2ConfigOptions=Object.freeze({"0000":"No L2 Capability","0001":`${u} C1 (EMVCo certified)`,"0010":`${u} C2`,"0011":`${u} C3`,"0100":`${u} C4 (EMVCo certified)`,"0101":`${u} C5 (EMVCo certified)`,"0110":`${u} C6`,"0111":`${u} C7`}),this.enabledBrands=Object.freeze({0:"All contacless kernals enabled",1:"PayPass/MCL support disabled",2:"payWave support disabled",4:"Expresspay support disabled",8:"D-PAS support disabled"})}};function W(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var z=class extends q{constructor(e,t){super(e,t),W(this,"findEmvCardholderStatus",e=>({emvCardholderStatus:this.cardholderStatusIds[e]||`Unknown/Undocumented Cardholder Interaction Status ID: ${e}`})),W(this,"findOperationStatus",e=>({operationStatus:this.operationStatus[e]||"Unknown Operation Status"})),W(this,"parseDisplayMessageDone",e=>this.findOperationStatus(e[2])),W(this,"parseEmvCompletion",e=>(console.log("[!-!-!-!- emvCompletion -!-!-!-!",e),{})),W(this,"formatSerialNumber",e=>{this.requestedSn={serialNumber:this.findNullTerminatedString(e)},this.getSerialNumber=!0}),W(this,"formatKsnAndSn",e=>{this.requestedKsn={ksn:this.convertArrayToHexString(e.slice(2,12)),serialNumber:this.convertArrayToHexString(e.slice(12,20))},this.getKsnAvailable=!0}),W(this,"handleBigBlockBegin",e=>{switch(e[1]){case 164:this.arqcArriving=!0,this.arqcTotalLen=this.readTwoByteLength([e[5],e[4]]);break;case 171:this.batchDataArriving=!0,this.batchTotalLen=this.readTwoByteLength([e[5],e[4]]);break;case 24:case 32:case 33:break;default:this.transactionStatusCallback({bufferType:this.bufferTypes[e[1]]||"Buffer type not documented"})}}),W(this,"handleArqcBigBlockFinish",()=>{const e=this.buildInitialDataArray(!1),t=this.convertArrayToHexString(e);return this.logDeviceState(`[ARQC]: ${t}`),this.cardDataObj={...this.cardDataObj,arqcData:t,arqcDataParsed:this.tlvParser(e.slice(2))},this.rawData={},this.arqcArriving=!1,this.isQuickChipTransaction?void 0:this.transactionCallback(this.cardDataObj)}),W(this,"handleBatchBigBlockFinish",()=>{const e=this.buildInitialDataArray(!1),t=this.convertArrayToHexString(e);this.logDeviceState(`[BATCH DATA]: ${t}`),this.transactionHasStarted=!1;const i=this.tlvParser(e.slice(2)),a=i.find(e=>{let{tag:t}=e;return"DFDF40"===t});return this.cardDataObj=a?{...this.cardDataObj,batchData:t,batchDataParsed:i,signatureRequired:1===a}:{...this.cardDataObj,batchData:t,batchDataParsed:i},this.rawData={},this.batchDataArriving=!1,this.transactionCallback(this.cardDataObj)}),W(this,"handleBigBlockFinish",()=>this.arqcArriving?this.handleArqcBigBlockFinish():this.batchDataArriving?this.handleBatchBigBlockFinish():void 0),W(this,"parseEmvCardholderInteractionStatus",e=>{switch(e[1]){case 2:return{...this.findEmvCardholderStatus(e[1]),amountConfirmed:1===e[4]||2!==e[4]&&"Unknown/Undocumented Amount Confirmed Status"};case 4:return{...this.findEmvCardholderStatus(e[1]),applicationOrLabelName:this.bufferToUtf8(e.slice(4))};case 10:return{...this.findEmvCardholderStatus(e[1]),methodSelected:1===e[4]?"Credit":2===e[4]?"Debit":"Unknown/Undocumented payment method selected"};case 32:return{...this.findEmvCardholderStatus(e[1]),tlvData:this.tlvParser(e.slice(4))};default:return void 0===e[4]?this.findEmvCardholderStatus(e[1]):{...this.findEmvCardholderStatus(e[1]),undocumentedData:this.convertArrayToHexString(e.slice(4))}}}),W(this,"parseCardStatusReport",e=>e.length<4?this.findOperationStatus(e[2]):{...this.findOperationStatus(e[2]),cardStatus:0===e[2]?"Ok":"Error",cardType:this.cardTypesEnum[e[3]]}),W(this,"parseAckResponse",e=>({code:e[1],message:this.ACKSTS[e[1]],commandType:this.pinCommandIds[e[2]]||"Device error or command type not documented"})),W(this,"parseDeviceStateReport",e=>({deviceState:this.deviceState[e[1]],sessionState:this.parseSessionState(this.decimalToBinary(e[2])),deviceStatus:this.parseDeviceStatus(this.decimalToBinary(e[3])),deviceCertStatus:this.parseCertStatus(this.decimalToBinary(e[4])),hardwareStatus:this.parseHardwareStatus(this.decimalToBinary(e[5])),additionalInfo:this.parseAdditionalInfo(this.decimalToBinary(e[6]))})),W(this,"parseSessionState",e=>({powerDidChange:this.stringNumToBool(e[0]),cardDataIsAvailable:this.stringNumToBool(e[4]),panParsedFromCard:this.stringNumToBool(e[5]),externalPanSent:this.stringNumToBool(e[6]),amountWasSent:this.stringNumToBool(e[7])})),W(this,"parseCertStatus",e=>({msrCrlCertExists:this.stringNumToBool(e[0]),pinCrlCertExists:this.stringNumToBool(e[1]),mfgUnbindCertExists:this.stringNumToBool(e[3]),msrCaCertExists:this.stringNumToBool(e[4]),pinCaCertExists:this.stringNumToBool(e[5]),deviceCaCertExists:this.stringNumToBool(e[6]),deviceCertExists:this.stringNumToBool(e[7])})),W(this,"parseDeviceStatus",e=>"00000000"!==e?{pinKeyStatus:this.pinKeyStatusEnum[e.slice(6)],msrKeyStatus:this.msrKeyStatusEnum[e.slice(4,6)],tamperDetected:this.stringNumToBool(e[3]),isAuthenticated:this.stringNumToBool(e[1]),deviceErrorDetected:this.stringNumToBool(e[0])}:"Ok"),W(this,"parseHardwareStatus",e=>({IE3_only:this.stringNumToBool(e[0]),SRED:this.stringNumToBool(e[1]),MagHeadIsProgrammed:this.stringNumToBool(e[6]),tamperSensorsAreActive:this.stringNumToBool(e[7])})),W(this,"parseAdditionalInfo",e=>({ICC_AcquirerMasterKeyIsInjected:!this.stringNumToBool(e[7]),ICC_SessionKeyIsActive:!this.stringNumToBool(e[6]),CAPK_EmvDatabaseIsCorrupted:this.stringNumToBool(e[5]),EmvTerminalDatabaseIsCorrupted:this.stringNumToBool(e[4]),cardIsPresentInChipCardConnector:this.stringNumToBool(e[3])})),W(this,"parseCardData",e=>{const t=this.cardDataIds[e[1]]||"trackNameUnknown";if(e[2]===this.statusEnum.ok)switch(t){case"track1":this.cardDataObj={...this.cardDataObj,[t]:this.bufferToUtf8(e.slice(4))};break;case"track2":this.cardDataObj={...this.cardDataObj,[t]:this.bufferToUtf8(e.slice(4)),...this.formatExpPAN(e)};break;case"ksnAndMagnePrintStatus":this.cardDataObj={...this.cardDataObj,ksn:this.convertArrayToHexString(e.slice(4,14)),magnePrintStatus:this.convertArrayToHexString(e.slice(-4))};break;default:this.cardDataObj={...this.cardDataObj,[t]:this.convertArrayToHexString(e.slice(4))}}else this.cardDataObj={...this.cardDataObj,[t]:this.convertStatusToString[e[2]]}}),W(this,"parsePinResponse",e=>(this.logDeviceState(`[PIN Response]: Response from PIN Entry: ${this.convertArrayToHexString(e)}`),e.length>2?{pinData:{...this.findOperationStatus(e[1]),pinKsn:this.convertArrayToHexString(e.slice(2,12)),encryptedPinBlock:this.convertArrayToHexString(e.slice(12,20))}}:this.findOperationStatus(e[1]))),W(this,"parseCardholderResponse",e=>{const t=Object.freeze({113:"Left function key",114:"Middle function key",116:"Right function key",120:"Enter key"});return e.length>2?{...this.findOperationStatus(e[1]),keyPressed:t[e[2]]||"Unknown/Undocumented Key"}:this.findOperationStatus(e[1])}),this.operationStatus=Object.freeze({0:"Ok",1:"Cardholder Cancel",2:"Timeout",3:"Host Cancel",4:"Verify fail",5:"Keypad Security",6:"Calibration Done",7:"Write with duplicate RID and index",8:"Write with corrupted Key",9:"CA Public Key reached maximum capacity",10:"CA Public Key read with invalid RID or Index"}),this.ACKSTS=Object.freeze({0:"Ok",21:"RID error/Index not found",128:"Device Error: error, tamper, missing certificate or incorrect signature detected",129:"Device not idle",130:"Data Error or Bad Paramater(s)",131:"Length Error: data size is either too small, too large, incomplete, or OID of the cert doesn't match predefined OID",132:"PAN Exists",133:"Missing or Incorrect Key",134:"Device Busy",135:"Device Locked",136:"Auth required",137:"Bad Auth",138:"Device Not Available",139:"Amount Needed - If PIN amount is required, no amount has been set",140:"Battery is critically low",141:"Device is resetting",144:"Certificate does not exist",145:"Expired (Cert/CRL)",146:"Invalid (Cert/CRL/Message)",147:"Revoked (Cert/CRL)",148:"CRL does not exist",149:"Certificate exists",150:"Duplicate KSN/Key"}),this.pinDisplayMessages=Object.freeze({0:"Hands Off",1:"Approved",2:"Declined",3:"Cancelled",4:"Thank You",5:"PIN Invalid",6:"Processing",7:"Please Wait"}),this.pinCommandIds=Object.freeze({1:"responseACK",2:"clearSession",3:"swipe",4:"requestPinEntry",5:"cancelCommand",6:"requestCardholderSelection",7:"displayMessage",8:"requestDeviceStatus",9:"requestDeviceConfiguration",10:"requestMsrData",11:"getChallenge",7:"displayMessage",162:"emvTransactionStatus",171:"requestEmvData",48:"getKsn",5:"cancelCommand",26:"requestDeviceInfo",16:"sendBigBlockData"}),this.cardTypesEnum=Object.freeze({0:"Other",1:"Financial",2:"AAMVA",3:"Manual",4:"Unknown",5:"ICC",6:"Contactless ICC - EMV",7:"Financial MSR + ICC",8:"Contactless ICC - MSD"}),this.deviceState=Object.freeze({0:"Idle",1:"Session",2:"Wait For Card",3:"Wait For PIN",4:"Wait For Selection",5:"Displaying Message",6:"Test (Reserved for future use)",7:"Manual Card Entry",9:"Wait Cardholder Entry",10:"Chip Card",11:"ICC Kernel Test",12:"EMV Transaction",13:"Show PAN"}),this.pinKeyStatusEnum=Object.freeze({"00":"PIN Key OK","01":"PIN Key Exhausted",10:"No PIN Key",11:"PIN Key Not Bound"}),this.msrKeyStatusEnum=Object.freeze({"00":"MSR Key OK","01":"MSR Key Exhausted",10:"No MSR Key",11:"MSR Key Not Bound"}),this.cardDataIds=Object.freeze({1:"track1",2:"track2",3:"track3",4:"encryptedTrack1",5:"encryptedTrack2",6:"encryptedTrack3",7:"magnePrint",64:"encryptedPanAndExp",65:"serialNumber",99:"ksnAndMagnePrintStatus",100:"CBC-MAC"}),this.cardholderStatusIds=Object.freeze({1:"Waiting for amount confirmation selection",2:"Amount confirmation selected",3:"Waiting for multi-payment ICC Application selection",4:"ICC Application selected",7:"Waiting for language selection",8:"Language selected",9:"Waiting for credit/debit selection",10:"Credit/Debit selected",11:"Waiting for Pin Entry for ICC",12:"PIN entered for ICC",13:"Waiting for Pin Entry for MSR",14:"PIN entered for MSR"}),this.bufferTypes=Object.freeze({2:"Device Certificate",50:"Set BIN (MAC)",66:"CSR",161:"EMV data in TLV format, Tag Data (MAC)",162:"RESERVED",163:"RESERVED",164:"EMV data in TLV format, Authorization Request (ARQC)",165:"CA Public Key (MAC)",171:"EMV data in TLV format, Batch Data"}),this.cardDataObj={},this.arqcArriving=!1,this.batchDataArriving=!1,this.arqcTotalLen=0,this.batchTotalLen=0,this.statusEnum=Object.freeze({ok:0,empty:1,error:2,disabled:3}),this.convertStatusToString=Object.freeze({0:"Ok",1:"Empty",2:"Error",4:"Disabled"})}};function K(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var G=class extends z{constructor(e,t){super(e,t),K(this,"getCardService",()=>new Promise((e,t)=>this.device?this.connectAndCache(2).then(e=>(this.logDeviceState(`[GATT]: Cache AppDataToHostLength Characteristic || ${new Date}`),e.getCharacteristic(this.deviceToHostLen))).then(e=>(this.logDeviceState(`[GATT]: Begin notifications on AppDataToHostLength Characteristic || ${new Date}`),e.startNotifications())).then(e=>(this.logDeviceState(`[GATT]: Add listener to notifications || ${new Date}`),e.removeEventListener("characteristicvaluechanged",this.dataWatcher),e.addEventListener("characteristicvaluechanged",this.dataWatcher),this.cardDataListener=e,this.logDeviceState(`[GATT]: Cache AppDataToHost Characteristic || ${new Date}`),this.cardService.getCharacteristic(this.deviceToHostData))).then(e=>(this.receiveDataChar=e,this.logDeviceState(`[GATT]: Cache AppDataFromHostLength Characteristic || ${new Date}`),this.cardService.getCharacteristic(this.deviceFromHostLen))).then(e=>(this.sendLenToDevice=e,this.logDeviceState(`[GATT]: Cache AppDataFromHost Characteristic || ${new Date}`),this.cardService.getCharacteristic(this.deviceFromHostData))).then(e=>(this.commandCharacteristic=e,window&&(window.removeEventListener("beforeunload",this.onDestroyHandler),window.addEventListener("beforeunload",this.onDestroyHandler)),this.logDeviceState(`[GATT]: Successfully cached all GATT services and characteristics. Returning successful pair to user || ${new Date}`),this.delayPromise(400))).then(()=>e({code:0,message:"Device Open"})).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(E)))),K(this,"dataWatcher",e=>{let t=e.target.value.getUint8(0);return this.logDeviceState(`[NOTIFY: AppDataToHostLength]: ${this.convertArrayToHexString([t])} || ${new Date}`),this.commandSent&&3===t?(this.commandRespAvailable=!0,void(this.commandSent=!1)):this.readCommandResp()}),K(this,"readCommandResp",()=>new Promise((e,t)=>this.receiveDataChar?this.receiveDataChar.readValue().then(e=>this.readValueHandler(e)).then(t=>e(t)).catch(i=>i.code===v.code&&i.message===v.message?(this.logDeviceState(`[INFO]: Read failed due to device being busy. Attempting read again || ${new Date}`),this.delayPromise(100).then(()=>e(this.readCommandResp()))):t(this.buildDeviceErr(i))):t(this.buildDeviceErr(N)))),K(this,"readValueHandler",e=>new Promise(t=>{const i=this.readByteArray(e);if(this.logDeviceState(`[READ: AppDataToHost]: ${this.convertArrayToHexString(i)} || ${new Date}`),i.length)switch(i[0]){case this.reportIds.responseAck:return t(this.parseAckResponse(i));case this.reportIds.deviceStateReport:return t(this.handleDeviceStateReport(i));case this.reportIds.cardStatusReport:return t(this.handleCardStatusReport(i));case this.reportIds.cardDataReport:return t(this.handleCardDataReport(i));case this.reportIds.emvCardholderStatus:return t(this.handleCardholderStatusReport(i));case this.reportIds.emvCompletion:return t(this.handleEmvCompletion(i));case this.reportIds.bigBlockData:return t(this.handleBigBlockData(i));case this.reportIds.getKsn:return t(this.formatKsnAndSn(i));case this.reportIds.requestSn:return t(this.formatSerialNumber(i));case this.reportIds.deviceConfig:return t(this.parseDeviceConfiguration(i));case this.reportIds.pinResponse:return t(this.transactionCallback(this.parsePinResponse(pinResp)));case this.reportIds.selectionResponse:return t(this.parseCardholderResponse(i));case this.reportIds.displayResp:return t(this.transactionStatusCallback(this.findOperationStatus(i[1])));default:return this.logDeviceState(`[Data Resp]: There is no parser for this data, returning to caller: ${this.convertArrayToHexString(i)} || ${new Date}`),t(this.transactionCallback(i))}else t(i)})),K(this,"handleEmvCompletion",e=>(console.log("[!] EMV Completion: ",e),this.transactionStatusCallback(this.parseEmvCompletion(e)))),K(this,"handleBigBlockData",e=>{switch(e[2]){case 0:this.handleBigBlockBegin(e);break;case 99:this.maxBlockId=Math.max(...Object.keys(this.rawData))+1,this.handleBigBlockFinish();break;default:this.rawData={...this.rawData,[e[2]]:e.slice(4)}}}),K(this,"handleCardholderStatusReport",e=>this.transactionStatusCallback(this.parseEmvCardholderInteractionStatus(e))),K(this,"handleCardStatusReport",e=>new Promise(t=>(this.transactionStatusCallback(this.parseCardStatusReport(e)),this.swipeHasBegun||this.transactionHasStarted?this.sendCommandWithResp(this.swipeHasBegun?[1,10,0]:[1,171,0]).then(e=>t(this.transactionStatusCallback(e))).catch(e=>this.sendErrToCallback(this.buildDeviceErr(e))):t()))),K(this,"handleDeviceStateReport",e=>{this.dataGathered&&(this.dataGathered=!1,this.transactionCallback({swipeData:this.cardDataObj})),this.transactionStatusCallback(this.parseDeviceStateReport(e))}),K(this,"handleCardDataReport",e=>{this.swipeHasBegun&&(this.swipeHasBegun=!1,this.dataGathered=!0),3!==e.length?this.parseCardData(e):(this.logDeviceState("[ERROR] Undocumented Card Data below"),this.logDeviceState(e))}),K(this,"requestCardSwipe",e=>new Promise((t,i)=>(this.swipeHasBegun=!0,this.cardDataObj={},this.device.gatt.connected?this.sendCommandWithResp(this.clearSessionCmd).then(t=>(this.transactionStatusCallback(t),this.sendCommandWithResp(this.buildSwipeCommand(e||{})))).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(B))))),K(this,"buildSwipeCommand",e=>{let{timeout:t,isFallback:i,toneChoice:a,displayType:s}=e;return[1,3,t||60,!0===i?4:void 0!==s?this.displayTypes[s.toLowerCase()]:2,void 0!==a?this.toneChoice[a.toLowerCase()]:1]}),K(this,"startTransaction",e=>new Promise((t,i)=>(this.transactionHasStarted=!0,this.cardDataObj={},this.logDeviceState(`[INFO]: EMV transaction begun || ${new Date}`),this.device.gatt.connected?this.sendCommandWithResp(this.clearSessionCmd).then(e=>(this.transactionStatusCallback(e),Promise.resolve())).then(()=>this.sendCommandWithResp(this.buildEmvCommand(e||{}))).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(B))))),K(this,"buildEmvCommand",e=>{let{timeout:t,pinTimeout:i,cardType:a,transactionType:s,cashBack:r,currencyCode:n,toneChoice:o,isQuickChip:c,authorizedAmount:h,emvOptions:d}=e;this.isQuickChipTransaction=!1!==c;let l=[1,162,t||60,i||20,0,void 0!==o&&this.toneChoice[o.toLowerCase()]||1,a?this.cardTypes(a.toLowerCase()):this.cardTypes("all"),void 0!==d?this.emvOptions[d.toLowerCase()]:0];return l=void 0!==h?l.concat(this.convertNumToAmount(h)):l.concat([0,0,0,0,1,0]),l=void 0!==s?l.concat(this.transactionTypes[s.toLowerCase()]):l.concat(0),l=void 0!==r?l.concat(this.convertNumToAmount(r)):l.concat(this.newArrayPartial(0,6)),l=l.concat(this.newArrayPartial(0,12)),l=n?l.concat(this.currencyCode[n.toLowerCase()]||this.currencyCode.default):l.concat(this.currencyCode.dollar),l.push(0),l.push(this.isQuickChipTransaction?1:0),l=l.concat(this.newArrayPartial(0,28)),l}),K(this,"requestPinEntry",e=>new Promise((t,i)=>(this.logDeviceState(`[PIN]: Request for PIN entry start || ${new Date}`),console.log("pinoptions: ",e),this.device.gatt.connected?this.sendCommandWithResp(this.buildPinCommand(e||{})).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(B))))),K(this,"buildPinCommand",e=>{let{languageSelection:t,displayType:i,timeout:a,maxPinLength:s,minPinLength:r,toneChoice:n,waitMessage:o,verifyPin:c,pinBlockFormat:h}=e;const d=Object.freeze({enterpin:0,enterpinamount:1,reenterpinamount:2,reenterpin:3,verifypin:4}),l=[1,4,a||30,i&&d[i.toLowerCase()]||0,this.findPinLength(s,r),void 0!==n?this.toneChoice[n.toLowerCase()]:1,this.buildPinOptionsByte(t,o,c,h)];return console.log("[PIN CMD] Built PIN Command: ",l),l}),K(this,"buildArpcCommand",(e,t)=>new Promise((i,a)=>{this.sendBigBlockData(164,e,t).then(()=>i([1,164,...this.newArrayPartial(0,10)])).catch(e=>a(e))})),K(this,"sendBigBlockData",(e,t,i)=>new Promise((a,s)=>{let r=[1,16,e,0,255&t];if(t<60){r=r.concat(...this.newArrayPartial(0,60)),this.logDeviceState(`[Send Big Block Data Legacy]: ${this.convertArrayToHexString(r)}`);let n=[1,16,e,1,t,...i];return n.length<65&&(n=n.concat(...this.newArrayPartial(0,65-n.length))),this.sendPinCommand(r).then(e=>this.sendPinCommand(n)).then(()=>a()).catch(e=>s(this.buildDeviceErr(e)))}this.sendExtendedBigBlockData(e,t,i,r).then(()=>a())})),K(this,"sendExtendedBigBlockData",(e,t,i,a)=>new Promise((s,r)=>{const n=Math.ceil(t/60);let o=!1,c=[];a=a.concat([t>>8&255,t>>16&255,t>>24&255,1,...this.newArrayPartial(0,56)]),this.logDeviceState(`[Send Big Block Data Extended]: ${this.convertArrayToHexString(a)} || ${new Date}`);const h=()=>new Promise((e,t)=>{if(o)return this.delayPromise(500).then(()=>e(h()));const i=c.shift();return i?(o=!0,i.queuedPromise().then(()=>i.resolve()).then(()=>(o=!1,e(h()))).catch(e=>{o=!1,t(i.reject(e))})):e(!0)}),d=e=>new Promise((t,i)=>{c.push({queuedPromise:e,resolve:t,reject:i})});d(()=>new Promise(e=>this.sendPinCommand(a).then(()=>e())));for(let t=0,a=1;a<=n;a++){let s=i.slice(t,t+60),r=[1,16,e,a,s.length,...s];65!==r.length&&(r=r.concat(...this.newArrayPartial(0,65-r.length))),d(()=>new Promise(e=>this.sendPinCommand(r).then(()=>e())))}return this.logDeviceState(`[Send Big Block Data Extended]: Executing queue of ${c.length} commands || ${new Date}`),h().then(e=>s(e)).catch(e=>r(e))})),K(this,"sendArpc",e=>new Promise((t,i)=>this.sendArpcBase(e).then(e=>this.delayPromise(200,e)).then(e=>(console.log("passed through command: ",e),this.sendCommandWithResp(e))).then(e=>(this.logDeviceState(`[Send ARPC Result]: ${this.convertArrayToHexString(e)}`),t(e))).catch(e=>i(this.buildDeviceErr(e))))),K(this,"sendPinCommand",e=>new Promise((t,i)=>(this.logDeviceState(`[AppFromHostLength]: ${this.convertArrayToHexString([e.length])} || ${new Date}`),this.sendLenToDevice?this.sendLenToDevice.writeValue(Uint8Array.of(e.length)).then(()=>(this.logDeviceState(`[AppFromHostData]: ${this.convertArrayToHexString(e)} || ${new Date}`),this.commandSent=!0,t(this.commandCharacteristic.writeValue(Uint8Array.from(e))))).catch(e=>(this.commandSent=!1,i(e))):i(this.buildDeviceErr(O))))),K(this,"sendCommandWithResp",e=>new Promise((t,i)=>this.sendPinCommand(e).then(()=>this.commandRespAvailable?Promise.resolve(!0):this.waitForDeviceResponse(16)).then(t=>t?this.readCommandResp():this.tryCommandAgain(e)).then(e=>(this.commandRespAvailable=!1,t(e))).catch(e=>(this.commandRespAvailable=!1,i(this.buildDeviceErr(e)))))),K(this,"tryCommandAgain",e=>new Promise((t,i)=>this.sendPinCommand(e).then(()=>this.waitForDeviceResponse(5)).then(e=>e?t(this.readCommandResp()):i(this.buildDeviceErr(x))))),K(this,"cancelTransaction",()=>new Promise((e,t)=>this.commandCharacteristic?this.sendCommandWithResp([1,5,0]).then(t=>e(t)).catch(e=>t(e)):t(this.buildDeviceErr(I)))),K(this,"clearSession",()=>new Promise((e,t)=>(this.logDeviceState(`[ClearSession]: Request to clear session || ${new Date}`),this.sendLenToDevice?this.sendCommandWithResp(this.clearSessionCmd).then(t=>(this.transactionStatusCallback(t),this.logDeviceState(`[ClearSession]: Received clear session response || ${new Date}`),e(t))).catch(e=>t(this.buildDeviceErr(e))):e(m)))),K(this,"closePinDevice",()=>new Promise((e,t)=>this.cardDataListener?this.cardDataListener.stopNotifications().then(()=>(this.logDeviceState(`[Close Device]: GATT notifications stopped. Clearing JS cache || ${new Date}`),this.cardDataListener.removeEventListener("characteristicvaluechanged",this.dataWatcher),this.cardDataListener=null,this.clearGattCache(),e(this.disconnect()))).catch(e=>t(e)):this.disconnect().then(()=>(this.logDeviceState(`[Close Device]: Device Closed. Clearing JS cache || ${new Date}`),this.clearGattCache(),e())).catch(e=>t(e)))),K(this,"closeDevice",()=>new Promise((e,t)=>this.device.gatt.connected?this.clearSession().then(()=>this.closePinDevice()).then(()=>e(p)).catch(e=>(this.disconnect(),t(this.buildDeviceErr(e)))):e(p))),K(this,"clearGattCache",()=>{this.transactionHasStarted=!1,this.receiveDataChar=null,this.commandCharacteristic=null,this.sendLenToDevice=null,this.commandSent=!1,this.commandRespAvailable=!1,this.swipeHasBegun=!1,this.dataGathered=!1,this.isQuickChipTransaction=!0}),this.transactionCallback=t.transactionCallback||t,this.transactionStatusCallback=t.transactionStatusCallback,this.deviceFromHostLen="0508e6f8-ad82-898f-f843-e3410cb60220",this.deviceFromHostData="0508e6f8-ad82-898f-f843-e3410cb60221",this.deviceToHostLen="0508e6f8-ad82-898f-f843-e3410cb60222",this.deviceToHostData="0508e6f8-ad82-898f-f843-e3410cb60223",this.cardDataListener=null,this.receiveDataChar=null,this.commandCharacteristic=null,this.sendLenToDevice=null,this.commandSent=!1,this.swipeHasBegun=!1,this.transactionHasStarted=!1,this.dataGathered=!1,this.isQuickChipTransaction=!0,this.emvOptions=Object.freeze({normal:0,bypasspin:1,forceonline:2,acquirernotavailable:4}),this.displayTypes=Object.freeze({swipeidlealternate:0,swipecard:1,pleaseswipe:2,pleaseswipeagain:3,chiperroruseswipe:4}),this.reportIds=Object.freeze({responseAck:1,endSession:2,requestCardSwipe:3,cardStatusReport:34,deviceStateReport:32,cardDataReport:35,emvCardholderStatus:44,bigBlockData:41,emvCompletion:162,getKsn:48,requestSn:26,deviceConfig:9,pinResponse:36,selectionResponse:37,displayResp:39}),this.toneChoice=Object.freeze({nosound:0,onebeep:1,twobeeps:2}),this.initialNotification=[0],this.clearSessionCmd=[1,2,0]}};function V(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _=class extends G{constructor(e,t){super(e,t),V(this,"getDeviceInfo",()=>new Promise((e,t)=>this.device?this.gatherDeviceInfo().then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(E)))),V(this,"gatherDeviceInfo",()=>new Promise((e,t)=>{this.checkIfDeviceIdle().then(()=>this.getDeviceInfoProceed()).then(t=>e({...t,deviceName:this.device.name,isConnected:this.device.gatt.connected})).catch(e=>t(e))})),V(this,"getDeviceInfoBase",()=>new Promise(e=>{this.sendCommandWithResp([1,26,5]).then(t=>e(t))})),V(this,"getDeviceInfoProceed",()=>new Promise((e,t)=>{this.sendPinCommand([0,26,5]).then(()=>this.getSerialNumber||this.waitForSn(5)).then(e=>e?Promise.resolve():t(this.buildDeviceErr(x))).then(()=>{let t={serialNumber:this.hexToAscii(this.requestedSn.serialNumber)};return this.getSerialNumber=!1,this.requestedSn=null,e(t)}).catch(e=>t(e))})),V(this,"checkIfDeviceIdle",()=>new Promise(e=>{this.getDeviceInfoBase().then(t=>"Device not idle"===t.message?this.clearSession().then(()=>this.getDeviceInfoBase()):(this.transactionStatusCallback(t),e())).then(t=>(this.transactionStatusCallback(t),e()))})),V(this,"waitForSn",e=>new Promise(t=>{let i=a=>a<e?this.getSerialNumber?t(!0):setTimeout(()=>i(a+1),200):t(!1);i(0)})),this.getKsnAvailable=!1,this.requestedKsn=null,this.getSerialNumber=!1,this.requestedSn=null,this.deviceType=l}};function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Y=class extends G{constructor(e,t){super(e,t),Q(this,"setDisplayMessage",e=>new Promise((t,i)=>this.device&&this.device.gatt.connected?this.buildDisplayCmd(e||{}).then(e=>this.sendCommandWithResp(e)).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(B)))),Q(this,"buildDisplayCmd",e=>{let{displayTime:t,messageId:i}=e;return new Promise((e,a)=>{return void 0===i?a((s="messageId",Object.freeze({code:1014,name:"MissingRequiredParameter",message:`'${s}' is required to call this function.`}))):e([1,7,void 0!==t?t:15,i]);var s})}),Q(this,"getDeviceInfo",()=>new Promise((e,t)=>this.device?this.gatherDeviceInfo().then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(E)))),Q(this,"gatherDeviceInfo",()=>new Promise((e,t)=>{this.checkIfDeviceIdle().then(()=>this.getDeviceInfoProceed()).then(t=>e({...t,deviceName:this.device.name,isConnected:this.device.gatt.connected})).catch(e=>t(e))})),Q(this,"getDeviceInfoBase",()=>new Promise(e=>{this.sendCommandWithResp([1,26,5]).then(t=>e(t))})),Q(this,"getDeviceInfoProceed",()=>new Promise((e,t)=>{this.sendPinCommand([0,26,5]).then(()=>this.getSerialNumber?Promise.resolve(!0):this.waitForSn(5)).then(e=>e?Promise.resolve():t(this.buildDeviceErr(x))).then(()=>{let t={serialNumber:this.hexToAscii(this.requestedSn.serialNumber)};return this.getSerialNumber=!1,this.requestedSn=null,e(t)}).catch(e=>t(e))})),Q(this,"checkIfDeviceIdle",()=>new Promise(e=>{this.getDeviceInfoBase().then(t=>"Device not idle"===t.message?this.clearSession().then(()=>this.getDeviceInfoBase()):(this.transactionStatusCallback(t),e())).then(t=>(this.transactionStatusCallback(t),e()))})),Q(this,"waitForSn",e=>new Promise(t=>{let i=a=>a<e?this.getSerialNumber?t(!0):setTimeout(()=>i(a+1),200):t(!1);i(0)})),this.getKsnAvailable=!1,this.requestedKsn=null,this.getSerialNumber=!1,this.requestedSn=null,this.deviceType="dynaProGo"}};function J(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var X=class extends j{constructor(e,t){super(e,t),J(this,"trackIndices",e=>Object.freeze({track1DecodeStatus:e,track2DecodeStatus:e+1,track3DecodeStatus:e+2,track1Len:e+3,track2Len:e+4,track3Len:e+5,cardEncodeType:e+6,track1Start:e+7,track1End:e+118,track2Start:e+119,track2End:e+230,track3Start:e+231,track3End:e+342,cardStatus:e+343,magnePrintStatusStart:e+344,magnePrintStatusEnd:e+347,magnePrintLen:e+348,magnePrintStart:e+349,magnePrintEnd:e+476,serialNumberStart:e+477,serialNumberEnd:e+492,deviceEncStatusStart:e+493,deviceEncStatusEnd:e+494,ksnStart:e+495,ksnEnd:e+504,track1MaskedLen:e+505,track2MaskedLen:e+506,track3MaskedLen:e+507,track1MaskedStart:e+508,track1MaskedEnd:e+619,track2MaskedStart:e+620,track2MaskedEnd:e+731,track3MaskedStart:e+732,track3MaskedEnd:e+843,encSessionIdStart:e+844,encSessionIdEnd:e+851,track1AbsLen:e+852,track2AbsLen:e+853,track3AbsLen:e+854,magnePrintAbsLen:e+855})),J(this,"parseHidData",e=>{let t=this.trackIndices(this.offset),i={};return this.dataNames.forEach(a=>{let s=e.slice(t[`${a}Start`],t[`${a}End`]+1);t.hasOwnProperty(`${a}Len`)&&(s=s.slice(0,e[t[`${a}Len`]])),i="track2Masked"===a?this.formatTrack2Masked(i,a,this.bufferToUtf8(s)):t.hasOwnProperty(`${a}DecodeStatus`)?this.formatTrackWithDecode(i,a,e[t[`${a}DecodeStatus`]],this.convertArrayToHexString(s)):"serialNumber"===a?this.formatSerialNumber(i,s):{...i,[a]:a.toLowerCase().includes("masked")?this.bufferToUtf8(s):this.convertArrayToHexString(s)}}),{swipeData:{...i}}}),J(this,"formatSerialNumber",(e,t)=>({...e,serialNumber:this.bufferToUtf8(t.length>7?t.slice(0,7):t)})),J(this,"formatTrack2Masked",(e,t,i)=>({...e,[t]:i,...this.formatExpPAN(i)})),J(this,"formatTrackWithDecode",(e,t,i,a)=>({...e,[t]:a,[`${t}DecodeStatus`]:0===i?"Ok":"Error",[`${t}DecodeStatusCode`]:i})),this.dataNames=["track1","track2","track3","ksn","magnePrint","magnePrintStatus","serialNumber","encSessionId","track1Masked","track2Masked","track3Masked"],this.offset=3}};function Z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ee=class extends X{constructor(e,t){super(e,t),Z(this,"parseTransactionStatus",e=>{let t=this.readTwoByteLength([e[1],e[2]]),i=e.slice(3);return i.length===t?this.parseNotifications(i):this.throwLenErr()}),Z(this,"parseNotifications",e=>{let t=e.slice(6),i=this.readTwoByteLength([t[0],t[1]]),a=t.slice(2),s=a[0],r=a[2];return a.length===i?{transactionStatus:{statusCode:s,statusMsg:this.TrxStatusEnum[s]||"Status code message not documented",progressCode:r,progressMsg:this.TrxProgressIndicator[r]||"Progress code message not documented"}}:this.throwLenErr()}),this.TrxStatusEnum=Object.freeze({0:"Transaction Started and Idle",1:"Card is Inserted",2:"Error",3:"Transaction Progress Change",4:"Waiting for User Response",5:"Timed Out",6:"Transaction Complete",7:"Cancelled by Host",8:"Card Removed",9:"Contactless Token Detected, Powering Up Card",10:"MSR Swipe Detected"}),this.TrxProgressIndicator=Object.freeze({0:"No transaction in progress",1:"Waiting for cardholder to present payment",2:"Powering up the card",3:"Selecting the application",4:"Waiting for user language selection",5:"Waiting for user application selection",6:"Initiating application",7:"Reading application data",8:"Offline data authentication",9:"Process restrictions",10:"Cardholder verification",11:"Terminal risk management",12:"Terminal action analysis",13:"Generating first application cryptogram",14:"Card action analysis",15:"Online processing",16:"Waiting online processing response",17:"Transaction Complete",18:"Transaction Error",19:"Transaction Approved",20:"Transaction Declined",21:"Transaction Cancelled by MSR Swipe",22:"EMV error - Conditions Not Satisfied",23:"EMV error - Card Blocked",24:"Application selection failed",25:"EMV error - Card Not Accepted",26:"Empty Candidate List",27:"Application Blocked",41:"Contactless Remove Card",42:"Collision Detected",43:"Refer to Mobile Device Prompt",44:"Contactless Transaction Complete",45:"Request Switch to ICC/MSR - Kernel has refused contactless payment",46:"Wrong Card Type (MSD or EMV)",47:"No Application Interchange Profile (Tag 82) Received",49:"Magnetic stripe decoding error.",60:"Magnetic stripe decoding during Technical Fallback. Revert to MSR, powering up but not receiving an Answer to Reset from card.",61:"Magnetic stripe card decoded during MSR Fallback. Device reverted to MSR, but encountered fatal errors.",62:"Magnetic stripe card decoded during a No Fallback MSR read."})}};function te(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ie=class extends ee{constructor(e,t){super(e,t),te(this,"parseEmvData",(e,t)=>t?{arqcData:this.convertArrayToHexString(e.slice(11)),arqcDataParsed:this.tlvParser(e.slice(13),!0)}:{signatureRequired:128===e[11]?"CBC-MAC checked in ARQC online response":1===e[11],batchData:this.convertArrayToHexString(e.slice(11)),batchDataParsed:this.tlvParser(e.slice(14),!0)}),te(this,"parseEmvCommandResponse",e=>{const t=e.slice(4,6);return parseInt(t.join(""))?{code:parseInt(this.convertArrayToHexString(t),16),name:"StartTransactionError",message:this.emvResultCodes[t[1]]||"Transaction Error Message not yet documented"}:{code:0,message:"Success, transaction has started"}}),te(this,"parseUserSelectionRequest",e=>({userSelectionRequest:{selectionType:0===e[0]?"Application Selection":"Language Selection",timeRemaining:e[1],menuItems:this.convertArrayToHexString(e.slice(2))}})),this.emvResultCodes=Object.freeze({129:"Failure, DUKPT scheme is not loaded",130:"Failure, DUKPT scheme is loaded but all of its keys have been used",131:"Failure, DUKPT scheme is not loaded (Security Level not 3 or 4)",132:"Invalid Total Transaction Time Field",133:"Invalid Card Type Field",134:"Invalid Options Field",135:"Invalid Amount Authorized Field",136:"Invalid Transaction Type Field",137:"Invalid Cash Back Field",138:"Invalid Transaction Currency Code Field",142:"Invalid Reporting Option",143:"Transaction Already In Progress",145:"Invalid Device Serial Number",150:"Invalid System Date and Time"})}};function ae(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var se=class extends ie{constructor(e,t){super(e,t),ae(this,"getCardServiceBase",e=>new Promise((t,i)=>this.device?this.connectAndCache(e).then(e=>e.getCharacteristic(this.cardDataNotification)).then(e=>(this.logDeviceState(`[GATT NOTIFICATIONS]: Request to cache characteristics, start notifications, and attach listeners. || ${new Date}`),e.startNotifications())).then(e=>(e.removeEventListener("characteristicvaluechanged",this.cardDataHandler),e.addEventListener("characteristicvaluechanged",this.cardDataHandler),this.cardDataListener=e,Promise.resolve())).then(()=>this.cardService.getCharacteristic(this.commandCharId)).then(e=>(this.commandCharacteristic=e,window&&(window.removeEventListener("beforeunload",this.onDestroyHandler),window.addEventListener("beforeunload",this.onDestroyHandler)),Promise.resolve())).then(()=>this.cardService.getCharacteristic(this.dataReadyId)).then(e=>e.startNotifications()).then(e=>(e.removeEventListener("characteristicvaluechanged",this.dataReadyHandler),e.addEventListener("characteristicvaluechanged",this.dataReadyHandler),this.dataReadyCharacteristic=e,Promise.resolve())).then(()=>this.cardService.getCharacteristic(this.dataReadStatusId)).then(e=>(this.dataReadStatusCharacteristic=e,this.logDeviceState(`[GATT NOTIFICATIONS]: Success! Cached characteristics, started notifications, and attached listeners. || ${new Date}`),t({code:0,message:"Device Open"}))).catch(e=>i(e)):i(this.buildDeviceErr(E)))),ae(this,"dataReadyHandler",e=>{let t=e.target.value,i=this.readByteArray(t);this.logDeviceState(`dataReady listener: ${this.convertArrayToHexString(i)}`),this.commandSent&&(this.commandRespAvailable=!0,this.commandSent=!1)}),ae(this,"cardDataHandler",e=>{let t=e.target.value;if(255!==t.getUint8(0)){let e=this.readByteArray(t);this.rawData={...this.rawData,[e[0]]:e.slice(1)}}else{if(this.maxBlockId=t.getUint8(1),this.checkNotificationLength()){if(this.initialNotification=this.rleFormats[this.rawData[0][0]]?this.decodeRLE(this.rawData[0]):this.rawData[0],this.logDeviceState(this.rawData),0===this.initialNotification[0]||1===this.initialNotification[0])return this.returnToUser(this.transactionCallback)(this.parseHidData(this.buildInitialDataArray(!0)));{let e=this.convertArrayToHexString([this.initialNotification[7],this.initialNotification[8]]);return this.findNotificationType(e)}}this.sendErrToCallback(this.throwLenErr())}}),ae(this,"findNotificationType",e=>{let t=this.buildInitialDataArray(!0);switch(e){case"0300":return this.logDeviceState("==Transaction Status=="),this.returnToUser(this.transactionStatusCallback)(this.parseTransactionStatus(t));case"0301":return this.logDeviceState("==Display Message Request=="),this.returnToUser(this.displayCallback)({displayMessage:this.bufferToUtf8(t.slice(11))});case"0302":return this.logDeviceState("==User Selection Request=="),this.logDeviceState(this.convertArrayToHexString(t)),this.returnToUser(this.transactionStatusCallback)(this.parseUserSelectionRequest(buildNotification));case"0303":return this.logDeviceState("==ARQC Message=="),this.returnToUser(this.transactionCallback)(this.parseEmvData(t,!0));case"0304":return this.logDeviceState("==Batch Data Message=="),this.returnToUser(this.transactionCallback)(this.parseEmvData(t,!1));default:this.logDeviceState(`Undocumented Notification ID: ${e}`,t),this.logDeviceState(this.convertArrayToHexString(t))}}),ae(this,"startTransaction",e=>new Promise((t,i)=>this.device.gatt.connected?this.sendCommandWithResp(this.buildEmvCommand(e||{})).then(a=>{let s=this.parseEmvCommandResponse(a);return this.logDeviceState(s),0===s.code?t(s):918!==s.code?i(this.buildDeviceErr(s)):this.setDeviceDateTime().then(()=>this.delayPromise(500)).then(()=>t(this.startTransaction(e)))}).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(B)))),ae(this,"buildEmvCommand",e=>{let{timeout:t,cardType:i,transactionType:a,cashBack:s,currencyCode:r,reportVerbosity:n,emvOptions:o,authorizedAmount:c}=e;console.log(`timeout: ${t} || cardType: ${i} || transactionType: ${a} || emvOptions: ${o} || authorizedAmount: ${c} || cashBack: ${s} || currencyCode: ${r} || reportVerbosity: ${n}`);let h=[...this.emvCommandBase,t||60,i?this.cardTypes(i.toLowerCase()):3,void 0!==o?this.emvOptions[o.toLowerCase()]:128];return console.log("base command: ",h),h=c?h.concat(this.convertNumToAmount(c)):h.concat([0,0,0,0,1,0]),h=a?h.concat(this.transactionTypes[a.toLowerCase()]||0):h.concat(0),h=s?h.concat(this.convertNumToAmount(s)):h.concat(this.newArrayPartial(0,6)),h=r?h.concat(this.currencyCode[r.toLowerCase()]||this.currencyCode.default):h.concat([8,64]),h.push(n?this.statusVerbosity[n.toLowerCase()]||0:1),h}),ae(this,"readCommandValue",()=>new Promise(e=>this.commandCharacteristic.readValue().then(t=>e(this.readByteArray(t))))),ae(this,"readBatteryLevel",()=>new Promise(e=>this.sendCommandWithResp([69,0]).then(t=>e(t[2])))),ae(this,"checkNotificationLength",()=>Math.max(...Object.keys(this.rawData))===this.maxBlockId-1),ae(this,"sendCommandWithResp",e=>new Promise((t,i)=>this.commandCharacteristic?(this.logDeviceState(`Sending command: ${this.convertArrayToHexString(e)}`),this.commandSent=!0,this.commandCharacteristic.writeValue(Uint8Array.from(e)).then(()=>this.commandRespAvailable?Promise.resolve(!0):this.waitForDeviceResponse(15)).then(e=>(this.commandRespAvailable=!1,e?this.readCommandValue():i(this.buildDeviceErr(x)))).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e)))):i(this.buildDeviceErr(I)))),ae(this,"returnToUser",e=>t=>(this.initialNotification=null,this.maxBlockId=null,this.rawData={},e(t))),ae(this,"buildDateTimeCommand",e=>{let t=[73,34,0,0,3,12,0,28];t=t.concat(this.newArrayPartial(0,17));const i=e instanceof Date?e:new Date;return t.push(this.castDecToHex(i.getMonth()+1)),t.push(this.castDecToHex(i.getDate())),t.push(this.castDecToHex(i.getHours())),t.push(this.castDecToHex(i.getMinutes())),t.push(this.castDecToHex(i.getSeconds())),t.push(0),t.push(this.castDecToHex(i.getFullYear()-2008)),t=t.concat(this.newArrayPartial(0,4)),t}),ae(this,"setDeviceDateTime",e=>new Promise((t,i)=>this.sendCommandWithResp(this.buildDateTimeCommand(e)).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e))))),ae(this,"getKsn",()=>new Promise((e,t)=>this.device.gatt.connected?this.sendCommandWithResp([9,0]).then(e=>this.convertArrayToHexString(e.slice(2))).then(t=>e(t)):t(this.buildDeviceErr(R)))),ae(this,"getDeviceSn",()=>new Promise(e=>this.sendCommandWithResp([0,1,3]).then(e=>this.bufferToUtf8(e.slice(2))).then(t=>e(t)))),ae(this,"gatherDeviceInfo",()=>new Promise((e,t)=>{let i,a;this.readBatteryLevel().then(e=>(i=e,this.getDeviceSn())).then(t=>(a=t,e([i,a]))).catch(e=>t(e))})),ae(this,"getDeviceInfo",()=>new Promise((e,t)=>this.device.gatt.connected?this.gatherDeviceInfo().then(t=>e({deviceName:this.device.name,deviceType:this.deviceType,batteryLevel:t[0],serialNumber:t[1],isConnected:this.device.gatt.connected})).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(B)))),ae(this,"sendUserSelection",e=>new Promise((t,i)=>this.device.gatt.connected?this.sendCommandWithResp([73,8,0,0,3,2,0,2,0,e]).then(e=>(this.logDeviceState(`[User Selection Resp]: ${this.convertArrayToHexString(e)}`),t({userSelectionResponse:this.resultCodes[this.convertArrayToHexString(e.slice(4,6))]||"Unknown or undocumented result code"}))).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(B)))),ae(this,"buildArpcCommand",(e,t)=>[73,e+6,0,0,3,3,0,e,...t]),ae(this,"sendArpc",e=>new Promise((t,i)=>this.sendArpcBase(e).then(e=>this.sendCommandWithResp(e)).then(e=>{this.logDeviceState(`[Send ARPC Resp]: ${this.convertArrayToHexString(e)}`);const i=e.length>5?this.convertArrayToHexString(e.slice(4,6)):"";return t({sendArpcResponse:this.resultCodes[i]||"Unknown or undocumented result code"})}).catch(e=>i(this.buildDeviceErr(e))))),ae(this,"clearGattCache",()=>{window&&window.removeEventListener("beforeunload",this.onDestroyHandler),this.maxBlockId=null,this.initialNotification=null,this.rawData={},this.dataReadStatusCharacteristic=null,this.dataReadyCharacteristic=null,this.commandCharacteristic=null,this.cardDataListener=null}),ae(this,"ceaseNotifications",()=>new Promise(e=>this.cardDataListener?this.cardDataListener.stopNotifications().then(()=>(this.cardDataListener.removeEventListener("characteristicvaluechanged",this.cardDataHandler),this.dataReadStatusCharacteristic.stopNotifications())).then(()=>(this.dataReadyCharacteristic.removeEventListener("characteristicvaluechanged",this.dataReadyHandler),e())):e())),ae(this,"cancelTransaction",()=>new Promise((e,t)=>this.commandCharacteristic?this.commandCharacteristic.writeValue(this.cancelEmvCommand).then(()=>e()).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(I)))),ae(this,"closeDevice",()=>new Promise((e,t)=>this.device.gatt.connected?this.ceaseNotifications().then(()=>(this.clearGattCache(),this.disconnect())).then(()=>e({code:0,message:"Device Closed"})).catch(e=>t(this.buildDeviceErr(e))):e({code:0,message:"Device Closed"}))),ae(this,"clearSession",()=>new Promise((e,t)=>this.device&&this.device.gatt.connected?e("SCRA devices do not carry a session"):t(this.buildDeviceErr(B)))),this.transactionCallback=t.transactionCallback||t,this.displayCallback=t.displayCallback,this.transactionStatusCallback=t.transactionStatusCallback,this.userSelectionCallback=t.userSelectionCallback,this.maxBlockId=null,this.initialNotification=null,this.rawData={},this.dataReadStatusCharacteristic=null,this.dataReadyCharacteristic=null,this.commandCharacteristic=null,this.cardDataListener=null,this.cardDataNotification="0508e6f8-ad82-898f-f843-e3410cb60201",this.commandCharId="0508e6f8-ad82-898f-f843-e3410cb60200",this.dataReadyId="0508e6f8-ad82-898f-f843-e3410cb60202",this.dataReadStatusId="0508e6f8-ad82-898f-f843-e3410cb60203",this.emvOptions=Object.freeze({normal:0,bypasspin:1,forceonline:2,quickchip:128,pinbypassquickchip:129,forceonlinequickchip:130}),this.resultCodes=Object.freeze({"0000":"Success","038B":"Invalid Selection Status","038C":"Invalid Selection Result","038D":"Failure, no transaction currently in progress","038F":"Failure, transaction already in progress"}),this.emvCommandBase=[73,25,0,0,3,0,0,19],this.cancelEmvCommand=Uint8Array.of(73,6,0,0,3,4,0,0)}};function re(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ne=class extends se{constructor(e,t){super(e,t),re(this,"getCardService",()=>new Promise((e,t)=>this.getCardServiceBase(1).then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))))),re(this,"requestCardSwipe",()=>new Promise((e,t)=>this.device.gatt.connected?e({code:0,message:d}):this.getCardServiceBase(1).then(()=>e({code:0,message:d})).catch(e=>t(this.buildDeviceErr(e))))),this.deviceType="eDynamo"}};function oe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ce=class extends se{constructor(e,t){super(e,t),oe(this,"getCardService",()=>new Promise((e,t)=>this.getCardServiceBase().then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))))),oe(this,"requestCardSwipe",()=>new Promise((e,t)=>this.device.gatt.connected?this.sendCommandWithResp(this.setHeadAlwaysOn).then(i=>0===parseInt(i)?e({code:0,message:d}):t(this.buildDeviceErr(M))).catch(e=>t(e)):this.getCardServiceBase().then(()=>this.sendCommandWithResp(this.setHeadAlwaysOn)).then(i=>0===parseInt(i)?e({code:0,message:d}):t(this.buildDeviceErr(M))).catch(e=>t(e)))),this.setHeadAlwaysOn=[88,1,1],this.deviceType="tDynamo"}};const he=e=>()=>Promise.resolve(`${e?"SCRA":"PinPad"} devices do not use this command`);class de{constructor(e){let{getCardService:t,startTransaction:i,cancelTransaction:a,sendCommandWithResp:s,clearSession:r,closeDevice:n,getDeviceInfo:o,requestCardSwipe:c,isDeviceConnected:h,disconnect:d,requestPinEntry:l,setDisplayMessage:u,sendUserSelection:m,sendArpc:v,setDeviceDateTime:p}=e;this.openDevice=t,this.startTransaction=i,this.cancelTransaction=a,this.sendCommand=s,this.clearSession=r,this.closeDevice=n,this.deviceInfo=o,this.requestCardSwipe=c,this.isDeviceOpen=h,this.forceDisconnect=d,this.requestPinEntry=l||he(!0),this.setDisplayMessage=u||he(!0),this.sendUserSelection=m||he(),this.sendArpcResponse=v||(()=>Promise.resolve("Feature Pending Completion")),this.setDeviceDateTime=p||he()}}const le={eDynamo:(e,t)=>new ne(e,t),tDynamo:(e,t)=>new ce(e,t),dynaProGo:(e,t)=>new Y(e,t),[l]:(e,t)=>new _(e,t)},ue=(e,t,i)=>({id:e.id,name:e.name,deviceType:i,deviceInterface:new de(le[i](e,t))}),me=new RegExp(/^eDynamo-/),ve=new RegExp(/^tDynamo-/),pe=new RegExp(/^DPMini/),ge=new RegExp(/^DPG/),fe=(e,t)=>{if(t){const e=(e=>{const t=["dynaProGo",l,"eDynamo","tDynamo"];let i="";for(let a=0;a<t.length;a++)if(e.toLowerCase()===t[a].toLowerCase()){i=t[a];break}return i})(t);if(console.log("[!!]: ",e),e)return e}return i=e,ve.test(i)?"tDynamo":me.test(i)?"eDynamo":ge.test(i)?"dynaProGo":pe.test(i)?l:"";var i},Ce=(e,t,i)=>new Promise((a,n)=>{if("object"==typeof e&&void 0===e.transactionCallback)return n("When providing multiple callbacks in an object, 'transactionCallback' must be provided");e=(e=>{const t="function"==typeof(e=e||(e=>{console.warn("Callback not provided to 'scanForDevices' function. Please provide at least one callback function to this method"),console.log("transactionCallback data: ",e)})),i=i=>e[i]?e[i]:t?e:e.transactionCallback;return e.errorCallback=e.errorCallback||(e=>console.error("[MagensaBluetooth Internal Error]: ",e)),e.transactionStatusCallback=e.transactionStatusCallback||i("transactionStatusCallback"),e.userSelectionCallback=e.userSelectionCallback||i("userSelectionCallback"),e.displayCallback=e.displayCallback||i("displayCallback"),e.disconnectHandler=e.disconnectHandler||i("transactionCallback"),e})(e);const o=t?(e=>({filters:[{namePrefix:e}],optionalServices:["0508e6f8-ad82-898f-f843-e3410cb60104","0508e6f8-ad82-898f-f843-e3410cb60103","0508e6f8-ad82-898f-f843-e3410cb60101","0508e6f8-ad82-898f-f843-e3410cb60202","device_information"],keepRepeatedDevices:!1,acceptAllAdvertisements:!1}))(t):r;return navigator.bluetooth.requestDevice(o).then(t=>{const s=fe(t.name,i);return s?a(ue(t,e,s)):(r=t,new Promise((e,t)=>{let i;return r.gatt.connect().then(e=>e.getPrimaryService("device_information")).then(e=>e.getCharacteristic("model_number_string")).then(e=>e.readValue()).then(e=>(i=new TextDecoder("utf-8").decode(e).trim(),Promise.resolve(r.gatt.disconnect()))).then(()=>e(i)).catch(i=>i.code===P.errorCode&&i.name===P.errorName&&i.message.includes("0000180a-0000-1000-8000-00805f9b34fb")?r.gatt.connected?Promise.resolve(r.gatt.disconnect()).then(()=>e("dynaProGo")):e("dynaProGo"):t(i))})).then(i=>i?a(ue(t,e,i)):n("Selected device is not supported")).catch(e=>n(e));var r}).catch(e=>n("object"==typeof e?new s(e):"Selected device is not supported"))})}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZXJyb3JIYW5kbGVyL2FwaUVycm9yLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2NvbmZpZ3VyYXRpb25zL2luZGV4LmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3BhcnNlcnMvc3dpcGVQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3BhcnNlcnMvZW12UGFyc2VyLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2Vycm9ySGFuZGxlci9sZW5ndGhFcnJvci5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9lcnJvckhhbmRsZXIvZGV2aWNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZXJyb3JIYW5kbGVyL2luZGV4LmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2Vycm9ySGFuZGxlci9lcnJDb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy9iYXNlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvdXRpbHMvcGluVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvcGFyc2Vycy9waW5Db25maWd1cmF0aW9uLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3BhcnNlcnMvcGluU3RhdHVzUGFyc2VyLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2RldmljZXMvcGluUGFkLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2RldmljZXMvZHluYVByb01pbmkuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy9keW5hUHJvR28uanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvcGFyc2Vycy9zY3JhU3dpcGVQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvcGFyc2Vycy90cnhTdGF0dXNQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvcGFyc2Vycy9zY3JhRW12UGFyc2VyLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2RldmljZXMvc2NyYS5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9kZXZpY2VzL2VEeW5hbW8uanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy90RHluYW1vLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3V0aWxzL2luc3RhbmNpYXRlRGV2aWNlLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3V0aWxzL2lkZW50aWZ5RGV2aWNlLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2RldmljZUVudHJ5LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcGlFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsInN1cGVyIiwidGhpcyIsImFsbERldmljZUNvbmZpZyIsImZpbHRlcnMiLCJzZXJ2aWNlcyIsIm9wdGlvbmFsU2VydmljZXMiLCJrZWVwUmVwZWF0ZWREZXZpY2VzIiwiYWNjZXB0QWxsQWR2ZXJ0aXNlbWVudHMiLCJVdGlsaXRpZXMiLCJsb2dJbmZvIiwibG9nRXZlbnQiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJkZXRhaWwiLCJkaXNwYXRjaEV2ZW50IiwiYXJyYXkiLCJBcnJheSIsImZyb20iLCJieXRlIiwidG9TdHJpbmciLCJzbGljZSIsImpvaW4iLCJ0b1VwcGVyQ2FzZSIsInR3b0J5dGVzIiwiYXJyYXlCdWZmZXIiLCJUZXh0RGVjb2RlciIsImRlY29kZSIsIlVpbnQ4QXJyYXkiLCJudW0iLCJwYXJzZUludCIsInJlcGV0aXRpb25zIiwiZmlsbCIsImRhdGFWaWV3IiwidmFsdWVBcnJheSIsImJ5dGVMZW5ndGgiLCJwdXNoIiwiZ2V0VWludDgiLCJoZXhTdHJpbmciLCJhc2NpaVJlc3AiLCJsZW5ndGgiLCJzdWJzdHIiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ0cmltIiwiaGV4U3RyIiwiYnl0ZXMiLCJjdXJyZW50IiwiYXJyYXlTZWdtZW50IiwicmV0dXJuU2VnbWVudCIsIm5leHRJbmRleCIsImluaXRpYWxMZW5ndGgiLCJuZXdBcnJheVBhcnRpYWwiLCJjaGVja0ZvclJsZSIsInJldHVybkFycmF5IiwiTWF0aCIsIm1pbiIsImtleXMiLCJyYXdEYXRhIiwibWF4QmxvY2tJZCIsImNvbmNhdCIsImNoZWNrUmxlIiwicmxlRm9ybWF0cyIsImluaXRpYWxOb3RpZmljYXRpb24iLCJkZWNvZGVSTEUiLCJjdXJyZW5jeVN0cmluZyIsImN1cnJlbmN5IiwidG9Mb3dlckNhc2UiLCJzdHJpbmdOdW0iLCJyZXR1cm5BcnIiLCJkZWxheSIsInBhc3NlZFZhbHVlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZnJlZXplIiwiMCIsIlN3aXBlUGFyc2VyIiwic3RyaW5nRGF0YSIsImJ1ZmZlclRvVXRmOCIsImluZGV4T2YiLCJmb3JtYXR0ZWRTdHJpbmciLCJzcGxpdEV4cFBBTiIsIm1hc2tlZFBBTiIsIkxhc3Q0IiwiZXhwaXJhdGlvbkRhdGUiLCJzZXJ2aWNlQ29kZSIsImV4cFBBTiIsInJlcGxhY2UiLCJzcGxpdCIsImV4cCIsImZvcm1hdHRlZEV4cCIsInN3aXBlTGlzdGVuaW5nIiwiZHBNaW5pIiwiY29uZmlnU3RyIiwibm9TZXNzaW9uVG9DbGVhciIsImdhdHRCdXN5Iiwic3VjY2Vzc2Z1bENsb3NlIiwiY2FyZFR5cGVBbGwiLCJjYXJkVHlwZXNPYmoiLCJFbXZQYXJzZXIiLCJkYXRhIiwiaXNNc3IiLCJpVGFnIiwiYnl0ZVZhbHVlIiwibGVuZ3RoVmFsdWUiLCJkYXRhTGVuZ3RoIiwicmVzdWx0IiwiaVRMViIsImJUYWciLCJ0YWdCeXRlcyIsIlRhZ0J1ZmZlciIsImJNb3JlVGFnQnl0ZXMiLCJtb3JlVGFnQnl0ZXNGbGFnMSIsIm1vcmVUYWdCeXRlc0ZsYWcyIiwiY29udmVydEFycmF5VG9IZXhTdHJpbmciLCJtb3JlTGVuZ3RoRmxhZyIsIm5MZW5ndGhCeXRlcyIsIm9uZUJ5dGVMZW5ndGhNYXNrIiwiaUxlbiIsInRhZ0J5dGUiLCJsZW4iLCJ2YWx1ZUJ5dGVzIiwiaGV4T3JBc2NpaUZvcm1hdHRlciIsImNvbnN0cnVjdGVkRmxhZyIsInRyeFN0YXR1c1RvU3RyaW5nIiwiaGV4VG9Bc2NpaSIsInN1YnN0cmluZyIsIkxlbmd0aEVycm9yIiwiRGV2aWNlRXJyb3IiLCJFcnJvckhhbmRsZXIiLCJjYWxsYmFja3MiLCJlcnIiLCJET01FeGNlcHRpb24iLCJlcnJvckNhbGxiYWNrIiwibm90Rm91bmRPYmoiLCJlcnJvckNvZGUiLCJlcnJvck5hbWUiLCJhcGlOZXR3b3JrRXJyIiwiZGV2aWNlTm90Rm91bmQiLCJnYXR0U2VydmVyTm90Q29ubmVjdGVkIiwiY29tbWFuZE5vdFNlbnQiLCJkZXZpY2VOb3RPcGVuIiwiY29tbWFuZE5vdFNlbnRGcm9tSG9zdCIsInJlYWRGYWlsZWQiLCJyZXNwb25zZU5vdFJlY2VpdmVkIiwiZ2V0U2VydmljZUZhaWwiLCJjb21tYW5kTm90QWNjZXB0ZWQiLCJEZXZpY2VCYXNlIiwiZGV2aWNlIiwiY2FyZFR5cGVTdHIiLCJkZXZpY2VUeXBlIiwicmVqZWN0IiwibG9nRGV2aWNlU3RhdGUiLCJEYXRlIiwiZ2F0dCIsImNvbm5lY3QiLCJ0aGVuIiwic2VydmVyIiwiZ2F0dFNlcnZlciIsImJ1aWxkRGV2aWNlRXJyIiwiY29ubmVjdGVkIiwiZGlzY29ubmVjdCIsInNlcnZpY2VJbmRleCIsImZpbmRQcmltYXJ5U2VydmljZSIsInNlcnZpY2UiLCJjYXRjaCIsImdldFByaW1hcnlTZXJ2aWNlIiwiZGV2aWNlVVVJRHMiLCJjYXJkU2VydmljZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0SGFuZGxlciIsIm9wdGlvbmFsSW5kZXgiLCJ0cnlUb0Nvbm5lY3QiLCJ0cnlDb3VudCIsImlubmVyUmVzb2x2ZSIsImlubmVyUmVqZWN0IiwiY2FjaGVDYXJkU2VydmljZUJhc2UiLCJjYWNoZVNlcnZpY2VSZXNwIiwiY2xlYXJHYXR0Q2FjaGUiLCJhcnBjUmVzcCIsImFjY2VwdGFibGVUeXBlcyIsImRhdGFMZW4iLCJpbnB1dERhdGEiLCJoZXhUb0J5dGVzIiwiYnVpbGRBcnBjQ29tbWFuZCIsIm1heFRyaWVzIiwid2FpdEZvclJlc3BvbnNlIiwidHJ5TnVtYmVyIiwiY29tbWFuZFJlc3BBdmFpbGFibGUiLCJldmVudCIsImRpc2Nvbm5lY3RDYWxsYmFjayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzdGF0dXNWZXJib3NpdHkiLCJjdXJyZW5jeUNvZGUiLCJ0cmFuc2FjdGlvblR5cGVzIiwiUGluVXRpbHMiLCJjYWxsQmFja3MiLCJiaW5hcnlOdW0iLCJudWxsVGVybWluYXRlZEFycmF5IiwidGFyZ2V0SW5kZXgiLCJtYXhMZW4iLCJtaW5MZW4iLCJtYXhMZW5ndGgiLCJtaW5MZW5ndGgiLCJsYW5ndWFnZVNlbGVjdGlvbiIsIndhaXRNZXNzYWdlIiwidmVyaWZ5UGluIiwicGluQmxvY2tGb3JtYXQiLCJsYW5ndWFnZVByb21wdHMiLCJiaW5hcnlSZXN1bHQiLCJkaXNhYmxlZCIsIlBhcnNlUGluQ29uZmlnIiwiY29uZmlnQXJyIiwiZmlyc3REZXZpY2VDb250cm9sQnl0ZSIsImRlY2ltYWxUb0JpbmFyeSIsInNlY29uZERldmljZUNvbnRyb2xCeXRlIiwibWFza0NvbmZpZ3VyYXRpb25CeXRlIiwibXNyQ29uZmlndXJhdGlvbkJ5dGUiLCJtYXNrQ2hhcmFjdGVyIiwiZmluZE1hc2tDaGFyYWN0ZXIiLCJsZWFkaW5nVW5tYXNrZWRMZW5ndGgiLCJ0cmFpbGluZ1VubWFza2VkTGVuZ3RoIiwiZW12TDJJY3NDb25maWciLCJlbXZMMkNvbmZpZ09wdGlvbnMiLCJjb250YWN0bGVzc0NvbmZpZyIsImNvbnRhY3RsZXNzQnl0ZSIsImNvbnRhY3RsZXNzU3VwcG9ydCIsImVuYWJsZWRCcmFuZHMiLCJjb250YWN0bGVzc0d1aUNvbnRyb2xzIiwibnVtQ2hhciIsIm51bUNoYXJUb0hleCIsIm51bUNoYXJUb0FzY2lpIiwiZGV2aWNlQ29udHJvbEJ5dGUiLCJyZXF1aXJlTXV0dWFsQXV0aCIsInN0cmluZ051bVRvQm9vbCIsIm1zckVuY3J5cHRpb25WYXJpYW50IiwiaXNDbGVhclRleHRFbmFibGVkIiwiaXNCZWVwZXJNb2RlRW5hYmxlZCIsImlzQml0bWFwTG9ja2VkIiwiaXNDb25maWd1cmF0aW9uTG9ja2VkIiwiZGV2aWNlQ3RybEJ5dGUiLCJpc0FycGNNYWNFbmFibGVkIiwiaXNGaW5hbmNpYWxJY2NDYXJkVHlwZVJlcG9ydGluZ0VuYWJsZWQiLCJhcnFjQmF0Y2hEYXRhT3V0cHV0Rm9ybWF0IiwibWFza0NvbmZpZ0J5dGUiLCJpc0lzb01hc2tFbmFibGVkIiwiaXNDaGVja0RpZ2l0RW5hYmxlZCIsImlzTXMyUG9pbnQwRW5hYmxlZCIsIm1zckNvbmZpZ0J5dGUiLCJpc0FBTVZBY2FyZEVuYWJsZWQiLCJ0cmFjazNEYXRhIiwidHJhY2tEYXRhT3B0aW9ucyIsInRyYWNrMkRhdGEiLCJ0cmFjazFEYXRhIiwiUGluU3RhdHVzUGFyc2VyIiwiY2FyZEhvbGRlclN0YXR1c0J5dGUiLCJlbXZDYXJkaG9sZGVyU3RhdHVzIiwiY2FyZGhvbGRlclN0YXR1c0lkcyIsInN0YXR1c0lkIiwib3BlcmF0aW9uU3RhdHVzIiwiZGlzcGxheVN0YXR1cyIsImZpbmRPcGVyYXRpb25TdGF0dXMiLCJjb21tYW5kUmVzcCIsImNvbnNvbGUiLCJsb2ciLCJyZXF1ZXN0ZWRTbiIsInNlcmlhbE51bWJlciIsImZpbmROdWxsVGVybWluYXRlZFN0cmluZyIsImdldFNlcmlhbE51bWJlciIsInJlcXVlc3RlZEtzbiIsImtzbiIsImdldEtzbkF2YWlsYWJsZSIsImJpZ0Jsb2NrRGF0YSIsImFycWNBcnJpdmluZyIsImFycWNUb3RhbExlbiIsInJlYWRUd29CeXRlTGVuZ3RoIiwiYmF0Y2hEYXRhQXJyaXZpbmciLCJiYXRjaFRvdGFsTGVuIiwidHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayIsImJ1ZmZlclR5cGUiLCJidWZmZXJUeXBlcyIsImFycWMiLCJidWlsZEluaXRpYWxEYXRhQXJyYXkiLCJkYXRhRm9yQXJxYyIsImNhcmREYXRhT2JqIiwiYXJxY0RhdGEiLCJhcnFjRGF0YVBhcnNlZCIsInRsdlBhcnNlciIsImlzUXVpY2tDaGlwVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbkNhbGxiYWNrIiwiYmF0Y2giLCJkYXRhRm9yQmF0Y2giLCJ0cmFuc2FjdGlvbkhhc1N0YXJ0ZWQiLCJwYXJzZWRCYXRjaERhdGEiLCJpc1NpZ25hdHVyZVJlcXVpcmVkIiwiZmluZCIsInRhZyIsImJhdGNoRGF0YSIsImJhdGNoRGF0YVBhcnNlZCIsInNpZ25hdHVyZVJlcXVpcmVkIiwiaGFuZGxlQXJxY0JpZ0Jsb2NrRmluaXNoIiwiaGFuZGxlQmF0Y2hCaWdCbG9ja0ZpbmlzaCIsImNhcmRob2xkZXJSZXNwIiwiZmluZEVtdkNhcmRob2xkZXJTdGF0dXMiLCJhbW91bnRDb25maXJtZWQiLCJhcHBsaWNhdGlvbk9yTGFiZWxOYW1lIiwibWV0aG9kU2VsZWN0ZWQiLCJ0bHZEYXRhIiwidW5kb2N1bWVudGVkRGF0YSIsImNhcmRTdGF0dXMiLCJjYXJkVHlwZSIsImNhcmRUeXBlc0VudW0iLCJhY2tSZXNwIiwiQUNLU1RTIiwiY29tbWFuZFR5cGUiLCJwaW5Db21tYW5kSWRzIiwiZGV2aWNlUmVzcCIsImRldmljZVN0YXRlIiwic2Vzc2lvblN0YXRlIiwicGFyc2VTZXNzaW9uU3RhdGUiLCJkZXZpY2VTdGF0dXMiLCJwYXJzZURldmljZVN0YXR1cyIsImRldmljZUNlcnRTdGF0dXMiLCJwYXJzZUNlcnRTdGF0dXMiLCJoYXJkd2FyZVN0YXR1cyIsInBhcnNlSGFyZHdhcmVTdGF0dXMiLCJhZGRpdGlvbmFsSW5mbyIsInBhcnNlQWRkaXRpb25hbEluZm8iLCJiaW5hcnlTdHJpbmciLCJwb3dlckRpZENoYW5nZSIsImNhcmREYXRhSXNBdmFpbGFibGUiLCJwYW5QYXJzZWRGcm9tQ2FyZCIsImV4dGVybmFsUGFuU2VudCIsImFtb3VudFdhc1NlbnQiLCJtc3JDcmxDZXJ0RXhpc3RzIiwicGluQ3JsQ2VydEV4aXN0cyIsIm1mZ1VuYmluZENlcnRFeGlzdHMiLCJtc3JDYUNlcnRFeGlzdHMiLCJwaW5DYUNlcnRFeGlzdHMiLCJkZXZpY2VDYUNlcnRFeGlzdHMiLCJkZXZpY2VDZXJ0RXhpc3RzIiwicGluS2V5U3RhdHVzIiwicGluS2V5U3RhdHVzRW51bSIsIm1zcktleVN0YXR1cyIsIm1zcktleVN0YXR1c0VudW0iLCJ0YW1wZXJEZXRlY3RlZCIsImlzQXV0aGVudGljYXRlZCIsImRldmljZUVycm9yRGV0ZWN0ZWQiLCJJRTNfb25seSIsIlNSRUQiLCJNYWdIZWFkSXNQcm9ncmFtbWVkIiwidGFtcGVyU2Vuc29yc0FyZUFjdGl2ZSIsIklDQ19BY3F1aXJlck1hc3RlcktleUlzSW5qZWN0ZWQiLCJJQ0NfU2Vzc2lvbktleUlzQWN0aXZlIiwiQ0FQS19FbXZEYXRhYmFzZUlzQ29ycnVwdGVkIiwiRW12VGVybWluYWxEYXRhYmFzZUlzQ29ycnVwdGVkIiwiY2FyZElzUHJlc2VudEluQ2hpcENhcmRDb25uZWN0b3IiLCJwYXJ0aWFsTm90aWZpY2F0aW9uIiwidHJhY2tLZXkiLCJjYXJkRGF0YUlkcyIsInN0YXR1c0VudW0iLCJvayIsImZvcm1hdEV4cFBBTiIsIm1hZ25lUHJpbnRTdGF0dXMiLCJjb252ZXJ0U3RhdHVzVG9TdHJpbmciLCJwaW5SZXNwIiwicGluRGF0YSIsInBpbktzbiIsImVuY3J5cHRlZFBpbkJsb2NrIiwic2VsZWN0aW9uUmVzcCIsImRldmljZUtleXMiLCJrZXlQcmVzc2VkIiwicGluRGlzcGxheU1lc3NhZ2VzIiwiZW1wdHkiLCJlcnJvciIsIlBpblBhZCIsInBhcmVudFJlc29sdmUiLCJwYXJlbnRSZWplY3QiLCJjb25uZWN0QW5kQ2FjaGUiLCJnZXRDaGFyYWN0ZXJpc3RpYyIsImRldmljZVRvSG9zdExlbiIsImNoYXJhY3RlcmlzdGljIiwic3RhcnROb3RpZmljYXRpb25zIiwiZGF0YVdhdGNoZXIiLCJjYXJkRGF0YUxpc3RlbmVyIiwiZGV2aWNlVG9Ib3N0RGF0YSIsInJlY2VpdmVEYXRhQ2hhciIsImRldmljZUZyb21Ib3N0TGVuIiwic2VuZExlblRvRGV2aWNlIiwiZGV2aWNlRnJvbUhvc3REYXRhIiwiY29tbWFuZENoYXJhY3RlcmlzdGljIiwib25EZXN0cm95SGFuZGxlciIsImRlbGF5UHJvbWlzZSIsImRhdGFFdmVudCIsInRhcmdldCIsImNvbW1hbmRTZW50IiwicmVhZENvbW1hbmRSZXNwIiwicmVhZFZhbHVlIiwicmVhZFZhbHVlSGFuZGxlciIsInJlYWRCeXRlQXJyYXkiLCJyZXBvcnRJZHMiLCJyZXNwb25zZUFjayIsInBhcnNlQWNrUmVzcG9uc2UiLCJkZXZpY2VTdGF0ZVJlcG9ydCIsImhhbmRsZURldmljZVN0YXRlUmVwb3J0IiwiY2FyZFN0YXR1c1JlcG9ydCIsImhhbmRsZUNhcmRTdGF0dXNSZXBvcnQiLCJjYXJkRGF0YVJlcG9ydCIsImhhbmRsZUNhcmREYXRhUmVwb3J0IiwiaGFuZGxlQ2FyZGhvbGRlclN0YXR1c1JlcG9ydCIsImVtdkNvbXBsZXRpb24iLCJoYW5kbGVFbXZDb21wbGV0aW9uIiwiaGFuZGxlQmlnQmxvY2tEYXRhIiwiZ2V0S3NuIiwiZm9ybWF0S3NuQW5kU24iLCJyZXF1ZXN0U24iLCJmb3JtYXRTZXJpYWxOdW1iZXIiLCJkZXZpY2VDb25maWciLCJwYXJzZURldmljZUNvbmZpZ3VyYXRpb24iLCJwaW5SZXNwb25zZSIsInBhcnNlUGluUmVzcG9uc2UiLCJzZWxlY3Rpb25SZXNwb25zZSIsInBhcnNlQ2FyZGhvbGRlclJlc3BvbnNlIiwiZGlzcGxheVJlc3AiLCJwYXJzZUVtdkNvbXBsZXRpb24iLCJoYW5kbGVCaWdCbG9ja0JlZ2luIiwibWF4IiwiaGFuZGxlQmlnQmxvY2tGaW5pc2giLCJwYXJzZUVtdkNhcmRob2xkZXJJbnRlcmFjdGlvblN0YXR1cyIsInBhcnNlQ2FyZFN0YXR1c1JlcG9ydCIsInN3aXBlSGFzQmVndW4iLCJzZW5kQ29tbWFuZFdpdGhSZXNwIiwic2VuZEVyclRvQ2FsbGJhY2siLCJkYXRhR2F0aGVyZWQiLCJzd2lwZURhdGEiLCJwYXJzZURldmljZVN0YXRlUmVwb3J0IiwicGFyc2VDYXJkRGF0YSIsInN3aXBlT3B0aW9ucyIsImNsZWFyU2Vzc2lvbkNtZCIsImJ1aWxkU3dpcGVDb21tYW5kIiwicmVzcCIsInRpbWVvdXQiLCJpc0ZhbGxiYWNrIiwidG9uZUNob2ljZSIsImRpc3BsYXlUeXBlIiwiZGlzcGxheVR5cGVzIiwiZW12T3B0aW9ucyIsImJ1aWxkRW12Q29tbWFuZCIsInBpblRpbWVvdXQiLCJ0cmFuc2FjdGlvblR5cGUiLCJjYXNoQmFjayIsImlzUXVpY2tDaGlwIiwiYXV0aG9yaXplZEFtb3VudCIsImNvbW1hbmQiLCJjYXJkVHlwZXMiLCJjb252ZXJ0TnVtVG9BbW91bnQiLCJwaW5PcHRpb25zIiwiYnVpbGRQaW5Db21tYW5kIiwibWF4UGluTGVuZ3RoIiwibWluUGluTGVuZ3RoIiwicGluRGlzcGxheU9wdGlvbnMiLCJwaW5DbWQiLCJmaW5kUGluTGVuZ3RoIiwiYnVpbGRQaW5PcHRpb25zQnl0ZSIsInNlbmRCaWdCbG9ja0RhdGEiLCJkYXRhVHlwZSIsImJsb2NrWmVybyIsImxlZ2FjeURhdGEiLCJzZW5kUGluQ29tbWFuZCIsInNlbmRFeHRlbmRlZEJpZ0Jsb2NrRGF0YSIsIm51bWJlck9mQmxvY2tzIiwiY2VpbCIsIndvcmtpbmdPblByb21pc2UiLCJjb21tYW5kQmxvY2tzIiwiYmVnaW5RdWV1ZSIsImJlZ2luUXVldWVSZXNvbHZlIiwiYmVnaW5RdWV1ZVJlamVjdCIsImRhdGFCbG9jayIsInNoaWZ0IiwicXVldWVkUHJvbWlzZSIsImVucXVldWUiLCJibG9jayIsImRhdGFGb3JCbG9jayIsImJsb2NrQ21kIiwiYmVnaW5RdWVSZXNwIiwic2VuZEFycGNCYXNlIiwiYXJwY0NtZCIsImNtZCIsIndyaXRlQ29tbWFuZCIsIndyaXRlVmFsdWUiLCJvZiIsIndhaXRGb3JEZXZpY2VSZXNwb25zZSIsIndhaXRSZXNwIiwidHJ5Q29tbWFuZEFnYWluIiwicmVzcG9uc2UiLCJzdG9wTm90aWZpY2F0aW9ucyIsImNsZWFyU2Vzc2lvbiIsImNsb3NlUGluRGV2aWNlIiwiZW5kU2Vzc2lvbiIsInJlcXVlc3RDYXJkU3dpcGUiLCJEcE1pbmkiLCJnYXRoZXJEZXZpY2VJbmZvIiwiZGV2aWNlSW5mbyIsImNoZWNrSWZEZXZpY2VJZGxlIiwiZ2V0RGV2aWNlSW5mb1Byb2NlZWQiLCJkZXZpY2VOYW1lIiwiaXNDb25uZWN0ZWQiLCJ3YWl0Rm9yU24iLCJyZXR1cm5TbiIsImdldERldmljZUluZm9CYXNlIiwiRHluYVByb0dvIiwiZGlzcGxheU9wdGlvbnMiLCJidWlsZERpc3BsYXlDbWQiLCJkaXNwbGF5VGltZSIsIm1lc3NhZ2VJZCIsImZpZWxkTmFtZSIsIlNjcmFTd2lwZVBhcnNlciIsIm9mZnNldCIsInRyYWNrMURlY29kZVN0YXR1cyIsInRyYWNrMkRlY29kZVN0YXR1cyIsInRyYWNrM0RlY29kZVN0YXR1cyIsInRyYWNrMUxlbiIsInRyYWNrMkxlbiIsInRyYWNrM0xlbiIsImNhcmRFbmNvZGVUeXBlIiwidHJhY2sxU3RhcnQiLCJ0cmFjazFFbmQiLCJ0cmFjazJTdGFydCIsInRyYWNrMkVuZCIsInRyYWNrM1N0YXJ0IiwidHJhY2szRW5kIiwibWFnbmVQcmludFN0YXR1c1N0YXJ0IiwibWFnbmVQcmludFN0YXR1c0VuZCIsIm1hZ25lUHJpbnRMZW4iLCJtYWduZVByaW50U3RhcnQiLCJtYWduZVByaW50RW5kIiwic2VyaWFsTnVtYmVyU3RhcnQiLCJzZXJpYWxOdW1iZXJFbmQiLCJkZXZpY2VFbmNTdGF0dXNTdGFydCIsImRldmljZUVuY1N0YXR1c0VuZCIsImtzblN0YXJ0Iiwia3NuRW5kIiwidHJhY2sxTWFza2VkTGVuIiwidHJhY2syTWFza2VkTGVuIiwidHJhY2szTWFza2VkTGVuIiwidHJhY2sxTWFza2VkU3RhcnQiLCJ0cmFjazFNYXNrZWRFbmQiLCJ0cmFjazJNYXNrZWRTdGFydCIsInRyYWNrMk1hc2tlZEVuZCIsInRyYWNrM01hc2tlZFN0YXJ0IiwidHJhY2szTWFza2VkRW5kIiwiZW5jU2Vzc2lvbklkU3RhcnQiLCJlbmNTZXNzaW9uSWRFbmQiLCJ0cmFjazFBYnNMZW4iLCJ0cmFjazJBYnNMZW4iLCJ0cmFjazNBYnNMZW4iLCJtYWduZVByaW50QWJzTGVuIiwidHJhY2tQb3NpdGlvbnMiLCJ0cmFja0luZGljZXMiLCJ0cmFja0luZm8iLCJkYXRhTmFtZXMiLCJmb3JFYWNoIiwiZGF0YVByb3AiLCJ0cmFja0RhdGEiLCJmb3JtYXRUcmFjazJNYXNrZWQiLCJmb3JtYXRUcmFja1dpdGhEZWNvZGUiLCJpbmNsdWRlcyIsInRyYWNrMk1hc2tlZCIsImRlY29kZVN0YXR1c1ZhbHVlIiwidHJhY2tWYWx1ZSIsIlRyeFN0YXR1c1BhcnNlciIsIm5vdGlmaWNhdGlvbiIsIm5ld05vdGlmaWNhdGlvbiIsInBhcnNlTm90aWZpY2F0aW9ucyIsInRocm93TGVuRXJyIiwibm90aWZpY2F0aW9uU2xpY2UiLCJuZXdOb3RpZmljYXRpb25TbGljZSIsIm5vdGlmaWNhdGlvbkxlbmd0aCIsIm5vdGlmaWNhdGlvbkNvbnRlbnQiLCJ0cnhTdGF0dXNDb2RlIiwidHJ4UHJvZ3Jlc3NDb2RlIiwidHJhbnNhY3Rpb25TdGF0dXMiLCJzdGF0dXNDb2RlIiwic3RhdHVzTXNnIiwiVHJ4U3RhdHVzRW51bSIsInByb2dyZXNzQ29kZSIsInByb2dyZXNzTXNnIiwiVHJ4UHJvZ3Jlc3NJbmRpY2F0b3IiLCJTY3JhRW12UGFyc2VyIiwiZW12RGF0YSIsImlzQXJxYyIsInJlc3VsdENvZGUiLCJlbXZSZXN1bHRDb2RlcyIsInNlbGVjdGlvblJlcXVlc3QiLCJ1c2VyU2VsZWN0aW9uUmVxdWVzdCIsInNlbGVjdGlvblR5cGUiLCJ0aW1lUmVtYWluaW5nIiwibWVudUl0ZW1zIiwiZHVrcHRGYWlsdXJlQmFzZSIsImludmFsaWRCYXNlIiwiU2NyYSIsImNhcmREYXRhTm90aWZpY2F0aW9uIiwiY2FyZERhdGFIYW5kbGVyIiwiY29tbWFuZENoYXJJZCIsImRhdGFSZWFkeUlkIiwiZGF0YVJlYWR5SGFuZGxlciIsImRhdGFSZWFkeUNoYXJhY3RlcmlzdGljIiwiZGF0YVJlYWRTdGF0dXNJZCIsImRhdGFSZWFkU3RhdHVzQ2hhcmFjdGVyaXN0aWMiLCJldmVudFZhbHVlIiwiZm9ybWF0dGVkRXZlbnRWYWx1ZSIsIm5vdGlmaWNhdGlvbkFycmF5IiwiY2hlY2tOb3RpZmljYXRpb25MZW5ndGgiLCJyZXR1cm5Ub1VzZXIiLCJwYXJzZUhpZERhdGEiLCJub3RpZmljYXRpb25JZCIsImZpbmROb3RpZmljYXRpb25UeXBlIiwiYnVpbHROb3RpZmljYXRpb24iLCJwYXJzZVRyYW5zYWN0aW9uU3RhdHVzIiwiZGlzcGxheUNhbGxiYWNrIiwiZGlzcGxheU1lc3NhZ2UiLCJwYXJzZVVzZXJTZWxlY3Rpb25SZXF1ZXN0IiwiYnVpbGROb3RpZmljYXRpb24iLCJwYXJzZUVtdkRhdGEiLCJwYXJzZUVtdkNvbW1hbmRSZXNwb25zZSIsInNldERldmljZURhdGVUaW1lIiwic3RhcnRUcmFuc2FjdGlvbiIsInJlcG9ydFZlcmJvc2l0eSIsImVtdkNvbW1hbmRCYXNlIiwicmVhZENvbW1hbmRWYWx1ZSIsInNwZWNpZmllZENhbGxiYWNrIiwicmV0dXJuT2JqIiwic3BlY2lmaWNUaW1lIiwiZGF0ZVRpbWVDb21tYW5kIiwiY2FzdERlY1RvSGV4IiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldEZ1bGxZZWFyIiwiYnVpbGREYXRlVGltZUNvbW1hbmQiLCJmb3JtYXR0ZWRWYWx1ZSIsImJhdHRlcnkiLCJzZXJpYWxOdW0iLCJyZWFkQmF0dGVyeUxldmVsIiwicmVzcEJhdHRlcnkiLCJnZXREZXZpY2VTbiIsInJlc3BTbiIsImJhdHRlcnlMZXZlbCIsInNlbGVjdGlvblJlc3VsdCIsInVzZXJTZWxlY3Rpb25SZXNwb25zZSIsInJlc3VsdENvZGVzIiwic2VuZEFycGNSZXNwb25zZSIsImNhbmNlbEVtdkNvbW1hbmQiLCJjZWFzZU5vdGlmaWNhdGlvbnMiLCJ1c2VyU2VsZWN0aW9uQ2FsbGJhY2siLCJFRHluYW1vIiwiZ2V0Q2FyZFNlcnZpY2VCYXNlIiwiVER5bmFtbyIsInNldEhlYWRBbHdheXNPbiIsInNldEhlYWRPcGVuUmVzcCIsImNvbW1hbmROb3RVc2VkIiwiaXNTY3JhIiwiRGV2aWNlSW50ZXJmYWNlIiwiZ2V0Q2FyZFNlcnZpY2UiLCJjYW5jZWxUcmFuc2FjdGlvbiIsImNsb3NlRGV2aWNlIiwiZ2V0RGV2aWNlSW5mbyIsImlzRGV2aWNlQ29ubmVjdGVkIiwicmVxdWVzdFBpbkVudHJ5Iiwic2V0RGlzcGxheU1lc3NhZ2UiLCJzZW5kVXNlclNlbGVjdGlvbiIsInNlbmRBcnBjIiwib3BlbkRldmljZSIsInNlbmRDb21tYW5kIiwiaXNEZXZpY2VPcGVuIiwiZm9yY2VEaXNjb25uZWN0IiwibmV3RGV2aWNlSW5zdGFuY2UiLCJEeW5Qcm9HbyIsImJ1aWxkRGV2aWNlT2JqZWN0IiwiZGV2aWNlVHlwZVN0cmluZyIsImlkIiwiZGV2aWNlSW50ZXJmYWNlIiwiZUR5bmFtb1BhdHRlcm4iLCJSZWdFeHAiLCJ0RHluYW1vUGF0dGVybiIsImRwTWluaVBhdHRlcm4iLCJkcEdvUGF0dGVybiIsImZpbmREZXZpY2VUeXBlU3RyaW5nIiwibmFtZVN0ciIsInR5cGVTdHIiLCJmb3JtYXR0ZWRTdHIiLCJkZXZpY2VUeXBlU3RyIiwiZGV2aWNlVHlwZUFyciIsInJldHVyblN0ciIsImZvcm1hdFR5cGVTdHJpbmciLCJ0ZXN0Iiwic2NhbkZvckRldmljZXMiLCJpc0Z1bmNUeXBlIiwiZGF0YU9iaiIsIndhcm4iLCJwcm9wQXNzaWdubWVudCIsInByb3BOYW1lIiwiZXJyT2JqIiwiYXJyYW5nZUNhbGxiYWNrcyIsIm9wdGlvbnMiLCJuYW1lUHJlZml4IiwiZmluZERldmljZUJ5RGV2aWNlTmFtZSIsIm5hdmlnYXRvciIsImJsdWV0b290aCIsInJlcXVlc3REZXZpY2UiLCJkZXZpY2VUeXBlTmFtZSIsInNlbGVjdGVkRGV2aWNlIiwibW9kZWxOYW1lU3RyaW5nIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RBLFFBQVEs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QnNENkJBLEVwQnREN0IsYW9Cd0RSK0UsRUFBT3BCLE9DakIrQnlCLEtBQzVCNmdCLEdBQXNCQSxFQUVoQmptQixFQUFTZ21CLEdBQWtCcGhCLEVBQVFnRCxFQUFXcWUsSUFEaERsaEIsRUFBTyxxQ0FFYmMsTUFBTWxDLEdBQU9vQixFQUFPcEIsSURKQ3NrQixRQ0s1QnBpQixNQUFNbEMsR0FDTG9CLEVBRDRCLGlCQUFScEIsRUFDWixJQUFJeEksRUFBU3dJLEdBQ2QiLCJmaWxlIjoibWFnZW5zYS1ibHVldG9vdGguanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJtYWdlbnNhLWJsdWV0b290aFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJtYWdlbnNhLWJsdWV0b290aFwiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UsIGNvZGUsIG5hbWUgfSkge1xyXG4gICAgICAgIHN1cGVyKCAobWVzc2FnZSB8fCBcIldlYiBCbHVldG9vdGggQVBJIHRocmV3IGFuIHVua25vd24sIG9yIHVuZG9jdW1lbnRlZCBlcnJvclwiICkpO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IChjb2RlIHx8IDEwMDApO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IChuYW1lIHx8IFwiV2ViQmx1ZXRvb3RoRXJyb3JcIilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBpRXJyb3I7IiwiY29uc3QgYWxsRGV2aWNlQ29uZmlnID0ge1xyXG4gICAgZmlsdGVyczogW1xyXG4gICAgICAgIHsgc2VydmljZXM6IFtcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwNFwiXSB9LFxyXG4gICAgICAgIHsgc2VydmljZXM6IFtcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwMVwiXSB9LCBcclxuICAgICAgICB7IHNlcnZpY2VzOiBbXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDNcIl0gfVxyXG4gICAgXSxcclxuICAgIG9wdGlvbmFsU2VydmljZXM6IFtcclxuICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwNFwiLCBcclxuICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwM1wiLCBcclxuICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwMVwiLCBcclxuICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIwMlwiLFxyXG4gICAgICAgICdkZXZpY2VfaW5mb3JtYXRpb24nXHJcbiAgICBdLFxyXG4gICAga2VlcFJlcGVhdGVkRGV2aWNlczogZmFsc2UsXHJcbiAgICBhY2NlcHRBbGxBZHZlcnRpc2VtZW50czogZmFsc2VcclxufVxyXG5cclxuY29uc3QgZmluZERldmljZUJ5RGV2aWNlTmFtZSA9IGRldmljZU5hbWUgPT4gKHtcclxuICAgIGZpbHRlcnM6IFtcclxuICAgICAgICB7IG5hbWVQcmVmaXg6IGRldmljZU5hbWUgfVxyXG4gICAgXSxcclxuICAgIG9wdGlvbmFsU2VydmljZXM6IFtcclxuICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwNFwiLCBcclxuICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwM1wiLCBcclxuICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwMVwiLFxyXG4gICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMjAyXCIsXHJcbiAgICAgICAgJ2RldmljZV9pbmZvcm1hdGlvbidcclxuICAgIF0sXHJcbiAgICBrZWVwUmVwZWF0ZWREZXZpY2VzOiBmYWxzZSxcclxuICAgIGFjY2VwdEFsbEFkdmVydGlzZW1lbnRzOiBmYWxzZVxyXG59KTtcclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgYWxsRGV2aWNlQ29uZmlnLFxyXG4gICAgZmluZERldmljZUJ5RGV2aWNlTmFtZVxyXG59IiwiY2xhc3MgVXRpbGl0aWVzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB0aGlzLnJsZUZvcm1hdHMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHgwMDogZmFsc2UsICAgIC8vTm9ybWFsXHJcbiAgICAgICAgICAgIDB4MDE6IHRydWUsICAgICAvL1JMRSBmb3JtYXRcclxuICAgICAgICAgICAgMHgwMjogZmFsc2UsICAgIC8vTm90aWZ5IFVuY29tcHJlc3NlZFxyXG4gICAgICAgICAgICAweDAzOiB0cnVlICAgICAgLy9Ob3RpZnkgUkxFIGZvcm1hdFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICB9O1xyXG5cclxuICAgICBsb2dEZXZpY2VTdGF0ZSA9IGxvZ0luZm8gPT4ge1xyXG4gICAgICAgIGxldCBsb2dFdmVudCA9IG5ldyBDdXN0b21FdmVudChcImRldmljZUxvZ1wiLCB7IFxyXG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxyXG4gICAgICAgICAgICBkZXRhaWw6IGxvZ0luZm8gXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGxvZ0V2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBjb252ZXJ0QXJyYXlUb0hleFN0cmluZyA9IGFycmF5ID0+XHJcbiAgICAgICAgQXJyYXkuZnJvbShhcnJheSwgYnl0ZSA9PlxyXG4gICAgICAgICAgICAoJzAnICsgKGJ5dGUgJiAweEZGKS50b1N0cmluZygxNikpLnNsaWNlKC0yKVxyXG4gICAgICAgICkuam9pbignJykudG9VcHBlckNhc2UoKVxyXG4gICAgXHJcbiAgICByZWFkVHdvQnl0ZUxlbmd0aCA9IHR3b0J5dGVzID0+ICh0d29CeXRlc1swXSA8PCA4KSB8IHR3b0J5dGVzWzFdO1xyXG5cclxuICAgIGJ1ZmZlclRvVXRmOCA9IGFycmF5QnVmZmVyID0+XHJcbiAgICAgICAgbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpLmRlY29kZShVaW50OEFycmF5LmZyb20oYXJyYXlCdWZmZXIpKTtcclxuXHJcbiAgICBjYXN0RGVjVG9IZXggPSBudW0gPT4gcGFyc2VJbnQoIG51bS50b1N0cmluZygxNiksIDE2KTtcclxuXHJcbiAgICBuZXdBcnJheVBhcnRpYWwgPSAobnVtLCByZXBldGl0aW9ucykgPT4gbmV3IEFycmF5KHJlcGV0aXRpb25zKS5maWxsKG51bSk7XHJcblxyXG4gICAgcmVhZEJ5dGVBcnJheSA9IGRhdGFWaWV3ID0+IHtcclxuICAgICAgICBsZXQgdmFsdWVBcnJheSA9IFtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVZpZXcuYnl0ZUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhbHVlQXJyYXkucHVzaChkYXRhVmlldy5nZXRVaW50OChpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWVBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICBoZXhUb0FzY2lpID0gaGV4U3RyaW5nID0+IHtcclxuICAgICAgICBsZXQgYXNjaWlSZXNwID0gJyc7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IChpIDwgaGV4U3RyaW5nLmxlbmd0aCAmJiBoZXhTdHJpbmcuc3Vic3RyKGksIDIpICE9PSAnMDAnKTsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgIGFzY2lpUmVzcCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoaGV4U3RyaW5nLnN1YnN0cihpLCAyKSwgMTYpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhc2NpaVJlc3AudHJpbSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGhleFRvQnl0ZXMgPSBoZXhTdHIgPT4ge1xyXG4gICAgICAgIGxldCBieXRlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGN1cnJlbnQgPSAwOyBjdXJyZW50IDwgaGV4U3RyLmxlbmd0aDsgY3VycmVudCArPSAyKVxyXG4gICAgICAgICAgICBieXRlcy5wdXNoKCBwYXJzZUludChoZXhTdHIuc3Vic3RyKGN1cnJlbnQsIDIpLCAxNikgKTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBieXRlcztcclxuICAgIH1cclxuXHJcbiAgICBkZWNvZGVSTEUgPSBhcnJheVNlZ21lbnQgPT4ge1xyXG4gICAgICAgIGxldCByZXR1cm5TZWdtZW50ID0gWyBhcnJheVNlZ21lbnRbMF0gXTtcclxuICAgIFxyXG4gICAgICAgIGxldCBuZXh0SW5kZXggPSAwO1xyXG4gICAgICAgIGxldCBpbml0aWFsTGVuZ3RoID0gYXJyYXlTZWdtZW50Lmxlbmd0aDtcclxuICAgIFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaW5pdGlhbExlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG5leHRJbmRleCA9IGkgKyAxO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChuZXh0SW5kZXggKyAxIDwgaW5pdGlhbExlbmd0aCkge1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyYXlTZWdtZW50W2ldID09PSBhcnJheVNlZ21lbnRbbmV4dEluZGV4XSkge1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuU2VnbWVudC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLm5ld0FycmF5UGFydGlhbChhcnJheVNlZ21lbnRbaV0sIGFycmF5U2VnbWVudFtuZXh0SW5kZXggKyAxXSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy9hZGp1c3QgaW5kZXggYWNjb3JkaW5nbHksIHByaW9yIHRvIGJlaW5nIGluY3JlbWVudGVkIGJ5IHRoZSBpdGVyYXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IG5leHRJbmRleCArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHJldHVyblNlZ21lbnQucHVzaChhcnJheVNlZ21lbnRbaV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSByZXR1cm5TZWdtZW50LnB1c2goYXJyYXlTZWdtZW50W2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXR1cm5TZWdtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkSW5pdGlhbERhdGFBcnJheSA9IGNoZWNrRm9yUmxlID0+IHtcclxuICAgICAgICBsZXQgcmV0dXJuQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IE1hdGgubWluKC4uLk9iamVjdC5rZXlzKHRoaXMucmF3RGF0YSkpOyBpIDwgdGhpcy5tYXhCbG9ja0lkOyBpKyspIHtcclxuICAgICAgICAgICAgcmV0dXJuQXJyYXkgPSByZXR1cm5BcnJheS5jb25jYXQoLi4udGhpcy5yYXdEYXRhW2ldKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICghY2hlY2tGb3JSbGUpID8gcmV0dXJuQXJyYXkgOiB0aGlzLmNoZWNrUmxlKHJldHVybkFycmF5KTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1JsZSA9IHJldHVybkFycmF5ID0+ICh0aGlzLnJsZUZvcm1hdHNbIHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvblswXSBdKSA/IHRoaXMuZGVjb2RlUkxFKHJldHVybkFycmF5KSA6IHJldHVybkFycmF5O1xyXG5cclxuICAgIGNvbnZlcnRDdXJyZW5jeUNvZGUgPSBjdXJyZW5jeVN0cmluZyA9PiB7XHJcbiAgICAgICAgbGV0IGN1cnJlbmN5ID0gY3VycmVuY3lTdHJpbmcudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChjdXJyZW5jeSA9PT0gJ3VzJykgPyBbMHgwOCwgMHg0MF0gOiBcclxuICAgICAgICAgICAgKGN1cnJlbmN5ID09PSAnZXVybycpID8gWzB4MDksIDB4NzhdIDogWzB4MDAsIDB4MDBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQ29udmVydCBudW1iZXIgdG8gNiBieXRlIGFycmF5LlxyXG4gICAgY29udmVydE51bVRvQW1vdW50ID0gbnVtID0+IHtcclxuICAgICAgICBsZXQgc3RyaW5nTnVtID0gbnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IHJldHVybkFyciA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChzdHJpbmdOdW0ubGVuZ3RoIDwgMTIpXHJcbiAgICAgICAgICAgIHN0cmluZ051bSA9IFwiMFwiICsgc3RyaW5nTnVtO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ051bS5sZW5ndGg7IGkgKz0yKVxyXG4gICAgICAgICAgICByZXR1cm5BcnIucHVzaChcclxuICAgICAgICAgICAgICAgIHBhcnNlSW50KHN0cmluZ051bS5zdWJzdHIoaSwgMiksIDE2KVxyXG4gICAgICAgICAgICApXHJcbiAgICBcclxuICAgICAgICByZXR1cm4gcmV0dXJuQXJyO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGF5UHJvbWlzZSA9IChkZWxheSwgcGFzc2VkVmFsdWUpID0+XHJcbiAgICAgICAgbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5LCBwYXNzZWRWYWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFV0aWxpdGllczsiLCJpbXBvcnQgVXRpbGl0aWVzIGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY2xhc3MgU3dpcGVQYXJzZXIgZXh0ZW5kcyBVdGlsaXRpZXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JtYXRFeHBQQU4gPSByYXdEYXRhID0+IHtcclxuICAgICAgICBsZXQgc3RyaW5nRGF0YSA9ICh0eXBlb2YgcmF3RGF0YSA9PT0gJ29iamVjdCcpID8gdGhpcy5idWZmZXJUb1V0ZjgocmF3RGF0YS5zbGljZSg0KSkgOiByYXdEYXRhO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKHN0cmluZ0RhdGEuaW5kZXhPZignOycpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBsZXQgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy5zcGxpdEV4cFBBTihzdHJpbmdEYXRhKTtcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbWFza2VkUEFOOiBmb3JtYXR0ZWRTdHJpbmdbMF0sXHJcbiAgICAgICAgICAgICAgICBMYXN0NDogZm9ybWF0dGVkU3RyaW5nWzFdLFxyXG4gICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IGZvcm1hdHRlZFN0cmluZ1syXSxcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VDb2RlOiBmb3JtYXR0ZWRTdHJpbmdbM11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1hc2tlZFBBTjogXCJcIixcclxuICAgICAgICAgICAgTGFzdDQ6IFwiXCIsXHJcbiAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlOiBcIlwiLFxyXG4gICAgICAgICAgICBzZXJ2aWNlQ29kZTogXCJcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzcGxpdEV4cFBBTiA9IHN0cmluZ0RhdGEgPT4ge1xyXG4gICAgICAgIGlmIChzdHJpbmdEYXRhLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICAgICAgbGV0IGV4cFBBTiA9IHN0cmluZ0RhdGEucmVwbGFjZSgnOycsJycpLnJlcGxhY2UoJz8nLCcnKS5zcGxpdCgnPScpO1xyXG4gICAgICAgICAgICBsZXQgZXhwID0gZXhwUEFOWzFdLnNsaWNlKDAsIDQpO1xyXG4gICAgICAgICAgICBsZXQgc2VydmljZUNvZGUgPSBleHBQQU5bMV0uc2xpY2UoNCwgNyk7XHJcbiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWRFeHAgPSBleHAuc2xpY2UoLTIpICsgJy8nICsgZXhwLnNsaWNlKDAsIDIpO1xyXG4gICAgICAgICAgICBsZXQgbWFza2VkUEFOID0gZXhwUEFOWzBdO1xyXG4gICAgICAgICAgICBsZXQgbGFzdEZvdXIgPSBleHBQQU5bMF0uc2xpY2UoLTQpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFttYXNrZWRQQU4sIGxhc3RGb3VyLCBmb3JtYXR0ZWRFeHAsIHNlcnZpY2VDb2RlXVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBbXCJOb3QgRm91bmRcIiwgXCJOb3QgRm91bmRcIiwgXCJOb3QgRm91bmRcIiwgXCJOb3QgRm91bmRcIl1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN3aXBlUGFyc2VyOyIsImNvbnN0IG9wZW5TdWNjZXNzID0gXCJEZXZpY2UgT3BlblwiO1xyXG5jb25zdCBjbG9zZVN1Y2Nlc3MgPSBcIkRldmljZSBDbG9zZWRcIlxyXG5jb25zdCBzdWNjZXNzQ29kZSA9IDA7XHJcbmNvbnN0IHN3aXBlTGlzdGVuaW5nID0gXCJTdWNjZXNzLCBsaXN0ZW5pbmcgZm9yIHN3aXBlXCJcclxuY29uc3QgZGV2aWNlTm90SWRsZSA9IFwiRGV2aWNlIG5vdCBpZGxlXCI7XHJcbmNvbnN0IHREeW5hbW8gPSBcInREeW5hbW9cIjtcclxuY29uc3QgZUR5bmFtbyA9IFwiZUR5bmFtb1wiO1xyXG5jb25zdCBkeW5hUHJvR28gPSBcImR5bmFQcm9Hb1wiO1xyXG5jb25zdCBkcE1pbmkgPSBcIkR5bmFQcm8gTWluaVwiO1xyXG5cclxuY29uc3QgY29uZmlnU3RyID0gXCJDb25maWd1cmF0aW9uXCI7XHJcbmNvbnN0IHVua25vd24gPSBcIlVua25vd25cIjtcclxuY29uc3QgYXNjaWkgPSBcIkFTQ0lJXCI7XHJcblxyXG5jb25zdCBub1Nlc3Npb25Ub0NsZWFyID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAwLFxyXG4gICAgbWVzc2FnZTogXCJTdWNjZXNzLCB0aGVyZSB3YXMgbm8gc2Vzc2lvbiB0byBjbGVhclwiXHJcbn0pO1xyXG5cclxuY29uc3QgZ2F0dEJ1c3kgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDE5LCBcclxuICAgIG1lc3NhZ2U6IFwiR0FUVCBvcGVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcy5cIlxyXG59KTtcclxuXHJcbmNvbnN0IHN1Y2Nlc3NmdWxDbG9zZSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICBtZXNzYWdlOiBjbG9zZVN1Y2Nlc3NcclxufSk7XHJcblxyXG5jb25zdCBjYXJkVHlwZUFsbCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgW2VEeW5hbW9dOiAweDAzLFxyXG4gICAgW3REeW5hbW9dOiAweDA3LFxyXG4gICAgW2RwTWluaV06IDB4MDMsXHJcbiAgICBbZHluYVByb0dvXTogMHgwN1xyXG59KTtcclxuXHJcbmNvbnN0IGNhcmRUeXBlc09iaiA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgJ21zcic6IDB4MDEsXHJcbiAgICAnY2hpcCc6IDB4MDIsXHJcbiAgICAnY2hpcG1zcic6IDB4MDMsXHJcbiAgICAnY29udGFjdGxlc3MnOiAweDA0LFxyXG4gICAgJ2NvbnRhY3RsZXNzbXNyJzogMHgwNSxcclxuICAgICdjb250YWN0bGVzc2NoaXAnOjB4MDYsXHJcbiAgICAnYWxsJzogMHgwN1xyXG59KTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBvcGVuU3VjY2VzcyxcclxuICAgIHN1Y2Nlc3NDb2RlLFxyXG4gICAgc3dpcGVMaXN0ZW5pbmcsXHJcbiAgICBkZXZpY2VOb3RJZGxlLFxyXG4gICAgY2xvc2VTdWNjZXNzLFxyXG4gICAgbm9TZXNzaW9uVG9DbGVhcixcclxuICAgIHREeW5hbW8sXHJcbiAgICBlRHluYW1vLFxyXG4gICAgZHluYVByb0dvLFxyXG4gICAgZHBNaW5pLFxyXG4gICAgY2FyZFR5cGVBbGwsXHJcbiAgICBjYXJkVHlwZXNPYmosXHJcbiAgICBnYXR0QnVzeSxcclxuICAgIHN1Y2Nlc3NmdWxDbG9zZSxcclxuICAgIGNvbmZpZ1N0cixcclxuICAgIHVua25vd24sXHJcbiAgICBhc2NpaVxyXG59XHJcbiIsImltcG9ydCBTd2lwZVBhcnNlciBmcm9tICcuL3N3aXBlUGFyc2VyJztcclxuaW1wb3J0IHsgZHluYVByb0dvIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIEVtdlBhcnNlciBleHRlbmRzIFN3aXBlUGFyc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMubW9yZVRhZ0J5dGVzRmxhZzEgPSAweDFGO1xyXG4gICAgICAgIHRoaXMubW9yZVRhZ0J5dGVzRmxhZzIgPSAweDgwO1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0ZWRGbGFnID0gMHgyMDtcclxuICAgICAgICB0aGlzLm1vcmVMZW5ndGhGbGFnID0gMHg4MDtcclxuICAgICAgICB0aGlzLm9uZUJ5dGVMZW5ndGhNYXNrID0gMHg3RjtcclxuXHJcbiAgICAgICAgdGhpcy50cnhTdGF0dXNUb1N0cmluZyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIkFwcHJvdmVkXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiRGVjbGluZWRcIixcclxuICAgICAgICAgICAgMHgwMjogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICAweDEwOiBcIkNhbmNlbGxlZCBCeSBIb3N0XCIsXHJcbiAgICAgICAgICAgIDB4MTE6IFwiQ29uZmlybSBBbW91bnQgTm9cIixcclxuICAgICAgICAgICAgMHgxMjogXCJDb25maXJtIEFtb3VudCBUaW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MTM6IFwiQ29uZmlybSBBbW91bnQgQ2FuY2VsXCIsXHJcbiAgICAgICAgICAgIDB4MTQ6IFwiTVNSIFNlbGVjdCBEZWJpdFwiLFxyXG4gICAgICAgICAgICAweDE1OiBcIk1TUiBTZWxlY3QgRGViaXRcIixcclxuICAgICAgICAgICAgMHgxNjogXCJNU1IgU2VsZWN0IENyZWRpdC9EZWJpdCB0aW1vdXRcIixcclxuICAgICAgICAgICAgMHgxNzogXCJNU1IgU2VsZWN0IENyZWRpdC9EZWJpdCBjYW5jZWxcIixcclxuICAgICAgICAgICAgMHgxODogXCJTaWduYXR1cmUgQ2FwdHVyZSBDYW5jZWxsZWQgYnkgSG9zdCAoU0MtUyBPbmx5IHwgU0MtRiBvbmx5KVwiLFxyXG4gICAgICAgICAgICAweDE5OiBcIlNpZ25hdHVyZSBDYXB0dXJlIFRpbWVvdXQgKFNDLVMgT25seSB8IFNDLUYgT25seSlcIixcclxuICAgICAgICAgICAgMHgxQTogXCJTaWduYXR1cmUgQ2FwdHVyZSBDYW5jZWxsZWQgYnkgQ2FyZGhvbGRlciAoU0MtUyBPbmx5IHwgU0MtRiBPbmx5KVwiLFxyXG4gICAgICAgICAgICAweDFCOiBcIlBJTiBFbnRyeSBDYW5jZWxsZWQgYnkgSG9zdFwiLFxyXG4gICAgICAgICAgICAweDFDOiBcIlBJTiBlbnRyeSB0aW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MUQ6IFwiUElOIGVudHJ5IENhbmNlbGxlZCBieSBDYXJkaG9sZGVyXCIsXHJcbiAgICAgICAgICAgIDB4MUU6IFwiTWFudWFsIFNlbGVjdGVkIENhbmNlbGxlZCBieSBIb3N0XCIsXHJcbiAgICAgICAgICAgIDB4MUY6IFwiTWFudWFsIFNlbGVjdGlvbiBUaW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MjA6IFwiTWFudWFsIFNlbGN0aW9uIENhbmNlbGxlZCBieSBDYXJkaG9sZGVyXCIsXHJcbiAgICAgICAgICAgIDB4MjE6IFwiV2FpdGluZyBmb3IgQ2FyZCBDYW5jZWxsZWQgYnkgSG9zdFwiLFxyXG4gICAgICAgICAgICAweDIyOiBcIldhaXRpbmcgZm9yIENhcmQgVGltZW91dFwiLFxyXG4gICAgICAgICAgICAweDIzOiBcIkNhbmNlbGxlZCBieSBDYXJkIFN3aXBlIChNU1IpIFtTQ1JBXSB8fCBXYWl0aW5nIGZvciBDYXJkIENhbmNlbGxlZCBieSBDYXJkaG9sZGVyIFtQSU5dXCIsXHJcbiAgICAgICAgICAgIDB4MjQ6IFwiV2FpdGluZyBmb3IgQ2FyZCBJQ0MgU2VhdGVkXCIsXHJcbiAgICAgICAgICAgIDB4MjU6IFwiV2FpdGluZyBmb3IgQ2FyZCBNU1IgU3dpcGVkXCIsXHJcbiAgICAgICAgICAgIDB4RkY6IFwiVW5rbm93biBUcmFuc2FjdGlvbiBTdGF0dXNcIixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0bHZQYXJzZXIgPSAoZGF0YSwgaXNNc3IpID0+IHtcclxuICAgICAgICBsZXQgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcclxuICAgICAgICBsZXQgaVRMViA9IDA7XHJcbiAgICAgICAgbGV0IGlUYWc7XHJcbiAgICAgICAgbGV0IGJUYWcgPSB0cnVlO1xyXG4gICAgICAgIGxldCBieXRlVmFsdWU7XHJcbiAgICAgICAgbGV0IGxlbmd0aFZhbHVlO1xyXG4gICAgICAgIGxldCB0YWdCeXRlcyA9IG51bGw7XHJcbiAgICAgICAgbGV0IFRhZ0J1ZmZlciA9IFtdO1xyXG5cclxuICAgICAgICB3aGlsZSAoaVRMViA8IGRhdGFMZW5ndGgpIHtcclxuICAgICAgICAgICAgYnl0ZVZhbHVlID0gZGF0YVtpVExWXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChiVGFnKSB7XHJcbiAgICAgICAgICAgICAgICBpVGFnID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBiTW9yZVRhZ0J5dGVzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYnl0ZVZhbHVlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9GaXJzdCBieXRlIG9mIHRhZyBjYW5ub3QgYmUgemVyby5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoYk1vcmVUYWdCeXRlcyAmJiAoaVRMViA8IGRhdGFMZW5ndGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnl0ZVZhbHVlID0gZGF0YVtpVExWXTtcclxuICAgICAgICAgICAgICAgICAgICBpVExWKys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFRhZ0J1ZmZlcltpVGFnXSA9IGJ5dGVWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYk1vcmVUYWdCeXRlcyA9IChpVGFnID09PSAwKSA/ICgoYnl0ZVZhbHVlICYgdGhpcy5tb3JlVGFnQnl0ZXNGbGFnMSkgPT0gdGhpcy5tb3JlVGFnQnl0ZXNGbGFnMSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGJ5dGVWYWx1ZSAmIHRoaXMubW9yZVRhZ0J5dGVzRmxhZzIpID09IHRoaXMubW9yZVRhZ0J5dGVzRmxhZzIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpVGFnKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGFnQnl0ZXMgPSB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKFRhZ0J1ZmZlci5zbGljZSgwLCBpVGFnKSk7XHJcbiAgICAgICAgICAgICAgICBiVGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZW5ndGhWYWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChieXRlVmFsdWUgJiB0aGlzLm1vcmVMZW5ndGhGbGFnKSA9PSB0aGlzLm1vcmVMZW5ndGhGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5MZW5ndGhCeXRlcyA9IGJ5dGVWYWx1ZSAmIHRoaXMub25lQnl0ZUxlbmd0aE1hc2s7XHJcbiAgICAgICAgICAgICAgICAgICAgaVRMVisrO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpTGVuID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChpTGVuIDwgbkxlbmd0aEJ5dGVzKSAmJiAoaVRMViA8IGRhdGFMZW5ndGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVWYWx1ZSA9IGRhdGFbaVRMVl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlUTFYrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoVmFsdWUgPSAoKGxlbmd0aFZhbHVlICYgMHgwMDAwMDBGRikgPDwgOCkgKyBieXRlVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlMZW4rKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZW5ndGhWYWx1ZSA9IGJ5dGVWYWx1ZSAmIHRoaXMub25lQnl0ZUxlbmd0aE1hc2s7XHJcbiAgICAgICAgICAgICAgICAgICAgaVRMVisrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0YWdCeXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWdCeXRlID0gVGFnQnVmZmVyWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kSW5kZXggPSAoKGlUTFYgKyBsZW5ndGhWYWx1ZSkgPiBkYXRhTGVuZ3RoKSA/IGRhdGFMZW5ndGggOiBpVExWICsgbGVuZ3RoVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsZW4gPSBlbmRJbmRleCAtIGlUTFY7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlQnl0ZXMgPSAobGVuID4gMCkgPyB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKGRhdGEuc2xpY2UoaVRMViwgaVRMViArIGxlbikpIDogXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRhZ1wiOiB0YWdCeXRlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YWdMZW5ndGhcIjogKCFsZW5ndGhWYWx1ZSkgPyAodmFsdWVCeXRlcy5sZW5ndGggKyAxIC8gMikgOiBsZW5ndGhWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YWdWYWx1ZVwiOiB0aGlzLmhleE9yQXNjaWlGb3JtYXR0ZXIodGFnQnl0ZXMsIHZhbHVlQnl0ZXMsIGlzTXNyKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICEoKHRhZ0J5dGUgJiB0aGlzLmNvbnN0cnVjdGVkRmxhZykgPT0gdGhpcy5jb25zdHJ1Y3RlZEZsYWcpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpVExWICs9IGxlbmd0aFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBiVGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGhleE9yQXNjaWlGb3JtYXR0ZXIgPSAodGFnQnl0ZXMsIHZhbHVlQnl0ZXMsIGlzTXNyKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoKHRhZ0J5dGVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJERkRGMUFcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZUJ5dGVzfSAke3RoaXMudHJ4U3RhdHVzVG9TdHJpbmdbIHBhcnNlSW50KHZhbHVlQnl0ZXMsIDE2KSBdfWBcclxuICAgICAgICAgICAgY2FzZSBcIkRGREY0RFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiNUYyMFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGV4VG9Bc2NpaSh2YWx1ZUJ5dGVzKTtcclxuICAgICAgICAgICAgY2FzZSBcIkRGREYyNVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChpc01zcikgPyB0aGlzLmhleFRvQXNjaWkoICh2YWx1ZUJ5dGVzID8gdmFsdWVCeXRlcy5zdWJzdHJpbmcoMCwgMTQpIDogdmFsdWVCeXRlcykgKSA6IHZhbHVlQnl0ZXM7XHJcbiAgICAgICAgICAgIGNhc2UgXCJERkRGNDBcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWVCeXRlcyA9PT0gMHg4MCkgPyBgJHt2YWx1ZUJ5dGVzfSAgQ0JDLU1BQyBjaGVja2VkIGluIEFSUUMgb25saW5lIHJlc3BvbnNlYCA6ICh2YWx1ZUJ5dGVzID09PSAweDAxKTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZUJ5dGVzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRW12UGFyc2VyOyIsImNsYXNzIExlbmd0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoXCJEZXZpY2UgY29tbXVuaWNhdGlvbiBlcnJvci4gTGVuZ3RoIGRvZXMgbm90IG1hdGNoIGRhdGFcIik7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJCbGVUcmFuc21pc3Npb25FcnJvclwiO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IDEwMTI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExlbmd0aEVycm9yOyIsImNsYXNzIERldmljZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoeyBjb2RlLCBuYW1lLCBtZXNzYWdlIH0pIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSAobmFtZSB8fCBcIkRldmljZUVycm9yXCIpO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IChjb2RlIHx8IDEwMDApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERldmljZUVycm9yOyIsImltcG9ydCBFbXZQYXJzZXIgZnJvbSAnLi4vcGFyc2Vycy9lbXZQYXJzZXInXHJcbmltcG9ydCBBcGlFcnJvciBmcm9tICcuL2FwaUVycm9yJztcclxuaW1wb3J0IExlbmd0aEVycm9yIGZyb20gJy4vbGVuZ3RoRXJyb3InO1xyXG5pbXBvcnQgRGV2aWNlRXJyb3IgZnJvbSAnLi9kZXZpY2VFcnJvcic7XHJcblxyXG5jbGFzcyBFcnJvckhhbmRsZXIgZXh0ZW5kcyBFbXZQYXJzZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrID0gY2FsbGJhY2tzLmVycm9yQ2FsbGJhY2s7XHJcbiAgICB9O1xyXG5cclxuICAgIGJ1aWxkRGV2aWNlRXJyID0gZXJyID0+IChlcnIgaW5zdGFuY2VvZiBET01FeGNlcHRpb24pID8gXHJcbiAgICAgICAgbmV3IEFwaUVycm9yKGVycikgOiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpID8gXHJcbiAgICAgICAgICAgIGVyciA6IG5ldyBEZXZpY2VFcnJvcihlcnIpO1xyXG5cclxuICAgIHRocm93TGVuRXJyID0gKCkgPT4gbmV3IExlbmd0aEVycm9yKCk7XHJcblxyXG4gICAgc2VuZEVyclRvQ2FsbGJhY2sgPSBlcnIgPT4ge1xyXG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayhlcnIpO1xyXG4gICAgICAgIHJldHVybiBlcnI7XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFcnJvckhhbmRsZXI7IiwiY29uc3Qgbm90Rm91bmRPYmogPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGVycm9yQ29kZTogOCxcclxuICAgIGVycm9yTmFtZTogXCJOb3RGb3VuZEVycm9yXCJcclxufSk7XHJcblxyXG5jb25zdCBhcGlOZXR3b3JrRXJyID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxOSxcclxuICAgIG5hbWU6ICdOZXR3b3JrRXJyb3InXHJcbn0pO1xyXG5cclxuY29uc3QgZGV2aWNlTm90Rm91bmQgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDIsXHJcbiAgICBuYW1lOiAnRGV2aWNlTm90Rm91bmQnLFxyXG4gICAgbWVzc2FnZTogXCJQbGVhc2Ugc2VsZWN0IGRldmljZSB0byBjb25uZWN0XCJcclxufSk7XHJcblxyXG5jb25zdCBnYXR0U2VydmVyTm90Q29ubmVjdGVkID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDAzLFxyXG4gICAgbmFtZTogXCJHYXR0U2VydmVyTm90Q29ubmVjdGVkXCIsXHJcbiAgICBtZXNzYWdlOiBcIlBsZWFzZSBjb25uZWN0IGRlc2lyZWQgZGV2aWNlXCJcclxufSk7XHJcblxyXG5jb25zdCBjb21tYW5kTm90U2VudCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAwNCwgXHJcbiAgICBuYW1lOiBcIkNvbW1hbmROb3RTZW50XCIsIFxyXG4gICAgbWVzc2FnZTogXCJDb21tYW5kIGNoYXJhY3RlcmlzdGljIG5vdCBmb3VuZCwgZGV2aWNlIG5vdCBvcGVuZWRcIlxyXG59KTtcclxuXHJcbmNvbnN0IGRldmljZU5vdE9wZW4gPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDUsIFxyXG4gICAgbmFtZTogXCJDb21tYW5kTm90U2VudFwiLCBcclxuICAgIG1lc3NhZ2U6IFwiRGV2aWNlIG5vdCBvcGVuZWRcIlxyXG59KTtcclxuXHJcbmNvbnN0IGNvbW1hbmROb3RTZW50RnJvbUhvc3QgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDYsIFxyXG4gICAgbmFtZTogXCJDb21tYW5kTm90U2VudFwiLCBcclxuICAgIG1lc3NhZ2U6IFwiQXBwbGljYXRpb24gRnJvbSBIb3N0IG5vdCBmb3VuZC4gIERldmljZSBub3QgY29ubmVjdGVkXCJcclxufSk7XHJcblxyXG5jb25zdCByZWFkRmFpbGVkID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDA3LCBcclxuICAgIG5hbWU6IFwiUmVhZEZhaWxlZFwiLCBcclxuICAgIG1lc3NhZ2U6IFwiVW5hYmxlIHRvIHJlYWQgZGF0YSBmcm9tIGRldmljZS4gQ29tbXVuaWNhdGlvbiBlcnJvclwiXHJcbn0pO1xyXG5cclxuY29uc3QgcmVzcG9uc2VOb3RSZWNlaXZlZCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAwOCwgXHJcbiAgICBuYW1lOiAnUmVzcG9uc2VOb3RSZWNlaXZlZCcsIFxyXG4gICAgbWVzc2FnZTogXCJDb21tYW5kIHdhcyBzZW50LCBidXQgcmVzcG9uc2Ugd2FzIG5vdCByZWNlaXZlZCBmcm9tIGRldmljZVwiXHJcbn0pO1xyXG5cclxuY29uc3QgZ2V0U2VydmljZUZhaWwgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDksIFxyXG4gICAgbmFtZTogXCJHZXRTZXJ2aWNlRmFpbFwiLCBcclxuICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHJldHJpZXZlIHByaW1hcnkgR0FUVCBzZXJ2aWNlLiBQbGVhc2UgY29ubmVjdCBkZXZpY2VcIlxyXG59KTtcclxuXHJcbmNvbnN0IGNvbW1hbmROb3RBY2NlcHRlZCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAxMyxcclxuICAgIG5hbWU6IFwiQ29tbWFuZE5vdEFjY2VwdGVkXCIsXHJcbiAgICBtZXNzYWdlOiBcIkRldmljZSBkaWQgbm90IGFjY2VwdCBjb21tYW5kXCJcclxufSk7XHJcblxyXG5jb25zdCBtaXNzaW5nUmVxdWlyZWRGaWVsZHMgPSBmaWVsZE5hbWUgPT4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDE0LFxyXG4gICAgbmFtZTogXCJNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJcIixcclxuICAgIG1lc3NhZ2U6IGAnJHtmaWVsZE5hbWV9JyBpcyByZXF1aXJlZCB0byBjYWxsIHRoaXMgZnVuY3Rpb24uYFxyXG59KTtcclxuXHJcbmNvbnN0IHdyb25nSW5wdXRUeXBlcyA9IGFjY2VwdGFibGVUeXBlcyA9PiBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMTUsXHJcbiAgICBuYW1lOiBcIkluY29ycmVjdElucHV0VHlwZVwiLFxyXG4gICAgbWVzc2FnZTogYFBhcmFtZXRlciB0eXBlIHdhcyBub3QgY29ycmVjdCwgYWNjZXB0YWJsZSB0eXBlKHMpIGFyZTogJHthY2NlcHRhYmxlVHlwZXMuam9pbihcIiwgXCIpfWBcclxufSk7XHJcblxyXG5leHBvcnQge1xyXG4gICAgY29tbWFuZE5vdEFjY2VwdGVkLFxyXG4gICAgY29tbWFuZE5vdFNlbnQsXHJcbiAgICByZXNwb25zZU5vdFJlY2VpdmVkLFxyXG4gICAgZGV2aWNlTm90Rm91bmQsXHJcbiAgICBkZXZpY2VOb3RPcGVuLFxyXG4gICAgZ2F0dFNlcnZlck5vdENvbm5lY3RlZCxcclxuICAgIHJlYWRGYWlsZWQsXHJcbiAgICBjb21tYW5kTm90U2VudEZyb21Ib3N0LFxyXG4gICAgZ2V0U2VydmljZUZhaWwsXHJcbiAgICBub3RGb3VuZE9iaixcclxuICAgIGFwaU5ldHdvcmtFcnIsXHJcbiAgICBtaXNzaW5nUmVxdWlyZWRGaWVsZHMsXHJcbiAgICB3cm9uZ0lucHV0VHlwZXNcclxufVxyXG4iLCJpbXBvcnQgRXJyb3JIYW5kbGVyIGZyb20gJy4uL2Vycm9ySGFuZGxlcic7XHJcbmltcG9ydCB7IFxyXG4gICAgZGV2aWNlTm90Rm91bmQsIFxyXG4gICAgZ2F0dFNlcnZlck5vdENvbm5lY3RlZCxcclxuICAgIGdldFNlcnZpY2VGYWlsLFxyXG4gICAgbm90Rm91bmRPYmosXHJcbiAgICBkZXZpY2VOb3RPcGVuLFxyXG4gICAgYXBpTmV0d29ya0VycixcclxuICAgIHdyb25nSW5wdXRUeXBlc1xyXG59IGZyb20gJy4uL2Vycm9ySGFuZGxlci9lcnJDb25zdGFudHMnO1xyXG5pbXBvcnQgeyBjYXJkVHlwZUFsbCwgY2FyZFR5cGVzT2JqLCBzdWNjZXNzZnVsQ2xvc2UgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY2xhc3MgRGV2aWNlQmFzZSBleHRlbmRzIEVycm9ySGFuZGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxiYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGNhbGxiYWNrcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlID0gZGV2aWNlO1xyXG4gICAgICAgIHRoaXMuZGlzY29ubmVjdENhbGxiYWNrID0gY2FsbGJhY2tzLmRpc2Nvbm5lY3RIYW5kbGVyO1xyXG4gICAgICAgIHRoaXMuZ2F0dFNlcnZlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jYXJkU2VydmljZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlVVVJRHMgPSBbXHJcbiAgICAgICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTA0XCIsXHJcbiAgICAgICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTAzXCIsIFxyXG4gICAgICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwMVwiXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0dXNWZXJib3NpdHkgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgXCJtaW5pbXVtXCI6IDB4MDAsXHJcbiAgICAgICAgICAgICdtZWRpdW0nOiAweDAxLFxyXG4gICAgICAgICAgICAndmVyYm9zZSc6IDB4MDJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW5jeUNvZGUgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgJ2RvbGxhcic6IFsweDA4LCAweDQwXSxcclxuICAgICAgICAgICAgJ2V1cm8nOiBbMHgwOSwgMHg3OF0sXHJcbiAgICAgICAgICAgICdwb3VuZCc6IFsweDA4LCAweDI2XSxcclxuICAgICAgICAgICAgJ2RlZmF1bHQnOiBbMHgwMCwgMHgwMF0gXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25UeXBlcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAncHVyY2hhc2UnOiAweDAwLFxyXG4gICAgICAgICAgICAnY2FzaGFkdmFuY2UnOiAweDAxLFxyXG4gICAgICAgICAgICAnY2FzaGJhY2snOiAweDAyLFxyXG4gICAgICAgICAgICAncHVyY2hhc2Vnb29kcyc6IDB4MDQsXHJcbiAgICAgICAgICAgICdwdXJjaGFzZXNlcnZpY2VzJzogMHgwOCxcclxuICAgICAgICAgICAgJ2NvbnRhY3RsZXNzY2FzaGJhY2snOiAweDA5LFxyXG4gICAgICAgICAgICAnY2FzaG1hbnVhbCc6IDB4MTIsXHJcbiAgICAgICAgICAgICdyZWZ1bmQnOiAweDIwLCBcclxuICAgICAgICAgICAgJ2NoaXBvbmx5cGF5bWVudCc6IDB4NTBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tYW5kUmVzcEF2YWlsYWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNhcmRUeXBlcyA9IGNhcmRUeXBlU3RyID0+IChjYXJkVHlwZVN0ciAhPT0gJ2FsbCcpID8gXHJcbiAgICAgICAgKGNhcmRUeXBlc09ialsgY2FyZFR5cGVTdHIgXSB8fCAweDAzKSA6IChjYXJkVHlwZUFsbFsgdGhpcy5kZXZpY2VUeXBlIF0gfHwgMHgwMyk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgY29ubmVjdCA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBEZXZpY2UgQ29ubmVjdGlvbiBSZXF1ZXN0IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmRldmljZSkgP1xyXG4gICAgICAgICAgICB0aGlzLmRldmljZS5nYXR0LmNvbm5lY3QoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc2VydmVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IERldmljZSBjb25uZWN0ZWQgLSBHQVRUIFNlcnZlciByZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhdHRTZXJ2ZXIgPSBzZXJ2ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RGb3VuZCkgKVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGlzY29ubmVjdCA9ICgpID0+IG5ldyBQcm9taXNlKCByZXNvbHZlID0+ICB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggc3VjY2Vzc2Z1bENsb3NlIClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlLmdhdHQuZGlzY29ubmVjdCgpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCBzdWNjZXNzZnVsQ2xvc2UgKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNhY2hlQ2FyZFNlcnZpY2VCYXNlID0gc2VydmljZUluZGV4ID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgc2VydmljZUluZGV4ID0gc2VydmljZUluZGV4IHx8IDA7XHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBDYWNoZSBDYXJkIFNlcnZpY2UgUmVxdWVzdCB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoIXRoaXMuZ2F0dFNlcnZlcikgPyBcclxuICAgICAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGdhdHRTZXJ2ZXJOb3RDb25uZWN0ZWQpIClcclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICB0aGlzLmZpbmRQcmltYXJ5U2VydmljZShzZXJ2aWNlSW5kZXgpXHJcbiAgICAgICAgICAgIC50aGVuKHNlcnZpY2UgPT4gcmVzb2x2ZShzZXJ2aWNlKSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSlcclxuICAgIH0pO1xyXG5cclxuICAgIGZpbmRQcmltYXJ5U2VydmljZSA9IHNlcnZpY2VJbmRleCA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT5cclxuICAgICAgICB0aGlzLmdhdHRTZXJ2ZXIuZ2V0UHJpbWFyeVNlcnZpY2UodGhpcy5kZXZpY2VVVUlEc1tzZXJ2aWNlSW5kZXhdKVxyXG4gICAgICAgIC50aGVuKHNlcnZpY2UgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhcmRTZXJ2aWNlID0gc2VydmljZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogU3VjY2VzcyEgR0FUVCBDYXJkIFNlcnZpY2UgcmV0cmlldmVkIGFuZCBjYWNoZWQgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXZpY2UuYWRkRXZlbnRMaXN0ZW5lcignZ2F0dHNlcnZlcmRpc2Nvbm5lY3RlZCcsIHRoaXMuZGlzY29ubmVjdEhhbmRsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggc2VydmljZSApO1xyXG4gICAgICAgIH0pLmNhdGNoKCBlcnIgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IG5vdEZvdW5kT2JqLmVycm9yQ29kZSAmJiBlcnIubmFtZSA9PT0gbm90Rm91bmRPYmouZXJyb3JOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKCB0aGlzLmRldmljZVVVSURzW3NlcnZpY2VJbmRleCArIDFdICE9PSBcInVuZGVmaW5lZFwiICkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgYFtFUlJPUl06IEZhaWxlZCB0byBjb25uZWN0LiBVVUlEOiAke3RoaXMuZGV2aWNlVVVJRHNbIHNlcnZpY2VJbmRleCBdfSBpcyBub3QgdmFsaWQgZm9yIHRoaXMgZGV2aWNlLiBUcnlpbmcgYWdhaW4gd2l0aCBVVUlEOiAke3RoaXMuZGV2aWNlVVVJRHNbIHNlcnZpY2VJbmRleCArIDEgXX0gfHwgJHtuZXcgRGF0ZSgpfWBcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5maW5kUHJpbWFyeVNlcnZpY2Uoc2VydmljZUluZGV4ICsgMSkgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtFUlJPUl06IEZhaWxlZCB0byByZXRyaWV2ZSBDYXJkIFNlcnZpY2UgLSBVVUlEOiAke3RoaXMuZGV2aWNlVVVJRHNbIHNlcnZpY2VJbmRleCBdfSBpcyBub3QgdmFsaWQgZm9yIHRoaXMgZGV2aWNlLiB8fCAke25ldyBEYXRlKCl9YCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCggZXJyICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25uZWN0QW5kQ2FjaGUgPSBvcHRpb25hbEluZGV4ID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICAgIGxldCB0cnlUb0Nvbm5lY3QgPSB0cnlDb3VudCA9PiBuZXcgUHJvbWlzZSggKGlubmVyUmVzb2x2ZSwgaW5uZXJSZWplY3QpID0+ICh0cnlDb3VudCA8IDQpID8gXHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5jYWNoZUNhcmRTZXJ2aWNlQmFzZShvcHRpb25hbEluZGV4KSApXHJcbiAgICAgICAgICAgICAgICAudGhlbiggY2FjaGVTZXJ2aWNlUmVzcCA9PiBpbm5lclJlc29sdmUoIGNhY2hlU2VydmljZVJlc3AgKVxyXG4gICAgICAgICAgICAgICAgKS5jYXRjaCggZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IGFwaU5ldHdvcmtFcnIuY29kZSAmJiBlcnIubmFtZSA9PT0gYXBpTmV0d29ya0Vyci5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbRVJST1JdOiBFcnJvciBjYWNoaW5nIEdBVFQgU2VydmljZSAtIENsZWFyaW5nIGNhY2hlIGFuZCB0cnlpbmcgYWdhaW4uIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJHYXR0Q2FjaGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbm5lclJlc29sdmUoIHRyeVRvQ29ubmVjdCggdHJ5Q291bnQgKyAxICkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0VSUk9SXTogRmFpbGVkIHRvIGNhY2hlIEdBVFQgU2VydmljZSB8fCAke25ldyBEYXRlKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbm5lclJlamVjdCggZXJyIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIGlubmVyUmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGdldFNlcnZpY2VGYWlsKSApXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRyeVRvQ29ubmVjdCgwKS50aGVuKFxyXG4gICAgICAgICAgICBjYWNoZVNlcnZpY2VSZXNwID0+IHJlc29sdmUoIGNhY2hlU2VydmljZVJlc3ApXHJcbiAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2VuZEFycGNCYXNlID0gYXJwY1Jlc3AgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpXHJcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikgKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcnBjUmVzcCAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIGFycGNSZXNwICE9PSAnb2JqZWN0JylcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdCggdGhpcy5idWlsZERldmljZUVyciggd3JvbmdJbnB1dFR5cGVzKFsnc3RyaW5nJywgJ2FycmF5IG9mIG51bWJlcnMnXSkgKSApO1xyXG5cclxuICAgICAgICBjb25zdCBkYXRhTGVuID0gKHR5cGVvZiBhcnBjUmVzcCA9PT0gJ3N0cmluZycpID8gKGFycGNSZXNwLmxlbmd0aCAvIDIpIDogYXJwY1Jlc3AubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGlucHV0RGF0YSA9ICh0eXBlb2YgYXJwY1Jlc3AgPT09ICdzdHJpbmcnKSA/IHRoaXMuaGV4VG9CeXRlcyhhcnBjUmVzcCkgOiBhcnBjUmVzcDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRBcnBjQ29tbWFuZChkYXRhTGVuLCBpbnB1dERhdGEpXHJcbiAgICAgICAgKVxyXG4gICAgfSk7XHJcblxyXG4gICAgb25EZXN0cm95SGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kZXZpY2UgJiYgdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpIFxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXZpY2UuZ2F0dC5kaXNjb25uZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgd2FpdEZvckRldmljZVJlc3BvbnNlID0gbWF4VHJpZXMgPT4gbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xyXG5cclxuICAgICAgICBsZXQgd2FpdEZvclJlc3BvbnNlID0gdHJ5TnVtYmVyID0+IFxyXG4gICAgICAgICAgICAodHJ5TnVtYmVyIDwgbWF4VHJpZXMpID8gXHJcbiAgICAgICAgICAgICAgICAodGhpcy5jb21tYW5kUmVzcEF2YWlsYWJsZSkgPyByZXNvbHZlKCB0cnVlICkgOiBzZXRUaW1lb3V0KCgpID0+IHdhaXRGb3JSZXNwb25zZSh0cnlOdW1iZXIgKyAxKSwgMjAwKVxyXG4gICAgICAgICAgICA6IHJlc29sdmUoIGZhbHNlICk7XHJcblxyXG4gICAgICAgIHdhaXRGb3JSZXNwb25zZSgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRpc2Nvbm5lY3RIYW5kbGVyID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIHRoaXMuZ2F0dFNlcnZlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jYXJkU2VydmljZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtEaXNjb25uZWN0ZWRdOiBEaXNjb25uZWN0IGV2ZW50LiBSZXR1cm5pbmcgZXZlbnQgdG8gdXNlciwgcmVtb3ZpbmcgZGV2aWNlIGxpc3RlbmVyIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0Q2FsbGJhY2soZXZlbnQpO1xyXG4gICAgICAgIHRoaXMuZGV2aWNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2dhdHRzZXJ2ZXJkaXNjb25uZWN0ZWQnLCB0aGlzLmRpc2Nvbm5lY3RIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0RldmljZUNvbm5lY3RlZCA9ICgpID0+ICh0aGlzLmRldmljZS5nYXR0KSA/IHRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkIDogZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERldmljZUJhc2U7IiwiaW1wb3J0IERldmljZUJhc2UgZnJvbSAnLi4vZGV2aWNlcy9iYXNlQ2xhc3MnO1xyXG5cclxuY2xhc3MgUGluVXRpbHMgZXh0ZW5kcyBEZXZpY2VCYXNlIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY2ltYWxUb0JpbmFyeSA9IG51bSA9PiB7XHJcbiAgICAgICAgbGV0IGJpbmFyeU51bSA9IChudW0gPj4+IDApLnRvU3RyaW5nKDIpO1xyXG4gICAgICAgIHJldHVybiBcIjAwMDAwMDAwXCIuc3Vic3RyKGJpbmFyeU51bS5sZW5ndGgpICsgYmluYXJ5TnVtO1xyXG4gICAgfVxyXG5cclxuICAgIHN0cmluZ051bVRvQm9vbCA9IHN0cmluZ051bSA9PiAhIStzdHJpbmdOdW07XHJcblxyXG4gICAgZmluZE51bGxUZXJtaW5hdGVkU3RyaW5nID0gbnVsbFRlcm1pbmF0ZWRBcnJheSA9PiB7XHJcbiAgICAgICAgbGV0IHRhcmdldEluZGV4O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bGxUZXJtaW5hdGVkQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG51bGxUZXJtaW5hdGVkQXJyYXlbaV0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChudWxsVGVybWluYXRlZEFycmF5W2kgKyAxXSA9PT0gMCAmJiBudWxsVGVybWluYXRlZEFycmF5W2kgKyAyXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICh0YXJnZXRJbmRleCkgPyBcclxuICAgICAgICAgICAgdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhudWxsVGVybWluYXRlZEFycmF5LnNsaWNlKDIsIHRhcmdldEluZGV4KSApIFxyXG4gICAgICAgICAgICA6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcobnVsbFRlcm1pbmF0ZWRBcnJheS5zbGljZSgyKSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRQaW5MZW5ndGggPSAobWF4TGVuLCBtaW5MZW4pID0+IHtcclxuICAgICAgICBsZXQgbWF4TGVuZ3RoID0gMTI7XHJcbiAgICAgICAgbGV0IG1pbkxlbmd0aCA9IDQ7XHJcblxyXG4gICAgICAgIGlmIChtYXhMZW4pIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXhMZW4gPT09ICdudW1iZXInICYmIG1heExlbiA8PSAxMilcclxuICAgICAgICAgICAgICAgIG1heExlbmd0aCA9IChtYXhMZW4gPj0gNCkgPyBtYXhMZW4gOiAxMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtaW5MZW4pIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5MZW4gPT09ICdudW1iZXInICYmIG1pbkxlbiA+PTQpXHJcbiAgICAgICAgICAgICAgICBtaW5MZW5ndGggPSAobWluTGVuIDw9IG1heExlbmd0aCkgPyBtaW5MZW4gOiA0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGAke21heExlbmd0aC50b1N0cmluZygxNil9JHttaW5MZW5ndGgudG9TdHJpbmcoMTYpfWAsIDE2KTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZFBpbk9wdGlvbnNCeXRlID0gKGxhbmd1YWdlU2VsZWN0aW9uLCB3YWl0TWVzc2FnZSwgdmVyaWZ5UGluLCBwaW5CbG9ja0Zvcm1hdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxhbmd1YWdlUHJvbXB0cyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBcImRpc2FibGVkXCI6IFwiMDBcIixcclxuICAgICAgICAgICAgXCJlbmdsaXNoZnJlbmNoXCI6IFwiMDFcIixcclxuICAgICAgICAgICAgXCJhbGxzcGVjaWZpZWRcIjogXCIxMFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxhbmd1YWdlU2VsZWN0aW9uID0gKGxhbmd1YWdlU2VsZWN0aW9uKSA/IChsYW5ndWFnZVByb21wdHNbIGxhbmd1YWdlU2VsZWN0aW9uLnRvTG93ZXJDYXNlKCkgXSB8fCBsYW5ndWFnZVByb21wdHMuZGlzYWJsZWQpIDogbGFuZ3VhZ2VQcm9tcHRzLmRpc2FibGVkO1xyXG4gICAgICAgIHdhaXRNZXNzYWdlID0gKHR5cGVvZiB3YWl0TWVzc2FnZSA9PT0gJ2Jvb2xlYW4nKSA/IHdhaXRNZXNzYWdlIDogdHJ1ZTtcclxuICAgICAgICB2ZXJpZnlQaW4gPSAodHlwZW9mIHdhaXRNZXNzYWdlID09PSAnYm9vbGVhbicpID8gd2FpdE1lc3NhZ2UgOiB0cnVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBpbkJsb2NrRm9ybWF0ID0gKHBpbkJsb2NrRm9ybWF0KSA/IFxyXG4gICAgICAgICAgICAocGluQmxvY2tGb3JtYXQudG9Mb3dlckNhc2UoKSBpbiBbJ2lzbzAnLCAnaXNvMyddKSA/IFxyXG4gICAgICAgICAgICAgICAgKHBpbkJsb2NrRm9ybWF0LnRvTG93ZXJDYXNlKCkgPT09ICdpc28wJykgPyAnMCcgOiAnMScgXHJcbiAgICAgICAgICAgIDogJzAnXHJcbiAgICAgICAgOiAnMCc7XHJcblxyXG4gICAgICAgIGNvbnN0IGJpbmFyeVJlc3VsdCA9IGAwMDAke2xhbmd1YWdlU2VsZWN0aW9ufSR7KCh3YWl0TWVzc2FnZSkgPyAnMScgOiAnMCcpfSR7KCh2ZXJpZnlQaW4pID8gJzEnIDogJzAnKX0ke3BpbkJsb2NrRm9ybWF0fWA7XHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW1Bpbk9wdGlvbnNCeXRlXTogYmluYXJ5IHN0cmluZyByZXByZXNlbnRhdGlvbjogJHtiaW5hcnlSZXN1bHR9IHx8IGJ5dGUgcmVzdWx0OiAke3BhcnNlSW50KGJpbmFyeVJlc3VsdCwgMil9YClcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGJpbmFyeVJlc3VsdCwgMik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBpblV0aWxzOyIsImltcG9ydCBQaW5VdGlscyBmcm9tICcuLi91dGlscy9waW5VdGlscyc7XHJcbmltcG9ydCB7IGNvbmZpZ1N0ciwgdW5rbm93biwgYXNjaWkgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY2xhc3MgUGFyc2VQaW5Db25maWcgZXh0ZW5kcyBQaW5VdGlscyB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFja0RhdGFPcHRpb25zID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwiMDBcIjogXCJEaXNhYmxlZFwiLFxyXG4gICAgICAgICAgICBcIjAxXCI6IFwiRW5hYmxlZFwiLFxyXG4gICAgICAgICAgICBcIjExXCI6IFwiUmVxdWlyZWRcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVtdkwyQ29uZmlnT3B0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBcIjAwMDBcIjogXCJObyBMMiBDYXBhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgIFwiMDAwMVwiOiBgJHtjb25maWdTdHJ9IEMxIChFTVZDbyBjZXJ0aWZpZWQpYCxcclxuICAgICAgICAgICAgXCIwMDEwXCI6IGAke2NvbmZpZ1N0cn0gQzJgLFxyXG4gICAgICAgICAgICBcIjAwMTFcIjogYCR7Y29uZmlnU3RyfSBDM2AsXHJcbiAgICAgICAgICAgIFwiMDEwMFwiOiBgJHtjb25maWdTdHJ9IEM0IChFTVZDbyBjZXJ0aWZpZWQpYCxcclxuICAgICAgICAgICAgXCIwMTAxXCI6IGAke2NvbmZpZ1N0cn0gQzUgKEVNVkNvIGNlcnRpZmllZClgLFxyXG4gICAgICAgICAgICBcIjAxMTBcIjogYCR7Y29uZmlnU3RyfSBDNmAsXHJcbiAgICAgICAgICAgIFwiMDExMVwiOiBgJHtjb25maWdTdHJ9IEM3YFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVuYWJsZWRCcmFuZHMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgXCIwXCI6IFwiQWxsIGNvbnRhY2xlc3Mga2VybmFscyBlbmFibGVkXCIsXHJcbiAgICAgICAgICAgIFwiMVwiOiBcIlBheVBhc3MvTUNMIHN1cHBvcnQgZGlzYWJsZWRcIixcclxuICAgICAgICAgICAgXCIyXCI6IFwicGF5V2F2ZSBzdXBwb3J0IGRpc2FibGVkXCIsXHJcbiAgICAgICAgICAgIFwiNFwiOiBcIkV4cHJlc3NwYXkgc3VwcG9ydCBkaXNhYmxlZFwiLFxyXG4gICAgICAgICAgICBcIjhcIjogXCJELVBBUyBzdXBwb3J0IGRpc2FibGVkXCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZURldmljZUNvbmZpZ3VyYXRpb24gPSBjb25maWdBcnIgPT4gKHtcclxuICAgICAgICAuLi50aGlzLmZpcnN0RGV2aWNlQ29udHJvbEJ5dGUoIHRoaXMuZGVjaW1hbFRvQmluYXJ5KGNvbmZpZ0FyclsxXSkgKSxcclxuICAgICAgICAuLi50aGlzLnNlY29uZERldmljZUNvbnRyb2xCeXRlKCB0aGlzLmRlY2ltYWxUb0JpbmFyeShjb25maWdBcnJbMl0pICksXHJcbiAgICAgICAgLi4udGhpcy5tYXNrQ29uZmlndXJhdGlvbkJ5dGUoIHRoaXMuZGVjaW1hbFRvQmluYXJ5KGNvbmZpZ0FyclszXSkgKSxcclxuICAgICAgICAuLi50aGlzLm1zckNvbmZpZ3VyYXRpb25CeXRlKCB0aGlzLmRlY2ltYWxUb0JpbmFyeShjb25maWdBcnJbNF0pICksXHJcbiAgICAgICAgbWFza0NoYXJhY3RlcjogdGhpcy5maW5kTWFza0NoYXJhY3Rlcihjb25maWdBcnJbNV0pLFxyXG4gICAgICAgIGxlYWRpbmdVbm1hc2tlZExlbmd0aDogcGFyc2VJbnQodGhpcy5kZWNpbWFsVG9CaW5hcnkoIGNvbmZpZ0Fycls2XSkuc2xpY2UoNCksIDIpLFxyXG4gICAgICAgIHRyYWlsaW5nVW5tYXNrZWRMZW5ndGg6IHBhcnNlSW50KHRoaXMuZGVjaW1hbFRvQmluYXJ5KCBjb25maWdBcnJbNl0pLnNsaWNlKDAsIDQpLCAyKSxcclxuICAgICAgICBlbXZMMkljc0NvbmZpZzogKHRoaXMuZW12TDJDb25maWdPcHRpb25zWyB0aGlzLmRlY2ltYWxUb0JpbmFyeShjb25maWdBcnJbN10pLnNsaWNlKDAsIDQpIF0gfHwgYCR7dW5rbm93bn0vVW5kb2N1bWVudGVkIEVNViBMMiBJQ1MgJHtjb25maWdTdHJ9YCksXHJcbiAgICAgICAgLi4udGhpcy5jb250YWN0bGVzc0NvbmZpZyggY29uZmlnQXJyWzhdIClcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnRhY3RsZXNzQ29uZmlnID0gY29udGFjdGxlc3NCeXRlID0+ICh7XHJcbiAgICAgICAgY29udGFjdGxlc3NTdXBwb3J0OiB0aGlzLmVuYWJsZWRCcmFuZHNbIHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoW2NvbnRhY3RsZXNzQnl0ZV0pWzBdIF0sXHJcbiAgICAgICAgY29udGFjdGxlc3NHdWlDb250cm9sczogKHRoaXMuZGVjaW1hbFRvQmluYXJ5KGNvbnRhY3RsZXNzQnl0ZSlbNV0gPT09IFwiMVwiKSA/IFwiQWx0ZXJuYXRlXCIgOiBcIlN0YW5kYXJkXCJcclxuICAgIH0pXHJcblxyXG4gICAgZmluZE1hc2tDaGFyYWN0ZXIgPSBudW1DaGFyID0+IHtcclxuICAgICAgICBpZiAobnVtQ2hhciA9PT0gNDgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke2FzY2lpfTogJzAnYFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgbnVtQ2hhclRvSGV4ID0gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhbbnVtQ2hhcl0pO1xyXG4gICAgICAgICAgICBjb25zdCBudW1DaGFyVG9Bc2NpaSA9IHRoaXMuaGV4VG9Bc2NpaSggbnVtQ2hhclRvSGV4ICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKG51bUNoYXJUb0FzY2lpKSA/IGAke2FzY2lpfTogJyR7bnVtQ2hhclRvQXNjaWl9J2AgXHJcbiAgICAgICAgICAgICAgICA6IGBOb24tJHthc2NpaX0gY2hhcmFjdGVyIGluIGhleDogJyR7bnVtQ2hhclRvSGV4fSdgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpcnN0RGV2aWNlQ29udHJvbEJ5dGUgPSBkZXZpY2VDb250cm9sQnl0ZSA9PiAoe1xyXG4gICAgICAgIHJlcXVpcmVNdXR1YWxBdXRoOiB0aGlzLnN0cmluZ051bVRvQm9vbChkZXZpY2VDb250cm9sQnl0ZVswXSksXHJcbiAgICAgICAgbXNyRW5jcnlwdGlvblZhcmlhbnQ6IChkZXZpY2VDb250cm9sQnl0ZVsxXSA9PT0gXCIxXCIpID8gXCJEQVRBXCIgOiBcIlBJTlwiLFxyXG4gICAgICAgIGlzQ2xlYXJUZXh0RW5hYmxlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woZGV2aWNlQ29udHJvbEJ5dGVbM10pLFxyXG4gICAgICAgIGlzQmVlcGVyTW9kZUVuYWJsZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKGRldmljZUNvbnRyb2xCeXRlWzRdKSxcclxuICAgICAgICBpc0JpdG1hcExvY2tlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woZGV2aWNlQ29udHJvbEJ5dGVbNl0pLFxyXG4gICAgICAgIGlzQ29uZmlndXJhdGlvbkxvY2tlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woZGV2aWNlQ29udHJvbEJ5dGVbN10pXHJcbiAgICB9KTtcclxuXHJcbiAgICBzZWNvbmREZXZpY2VDb250cm9sQnl0ZSA9IGRldmljZUN0cmxCeXRlID0+ICh7XHJcbiAgICAgICAgaXNBcnBjTWFjRW5hYmxlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woZGV2aWNlQ3RybEJ5dGVbMV0pLFxyXG4gICAgICAgIGlzRmluYW5jaWFsSWNjQ2FyZFR5cGVSZXBvcnRpbmdFbmFibGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbChkZXZpY2VDdHJsQnl0ZVsyXSksXHJcbiAgICAgICAgYXJxY0JhdGNoRGF0YU91dHB1dEZvcm1hdDogKGRldmljZUN0cmxCeXRlWzNdID09PSBcIjFcIikgPyBcIlJlc2VydmVkIEZvcm1hdFwiIDogXCJEeW5hUHJvIEZvcm1hdFwiXHJcbiAgICB9KTtcclxuXHJcbiAgICBtYXNrQ29uZmlndXJhdGlvbkJ5dGUgPSBtYXNrQ29uZmlnQnl0ZSA9PiAoe1xyXG4gICAgICAgIGlzSXNvTWFza0VuYWJsZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKG1hc2tDb25maWdCeXRlWzddKSxcclxuICAgICAgICBpc0NoZWNrRGlnaXRFbmFibGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbChtYXNrQ29uZmlnQnl0ZVs2XSksXHJcbiAgICAgICAgaXNNczJQb2ludDBFbmFibGVkOiAoIG1hc2tDb25maWdCeXRlLnNsaWNlKDQsIDYpICE9PSBcIjAwXCIpXHJcbiAgICB9KTtcclxuXHJcbiAgICBtc3JDb25maWd1cmF0aW9uQnl0ZSA9IG1zckNvbmZpZ0J5dGUgPT4gKHtcclxuICAgICAgICBpc0FBTVZBY2FyZEVuYWJsZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKG1zckNvbmZpZ0J5dGVbN10pLFxyXG4gICAgICAgIHRyYWNrM0RhdGE6ICggdGhpcy50cmFja0RhdGFPcHRpb25zWyBtc3JDb25maWdCeXRlLnNsaWNlKDQsIDYpIF0gfHwgdW5rbm93biApLFxyXG4gICAgICAgIHRyYWNrMkRhdGE6ICggdGhpcy50cmFja0RhdGFPcHRpb25zWyBtc3JDb25maWdCeXRlLnNsaWNlKDIsIDQpIF0gfHwgdW5rbm93biApLFxyXG4gICAgICAgIHRyYWNrMURhdGE6ICggdGhpcy50cmFja0RhdGFPcHRpb25zWyBtc3JDb25maWdCeXRlLnNsaWNlKDAsIDIpIF0gfHwgdW5rbm93biApLFxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFyc2VQaW5Db25maWc7XHJcbiIsImltcG9ydCBQYXJzZVBpbkNvbmZpZyBmcm9tICcuL3BpbkNvbmZpZ3VyYXRpb24nO1xyXG5pbXBvcnQgeyB1bmtub3duIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIFBpblN0YXR1c1BhcnNlciBleHRlbmRzIFBhcnNlUGluQ29uZmlnIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLm9wZXJhdGlvblN0YXR1cyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIk9rXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiQ2FyZGhvbGRlciBDYW5jZWxcIixcclxuICAgICAgICAgICAgMHgwMjogXCJUaW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MDM6IFwiSG9zdCBDYW5jZWxcIixcclxuICAgICAgICAgICAgMHgwNDogXCJWZXJpZnkgZmFpbFwiLFxyXG4gICAgICAgICAgICAweDA1OiBcIktleXBhZCBTZWN1cml0eVwiLFxyXG4gICAgICAgICAgICAweDA2OiBcIkNhbGlicmF0aW9uIERvbmVcIixcclxuICAgICAgICAgICAgMHgwNzogXCJXcml0ZSB3aXRoIGR1cGxpY2F0ZSBSSUQgYW5kIGluZGV4XCIsXHJcbiAgICAgICAgICAgIDB4MDg6IFwiV3JpdGUgd2l0aCBjb3JydXB0ZWQgS2V5XCIsXHJcbiAgICAgICAgICAgIDB4MDk6IFwiQ0EgUHVibGljIEtleSByZWFjaGVkIG1heGltdW0gY2FwYWNpdHlcIixcclxuICAgICAgICAgICAgMHgwQTogXCJDQSBQdWJsaWMgS2V5IHJlYWQgd2l0aCBpbnZhbGlkIFJJRCBvciBJbmRleFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuQUNLU1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IFwiT2tcIixcclxuICAgICAgICAgICAgMHgxNTogXCJSSUQgZXJyb3IvSW5kZXggbm90IGZvdW5kXCIsXHJcbiAgICAgICAgICAgIDB4ODA6IFwiRGV2aWNlIEVycm9yOiBlcnJvciwgdGFtcGVyLCBtaXNzaW5nIGNlcnRpZmljYXRlIG9yIGluY29ycmVjdCBzaWduYXR1cmUgZGV0ZWN0ZWRcIixcclxuICAgICAgICAgICAgMHg4MTogXCJEZXZpY2Ugbm90IGlkbGVcIixcclxuICAgICAgICAgICAgMHg4MjogXCJEYXRhIEVycm9yIG9yIEJhZCBQYXJhbWF0ZXIocylcIixcclxuICAgICAgICAgICAgMHg4MzogXCJMZW5ndGggRXJyb3I6IGRhdGEgc2l6ZSBpcyBlaXRoZXIgdG9vIHNtYWxsLCB0b28gbGFyZ2UsIGluY29tcGxldGUsIG9yIE9JRCBvZiB0aGUgY2VydCBkb2Vzbid0IG1hdGNoIHByZWRlZmluZWQgT0lEXCIsXHJcbiAgICAgICAgICAgIDB4ODQ6IFwiUEFOIEV4aXN0c1wiLFxyXG4gICAgICAgICAgICAweDg1OiBcIk1pc3Npbmcgb3IgSW5jb3JyZWN0IEtleVwiLFxyXG4gICAgICAgICAgICAweDg2OiBcIkRldmljZSBCdXN5XCIsXHJcbiAgICAgICAgICAgIDB4ODc6IFwiRGV2aWNlIExvY2tlZFwiLFxyXG4gICAgICAgICAgICAweDg4OiBcIkF1dGggcmVxdWlyZWRcIixcclxuICAgICAgICAgICAgMHg4OTogXCJCYWQgQXV0aFwiLFxyXG4gICAgICAgICAgICAweDhBOiBcIkRldmljZSBOb3QgQXZhaWxhYmxlXCIsXHJcbiAgICAgICAgICAgIDB4OEI6IFwiQW1vdW50IE5lZWRlZCAtIElmIFBJTiBhbW91bnQgaXMgcmVxdWlyZWQsIG5vIGFtb3VudCBoYXMgYmVlbiBzZXRcIixcclxuICAgICAgICAgICAgMHg4QzogXCJCYXR0ZXJ5IGlzIGNyaXRpY2FsbHkgbG93XCIsXHJcbiAgICAgICAgICAgIDB4OEQ6IFwiRGV2aWNlIGlzIHJlc2V0dGluZ1wiLFxyXG4gICAgICAgICAgICAweDkwOiBcIkNlcnRpZmljYXRlIGRvZXMgbm90IGV4aXN0XCIsXHJcbiAgICAgICAgICAgIDB4OTE6IFwiRXhwaXJlZCAoQ2VydC9DUkwpXCIsXHJcbiAgICAgICAgICAgIDB4OTI6IFwiSW52YWxpZCAoQ2VydC9DUkwvTWVzc2FnZSlcIixcclxuICAgICAgICAgICAgMHg5MzogXCJSZXZva2VkIChDZXJ0L0NSTClcIixcclxuICAgICAgICAgICAgMHg5NDogXCJDUkwgZG9lcyBub3QgZXhpc3RcIixcclxuICAgICAgICAgICAgMHg5NTogXCJDZXJ0aWZpY2F0ZSBleGlzdHNcIixcclxuICAgICAgICAgICAgMHg5NjogXCJEdXBsaWNhdGUgS1NOL0tleVwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGluRGlzcGxheU1lc3NhZ2VzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IFwiSGFuZHMgT2ZmXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiQXBwcm92ZWRcIixcclxuICAgICAgICAgICAgMHgwMjogXCJEZWNsaW5lZFwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIkNhbmNlbGxlZFwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIlRoYW5rIFlvdVwiLFxyXG4gICAgICAgICAgICAweDA1OiBcIlBJTiBJbnZhbGlkXCIsXHJcbiAgICAgICAgICAgIDB4MDY6IFwiUHJvY2Vzc2luZ1wiLFxyXG4gICAgICAgICAgICAweDA3OiBcIlBsZWFzZSBXYWl0XCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waW5Db21tYW5kSWRzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDE6IFwicmVzcG9uc2VBQ0tcIixcclxuICAgICAgICAgICAgMHgwMjogXCJjbGVhclNlc3Npb25cIixcclxuICAgICAgICAgICAgMHgwMzogXCJzd2lwZVwiLFxyXG4gICAgICAgICAgICAweDA0OiBcInJlcXVlc3RQaW5FbnRyeVwiLFxyXG4gICAgICAgICAgICAweDA1OiBcImNhbmNlbENvbW1hbmRcIixcclxuICAgICAgICAgICAgMHgwNjogXCJyZXF1ZXN0Q2FyZGhvbGRlclNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDA3OiBcImRpc3BsYXlNZXNzYWdlXCIsXHJcbiAgICAgICAgICAgIDB4MDg6IFwicmVxdWVzdERldmljZVN0YXR1c1wiLFxyXG4gICAgICAgICAgICAweDA5OiBcInJlcXVlc3REZXZpY2VDb25maWd1cmF0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MEE6IFwicmVxdWVzdE1zckRhdGFcIixcclxuICAgICAgICAgICAgMHgwQjogXCJnZXRDaGFsbGVuZ2VcIixcclxuICAgICAgICAgICAgMHgwNzogXCJkaXNwbGF5TWVzc2FnZVwiLFxyXG4gICAgICAgICAgICAweEEyOiBcImVtdlRyYW5zYWN0aW9uU3RhdHVzXCIsXHJcbiAgICAgICAgICAgIDB4QUI6IFwicmVxdWVzdEVtdkRhdGFcIixcclxuICAgICAgICAgICAgMHgzMDogXCJnZXRLc25cIixcclxuICAgICAgICAgICAgMHgwNTogXCJjYW5jZWxDb21tYW5kXCIsXHJcbiAgICAgICAgICAgIDB4MUE6IFwicmVxdWVzdERldmljZUluZm9cIixcclxuICAgICAgICAgICAgMHgxMDogXCJzZW5kQmlnQmxvY2tEYXRhXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkVHlwZXNFbnVtID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IFwiT3RoZXJcIixcclxuICAgICAgICAgICAgMHgwMTogXCJGaW5hbmNpYWxcIixcclxuICAgICAgICAgICAgMHgwMjogXCJBQU1WQVwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIk1hbnVhbFwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIlVua25vd25cIixcclxuICAgICAgICAgICAgMHgwNTogXCJJQ0NcIixcclxuICAgICAgICAgICAgMHgwNjogXCJDb250YWN0bGVzcyBJQ0MgLSBFTVZcIixcclxuICAgICAgICAgICAgMHgwNzogXCJGaW5hbmNpYWwgTVNSICsgSUNDXCIsXHJcbiAgICAgICAgICAgIDB4MDg6IFwiQ29udGFjdGxlc3MgSUNDIC0gTVNEXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXZpY2VTdGF0ZSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIklkbGVcIixcclxuICAgICAgICAgICAgMHgwMTogXCJTZXNzaW9uXCIsXHJcbiAgICAgICAgICAgIDB4MDI6IFwiV2FpdCBGb3IgQ2FyZFwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIldhaXQgRm9yIFBJTlwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIldhaXQgRm9yIFNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDA1OiBcIkRpc3BsYXlpbmcgTWVzc2FnZVwiLFxyXG4gICAgICAgICAgICAweDA2OiBcIlRlc3QgKFJlc2VydmVkIGZvciBmdXR1cmUgdXNlKVwiLFxyXG4gICAgICAgICAgICAweDA3OiBcIk1hbnVhbCBDYXJkIEVudHJ5XCIsXHJcbiAgICAgICAgICAgIDB4MDk6IFwiV2FpdCBDYXJkaG9sZGVyIEVudHJ5XCIsXHJcbiAgICAgICAgICAgIDB4MEE6IFwiQ2hpcCBDYXJkXCIsXHJcbiAgICAgICAgICAgIDB4MEI6IFwiSUNDIEtlcm5lbCBUZXN0XCIsXHJcbiAgICAgICAgICAgIDB4MEM6IFwiRU1WIFRyYW5zYWN0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MEQ6IFwiU2hvdyBQQU5cIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBpbktleVN0YXR1c0VudW0gPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgXCIwMFwiOiBcIlBJTiBLZXkgT0tcIixcclxuICAgICAgICAgICAgXCIwMVwiOiBcIlBJTiBLZXkgRXhoYXVzdGVkXCIsXHJcbiAgICAgICAgICAgIFwiMTBcIjogXCJObyBQSU4gS2V5XCIsXHJcbiAgICAgICAgICAgIFwiMTFcIjogXCJQSU4gS2V5IE5vdCBCb3VuZFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubXNyS2V5U3RhdHVzRW51bSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBcIjAwXCI6IFwiTVNSIEtleSBPS1wiLFxyXG4gICAgICAgICAgICBcIjAxXCI6IFwiTVNSIEtleSBFeGhhdXN0ZWRcIixcclxuICAgICAgICAgICAgXCIxMFwiOiBcIk5vIE1TUiBLZXlcIixcclxuICAgICAgICAgICAgXCIxMVwiOiBcIk1TUiBLZXkgTm90IEJvdW5kXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YUlkcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAxOiBcInRyYWNrMVwiLFxyXG4gICAgICAgICAgICAweDAyOiBcInRyYWNrMlwiLFxyXG4gICAgICAgICAgICAweDAzOiBcInRyYWNrM1wiLFxyXG4gICAgICAgICAgICAweDA0OiBcImVuY3J5cHRlZFRyYWNrMVwiLFxyXG4gICAgICAgICAgICAweDA1OiBcImVuY3J5cHRlZFRyYWNrMlwiLFxyXG4gICAgICAgICAgICAweDA2OiBcImVuY3J5cHRlZFRyYWNrM1wiLFxyXG4gICAgICAgICAgICAweDA3OiBcIm1hZ25lUHJpbnRcIixcclxuICAgICAgICAgICAgMHg0MDogXCJlbmNyeXB0ZWRQYW5BbmRFeHBcIixcclxuICAgICAgICAgICAgMHg0MTogXCJzZXJpYWxOdW1iZXJcIixcclxuICAgICAgICAgICAgMHg2MzogXCJrc25BbmRNYWduZVByaW50U3RhdHVzXCIsXHJcbiAgICAgICAgICAgIDB4NjQ6IFwiQ0JDLU1BQ1wiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZGhvbGRlclN0YXR1c0lkcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAxOiBcIldhaXRpbmcgZm9yIGFtb3VudCBjb25maXJtYXRpb24gc2VsZWN0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MDI6IFwiQW1vdW50IGNvbmZpcm1hdGlvbiBzZWxlY3RlZFwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIldhaXRpbmcgZm9yIG11bHRpLXBheW1lbnQgSUNDIEFwcGxpY2F0aW9uIHNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIklDQyBBcHBsaWNhdGlvbiBzZWxlY3RlZFwiLFxyXG4gICAgICAgICAgICAweDA3OiBcIldhaXRpbmcgZm9yIGxhbmd1YWdlIHNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDA4OiBcIkxhbmd1YWdlIHNlbGVjdGVkXCIsXHJcbiAgICAgICAgICAgIDB4MDk6IFwiV2FpdGluZyBmb3IgY3JlZGl0L2RlYml0IHNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDBBOiBcIkNyZWRpdC9EZWJpdCBzZWxlY3RlZFwiLFxyXG4gICAgICAgICAgICAweDBCOiBcIldhaXRpbmcgZm9yIFBpbiBFbnRyeSBmb3IgSUNDXCIsXHJcbiAgICAgICAgICAgIDB4MEM6IFwiUElOIGVudGVyZWQgZm9yIElDQ1wiLFxyXG4gICAgICAgICAgICAweDBEOiBcIldhaXRpbmcgZm9yIFBpbiBFbnRyeSBmb3IgTVNSXCIsXHJcbiAgICAgICAgICAgIDB4MEU6IFwiUElOIGVudGVyZWQgZm9yIE1TUlwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYnVmZmVyVHlwZXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHgwMjogXCJEZXZpY2UgQ2VydGlmaWNhdGVcIixcclxuICAgICAgICAgICAgMHgzMjogXCJTZXQgQklOIChNQUMpXCIsXHJcbiAgICAgICAgICAgIDB4NDI6IFwiQ1NSXCIsXHJcbiAgICAgICAgICAgIDB4QTE6IFwiRU1WIGRhdGEgaW4gVExWIGZvcm1hdCwgVGFnIERhdGEgKE1BQylcIixcclxuICAgICAgICAgICAgMHhBMjogXCJSRVNFUlZFRFwiLFxyXG4gICAgICAgICAgICAweEEzOiBcIlJFU0VSVkVEXCIsXHJcbiAgICAgICAgICAgIDB4QTQ6IFwiRU1WIGRhdGEgaW4gVExWIGZvcm1hdCwgQXV0aG9yaXphdGlvbiBSZXF1ZXN0IChBUlFDKVwiLFxyXG4gICAgICAgICAgICAweEE1OiBcIkNBIFB1YmxpYyBLZXkgKE1BQylcIixcclxuICAgICAgICAgICAgMHhBQjogXCJFTVYgZGF0YSBpbiBUTFYgZm9ybWF0LCBCYXRjaCBEYXRhXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmFycWNBcnJpdmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYmF0Y2hEYXRhQXJyaXZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnFjVG90YWxMZW4gPSAwO1xyXG4gICAgICAgIHRoaXMuYmF0Y2hUb3RhbExlbiA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdHVzRW51bSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBvazogMHgwMCxcclxuICAgICAgICAgICAgZW1wdHk6IDB4MDEsXHJcbiAgICAgICAgICAgIGVycm9yOiAweDAyLFxyXG4gICAgICAgICAgICBkaXNhYmxlZDogMHgwM1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnZlcnRTdGF0dXNUb1N0cmluZyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIk9rXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiRW1wdHlcIixcclxuICAgICAgICAgICAgMHgwMjogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIkRpc2FibGVkXCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kRW12Q2FyZGhvbGRlclN0YXR1cyA9IGNhcmRIb2xkZXJTdGF0dXNCeXRlID0+ICAoe1xyXG4gICAgICAgIGVtdkNhcmRob2xkZXJTdGF0dXM6ICh0aGlzLmNhcmRob2xkZXJTdGF0dXNJZHNbIGNhcmRIb2xkZXJTdGF0dXNCeXRlIF0gfHwgYCR7dW5rbm93bn0vVW5kb2N1bWVudGVkIENhcmRob2xkZXIgSW50ZXJhY3Rpb24gU3RhdHVzIElEOiAke2NhcmRIb2xkZXJTdGF0dXNCeXRlfWApXHJcbiAgICB9KTtcclxuXHJcbiAgICBmaW5kT3BlcmF0aW9uU3RhdHVzID0gc3RhdHVzSWQgPT4gKHtcclxuICAgICAgICBvcGVyYXRpb25TdGF0dXM6ICh0aGlzLm9wZXJhdGlvblN0YXR1c1sgc3RhdHVzSWQgXSB8fCBgJHt1bmtub3dufSBPcGVyYXRpb24gU3RhdHVzYClcclxuICAgIH0pO1xyXG5cclxuICAgIHBhcnNlRGlzcGxheU1lc3NhZ2VEb25lID0gZGlzcGxheVN0YXR1cyA9PiB0aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMoZGlzcGxheVN0YXR1c1syXSk7XHJcblxyXG4gICAgcGFyc2VFbXZDb21wbGV0aW9uID0gY29tbWFuZFJlc3AgPT4ge1xyXG4gICAgICAgIC8vVE9ETzpcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlshLSEtIS0hLSBlbXZDb21wbGV0aW9uIC0hLSEtIS0hXCIsIGNvbW1hbmRSZXNwKTtcclxuICAgICAgICByZXR1cm4gKHtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0U2VyaWFsTnVtYmVyID0gY29tbWFuZFJlc3AgPT4ge1xyXG4gICAgICAgIHRoaXMucmVxdWVzdGVkU24gPSB7XHJcbiAgICAgICAgICAgIHNlcmlhbE51bWJlcjogdGhpcy5maW5kTnVsbFRlcm1pbmF0ZWRTdHJpbmcoY29tbWFuZFJlc3ApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZ2V0U2VyaWFsTnVtYmVyID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0S3NuQW5kU24gPSBjb21tYW5kUmVzcCA9PiB7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWRLc24gPSB7XHJcbiAgICAgICAgICAgIGtzbjogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggY29tbWFuZFJlc3Auc2xpY2UoMiwgMTIpICksXHJcbiAgICAgICAgICAgIHNlcmlhbE51bWJlcjogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggY29tbWFuZFJlc3Auc2xpY2UoMTIsIDIwKSApXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRLc25BdmFpbGFibGUgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybjtcclxufVxyXG5cclxuICAgIGhhbmRsZUJpZ0Jsb2NrQmVnaW4gPSBiaWdCbG9ja0RhdGEgPT4ge1xyXG4gICAgICAgIHN3aXRjaChiaWdCbG9ja0RhdGFbMV0pIHtcclxuICAgICAgICAgICAgY2FzZSAweEE0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcnFjQXJyaXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcnFjVG90YWxMZW4gPSB0aGlzLnJlYWRUd29CeXRlTGVuZ3RoKFsgYmlnQmxvY2tEYXRhWzVdLCBiaWdCbG9ja0RhdGFbNF0gXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAweEFCOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaERhdGFBcnJpdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVG90YWxMZW4gPSB0aGlzLnJlYWRUd29CeXRlTGVuZ3RoKFsgYmlnQmxvY2tEYXRhWzVdLCBiaWdCbG9ja0RhdGFbNF0gXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAweDE4OlxyXG4gICAgICAgICAgICBjYXNlIDB4MjA6XHJcbiAgICAgICAgICAgIGNhc2UgMHgyMTpcclxuICAgICAgICAgICAgICAgIC8vRGVidWcgZGF0YS4gSWdub3JlLlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlclR5cGU6ICh0aGlzLmJ1ZmZlclR5cGVzWyBiaWdCbG9ja0RhdGFbMV0gXSB8fCBcIkJ1ZmZlciB0eXBlIG5vdCBkb2N1bWVudGVkXCIpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUFycWNCaWdCbG9ja0ZpbmlzaCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBhcnFjID0gdGhpcy5idWlsZEluaXRpYWxEYXRhQXJyYXkoZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IGRhdGFGb3JBcnFjID0gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggYXJxYyApO1xyXG5cclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQVJRQ106ICR7ZGF0YUZvckFycWN9YCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgIGFycWNEYXRhOiBkYXRhRm9yQXJxYyxcclxuICAgICAgICAgICAgYXJxY0RhdGFQYXJzZWQ6IHRoaXMudGx2UGFyc2VyKFxyXG4gICAgICAgICAgICAgICAgYXJxYy5zbGljZSgyKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJhd0RhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnFjQXJyaXZpbmcgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gKCF0aGlzLmlzUXVpY2tDaGlwVHJhbnNhY3Rpb24pID8gdGhpcy50cmFuc2FjdGlvbkNhbGxiYWNrKCB0aGlzLmNhcmREYXRhT2JqICkgOiB2b2lkKDApO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUJhdGNoQmlnQmxvY2tGaW5pc2ggPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLmJ1aWxkSW5pdGlhbERhdGFBcnJheShmYWxzZSk7XHJcbiAgICAgICAgY29uc3QgZGF0YUZvckJhdGNoID0gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggYmF0Y2ggKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0JBVENIIERBVEFdOiAke2RhdGFGb3JCYXRjaH1gKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkhhc1N0YXJ0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyc2VkQmF0Y2hEYXRhID0gdGhpcy50bHZQYXJzZXIoXHJcbiAgICAgICAgICAgIGJhdGNoLnNsaWNlKDIpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgaXNTaWduYXR1cmVSZXF1aXJlZCA9IHBhcnNlZEJhdGNoRGF0YS5maW5kKCAoeyB0YWcgfSkgPT4gdGFnID09PSBcIkRGREY0MFwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IChpc1NpZ25hdHVyZVJlcXVpcmVkKSA/ICh7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgIGJhdGNoRGF0YTogZGF0YUZvckJhdGNoLFxyXG4gICAgICAgICAgICBiYXRjaERhdGFQYXJzZWQ6IHBhcnNlZEJhdGNoRGF0YSxcclxuICAgICAgICAgICAgc2lnbmF0dXJlUmVxdWlyZWQ6IChpc1NpZ25hdHVyZVJlcXVpcmVkID09PSAweDAxKVxyXG4gICAgICAgIH0pIDogKHtcclxuICAgICAgICAgICAgLi4udGhpcy5jYXJkRGF0YU9iaixcclxuICAgICAgICAgICAgYmF0Y2hEYXRhOiBkYXRhRm9yQmF0Y2gsXHJcbiAgICAgICAgICAgIGJhdGNoRGF0YVBhcnNlZDogcGFyc2VkQmF0Y2hEYXRhXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmF3RGF0YSA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmJhdGNoRGF0YUFycml2aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2soIHRoaXMuY2FyZERhdGFPYmogKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVCaWdCbG9ja0ZpbmlzaCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hcnFjQXJyaXZpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQXJxY0JpZ0Jsb2NrRmluaXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYmF0Y2hEYXRhQXJyaXZpbmcpIHtcclxuICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVCYXRjaEJpZ0Jsb2NrRmluaXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlRW12Q2FyZGhvbGRlckludGVyYWN0aW9uU3RhdHVzID0gY2FyZGhvbGRlclJlc3AgPT4ge1xyXG4gICAgICAgIHN3aXRjaChjYXJkaG9sZGVyUmVzcFsxXSkge1xyXG4gICAgICAgICAgICBjYXNlIDB4MDI6IFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5maW5kRW12Q2FyZGhvbGRlclN0YXR1cyhjYXJkaG9sZGVyUmVzcFsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50Q29uZmlybWVkOiAoY2FyZGhvbGRlclJlc3BbNF0gPT09IDB4MDEpID8gdHJ1ZSA6IChjYXJkaG9sZGVyUmVzcFs0XSA9PT0gMHgwMikgPyBmYWxzZSA6IFwiVW5rbm93bi9VbmRvY3VtZW50ZWQgQW1vdW50IENvbmZpcm1lZCBTdGF0dXNcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgMHgwNDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZEVtdkNhcmRob2xkZXJTdGF0dXMoY2FyZGhvbGRlclJlc3BbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uT3JMYWJlbE5hbWU6IHRoaXMuYnVmZmVyVG9VdGY4KCBjYXJkaG9sZGVyUmVzcC5zbGljZSg0KSApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FzZSAweDBBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5maW5kRW12Q2FyZGhvbGRlclN0YXR1cyhjYXJkaG9sZGVyUmVzcFsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kU2VsZWN0ZWQ6IChjYXJkaG9sZGVyUmVzcFs0XSA9PT0gMHgwMSkgPyBcIkNyZWRpdFwiIDogXHJcbiAgICAgICAgICAgICAgICAgICAgKGNhcmRob2xkZXJSZXNwWzRdID09PSAweDAyKSA/IFwiRGViaXRcIiA6IGAke3Vua25vd259L1VuZG9jdW1lbnRlZCBwYXltZW50IG1ldGhvZCBzZWxlY3RlZGBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYXNlIDB4MjA6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZpbmRFbXZDYXJkaG9sZGVyU3RhdHVzKGNhcmRob2xkZXJSZXNwWzFdKSxcclxuICAgICAgICAgICAgICAgICAgICB0bHZEYXRhOiB0aGlzLnRsdlBhcnNlciggY2FyZGhvbGRlclJlc3Auc2xpY2UoNCkgKSBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgY2FyZGhvbGRlclJlc3BbNF0gPT09ICd1bmRlZmluZWQnKSA/IHRoaXMuZmluZEVtdkNhcmRob2xkZXJTdGF0dXMoY2FyZGhvbGRlclJlc3BbMV0pIFxyXG4gICAgICAgICAgICAgICAgICAgIDogKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5maW5kRW12Q2FyZGhvbGRlclN0YXR1cyhjYXJkaG9sZGVyUmVzcFsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZG9jdW1lbnRlZERhdGE6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIGNhcmRob2xkZXJSZXNwLnNsaWNlKDQpIClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VDYXJkU3RhdHVzUmVwb3J0ID0gY2FyZFN0YXR1cyA9PiAoY2FyZFN0YXR1cy5sZW5ndGggPCA0KSA/ICBcclxuICAgICAgICB0aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMoY2FyZFN0YXR1c1syXSlcclxuICAgICAgICA6ICh7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhjYXJkU3RhdHVzWzJdKSxcclxuICAgICAgICAgICAgY2FyZFN0YXR1czogKGNhcmRTdGF0dXNbMl0gPT09IDB4MDApID8gXCJPa1wiIDogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICBjYXJkVHlwZTogdGhpcy5jYXJkVHlwZXNFbnVtWyBjYXJkU3RhdHVzWzNdIF1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICBwYXJzZUFja1Jlc3BvbnNlID0gYWNrUmVzcCA9PiAoe1xyXG4gICAgICAgIGNvZGU6IGFja1Jlc3BbMV0sXHJcbiAgICAgICAgbWVzc2FnZTogdGhpcy5BQ0tTVFNbIGFja1Jlc3BbMV0gXSxcclxuICAgICAgICBjb21tYW5kVHlwZTogKCB0aGlzLnBpbkNvbW1hbmRJZHNbIGFja1Jlc3BbMl0gXSB8fCBcIkRldmljZSBlcnJvciBvciBjb21tYW5kIHR5cGUgbm90IGRvY3VtZW50ZWRcIiApXHJcbiAgICB9KTtcclxuXHJcbiAgICBwYXJzZURldmljZVN0YXRlUmVwb3J0ID0gZGV2aWNlUmVzcCA9PiAoe1xyXG4gICAgICAgIGRldmljZVN0YXRlOiB0aGlzLmRldmljZVN0YXRlWyBkZXZpY2VSZXNwWzFdIF0sIFxyXG4gICAgICAgIHNlc3Npb25TdGF0ZTogdGhpcy5wYXJzZVNlc3Npb25TdGF0ZShcclxuICAgICAgICAgICAgdGhpcy5kZWNpbWFsVG9CaW5hcnkoIGRldmljZVJlc3BbMl0gKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgZGV2aWNlU3RhdHVzOiB0aGlzLnBhcnNlRGV2aWNlU3RhdHVzKFxyXG4gICAgICAgICAgICB0aGlzLmRlY2ltYWxUb0JpbmFyeShkZXZpY2VSZXNwWzNdKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgZGV2aWNlQ2VydFN0YXR1czogdGhpcy5wYXJzZUNlcnRTdGF0dXMoIFxyXG4gICAgICAgICAgICB0aGlzLmRlY2ltYWxUb0JpbmFyeSggZGV2aWNlUmVzcFs0XSApXHJcbiAgICAgICAgKSxcclxuICAgICAgICBoYXJkd2FyZVN0YXR1czogdGhpcy5wYXJzZUhhcmR3YXJlU3RhdHVzKFxyXG4gICAgICAgICAgICB0aGlzLmRlY2ltYWxUb0JpbmFyeShkZXZpY2VSZXNwWzVdKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgYWRkaXRpb25hbEluZm86IHRoaXMucGFyc2VBZGRpdGlvbmFsSW5mbyhcclxuICAgICAgICAgICAgdGhpcy5kZWNpbWFsVG9CaW5hcnkoZGV2aWNlUmVzcFs2XSlcclxuICAgICAgICApXHJcbiAgICB9KTtcclxuXHJcbiAgICBwYXJzZVNlc3Npb25TdGF0ZSA9IGJpbmFyeVN0cmluZyA9PiAoe1xyXG4gICAgICAgIHBvd2VyRGlkQ2hhbmdlOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzBdICksXHJcbiAgICAgICAgY2FyZERhdGFJc0F2YWlsYWJsZTogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s0XSApLFxyXG4gICAgICAgIHBhblBhcnNlZEZyb21DYXJkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzVdICksXHJcbiAgICAgICAgZXh0ZXJuYWxQYW5TZW50OiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzZdICksXHJcbiAgICAgICAgYW1vdW50V2FzU2VudDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s3XSApXHJcbiAgICB9KTtcclxuXHJcbiAgICBwYXJzZUNlcnRTdGF0dXMgPSBiaW5hcnlTdHJpbmcgPT4gKHtcclxuICAgICAgICBtc3JDcmxDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzBdICksXHJcbiAgICAgICAgcGluQ3JsQ2VydEV4aXN0czogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1sxXSApLFxyXG4gICAgICAgIG1mZ1VuYmluZENlcnRFeGlzdHM6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbM10gKSxcclxuICAgICAgICBtc3JDYUNlcnRFeGlzdHM6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNF0gKSxcclxuICAgICAgICBwaW5DYUNlcnRFeGlzdHM6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNV0gKSxcclxuICAgICAgICBkZXZpY2VDYUNlcnRFeGlzdHM6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNl0gKSxcclxuICAgICAgICBkZXZpY2VDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzddIClcclxuICAgIH0pO1xyXG5cclxuICAgIHBhcnNlRGV2aWNlU3RhdHVzID0gYmluYXJ5U3RyaW5nID0+IChiaW5hcnlTdHJpbmcgIT09IFwiMDAwMDAwMDBcIikgPyAoe1xyXG4gICAgICAgIHBpbktleVN0YXR1czogdGhpcy5waW5LZXlTdGF0dXNFbnVtWyBiaW5hcnlTdHJpbmcuc2xpY2UoNikgXSxcclxuICAgICAgICBtc3JLZXlTdGF0dXM6IHRoaXMubXNyS2V5U3RhdHVzRW51bVsgYmluYXJ5U3RyaW5nLnNsaWNlKDQsIDYpIF0sXHJcbiAgICAgICAgdGFtcGVyRGV0ZWN0ZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbM10gKSxcclxuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbMV0gKSxcclxuICAgICAgICBkZXZpY2VFcnJvckRldGVjdGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzBdIClcclxuICAgIH0pXHJcbiAgICA6IFwiT2tcIjtcclxuXHJcbiAgICBwYXJzZUhhcmR3YXJlU3RhdHVzID0gYmluYXJ5U3RyaW5nID0+ICh7XHJcbiAgICAgICAgSUUzX29ubHk6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbMF0gKSxcclxuICAgICAgICBTUkVEOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzFdICksXHJcbiAgICAgICAgTWFnSGVhZElzUHJvZ3JhbW1lZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s2XSApLFxyXG4gICAgICAgIHRhbXBlclNlbnNvcnNBcmVBY3RpdmU6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbN10gKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcGFyc2VBZGRpdGlvbmFsSW5mbyA9IGJpbmFyeVN0cmluZyA9PiAoe1xyXG4gICAgICAgIElDQ19BY3F1aXJlck1hc3RlcktleUlzSW5qZWN0ZWQ6ICF0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzddICksXHJcbiAgICAgICAgSUNDX1Nlc3Npb25LZXlJc0FjdGl2ZTogIXRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNl0gKSxcclxuICAgICAgICBDQVBLX0VtdkRhdGFiYXNlSXNDb3JydXB0ZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNV0gKSxcclxuICAgICAgICBFbXZUZXJtaW5hbERhdGFiYXNlSXNDb3JydXB0ZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNF0gKSxcclxuICAgICAgICBjYXJkSXNQcmVzZW50SW5DaGlwQ2FyZENvbm5lY3RvcjogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1szXSApXHJcbiAgICB9KTtcclxuXHJcbiAgICBwYXJzZUNhcmREYXRhID0gcGFydGlhbE5vdGlmaWNhdGlvbiA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhY2tLZXkgPSAodGhpcy5jYXJkRGF0YUlkc1sgcGFydGlhbE5vdGlmaWNhdGlvblsxXSBdIHx8IGB0cmFja05hbWUke3Vua25vd259YCk7XHJcblxyXG4gICAgICAgIGlmIChwYXJ0aWFsTm90aWZpY2F0aW9uWzJdID09PSB0aGlzLnN0YXR1c0VudW0ub2spIHtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCh0cmFja0tleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRyYWNrMVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmFja0tleV06IHRoaXMuYnVmZmVyVG9VdGY4KHBhcnRpYWxOb3RpZmljYXRpb24uc2xpY2UoNCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRyYWNrMlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmFja0tleV06IHRoaXMuYnVmZmVyVG9VdGY4KHBhcnRpYWxOb3RpZmljYXRpb24uc2xpY2UoNCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZvcm1hdEV4cFBBTihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxOb3RpZmljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwia3NuQW5kTWFnbmVQcmludFN0YXR1c1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtzbjogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhwYXJ0aWFsTm90aWZpY2F0aW9uLnNsaWNlKDQsIDE0KSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25lUHJpbnRTdGF0dXM6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcocGFydGlhbE5vdGlmaWNhdGlvbi5zbGljZSgtNCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5jYXJkRGF0YU9iaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3RyYWNrS2V5XTogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhwYXJ0aWFsTm90aWZpY2F0aW9uLnNsaWNlKDQpKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICBbdHJhY2tLZXldOiB0aGlzLmNvbnZlcnRTdGF0dXNUb1N0cmluZ1sgcGFydGlhbE5vdGlmaWNhdGlvblsyXSBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VQaW5SZXNwb25zZSA9IHBpblJlc3AgPT4ge1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtQSU4gUmVzcG9uc2VdOiBSZXNwb25zZSBmcm9tIFBJTiBFbnRyeTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHBpblJlc3ApfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiAocGluUmVzcC5sZW5ndGggPiAyKSA/ICh7XHJcbiAgICAgICAgICAgIHBpbkRhdGE6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhwaW5SZXNwWzFdKSxcclxuICAgICAgICAgICAgICAgIHBpbktzbjogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggcGluUmVzcC5zbGljZSgyLCAxMikgKSxcclxuICAgICAgICAgICAgICAgIGVuY3J5cHRlZFBpbkJsb2NrOiB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCBwaW5SZXNwLnNsaWNlKDEyLCAyMCkgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICA6IHRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhwaW5SZXNwWzFdKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZUNhcmRob2xkZXJSZXNwb25zZSA9IHNlbGVjdGlvblJlc3AgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRldmljZUtleXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHg3MTogXCJMZWZ0IGZ1bmN0aW9uIGtleVwiLFxyXG4gICAgICAgICAgICAweDcyOiBcIk1pZGRsZSBmdW5jdGlvbiBrZXlcIixcclxuICAgICAgICAgICAgMHg3NDogXCJSaWdodCBmdW5jdGlvbiBrZXlcIixcclxuICAgICAgICAgICAgMHg3ODogXCJFbnRlciBrZXlcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKHNlbGVjdGlvblJlc3AubGVuZ3RoID4gMikgPyAoe1xyXG4gICAgICAgICAgICAuLi50aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMoc2VsZWN0aW9uUmVzcFsxXSksXHJcbiAgICAgICAgICAgIGtleVByZXNzZWQ6IChkZXZpY2VLZXlzWyBzZWxlY3Rpb25SZXNwWzJdIF0gfHwgYCR7dW5rbm93bn0vVW5kb2N1bWVudGVkIEtleWApXHJcbiAgICAgICAgfSlcclxuICAgICAgICA6IHRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhzZWxlY3Rpb25SZXNwWzFdKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQaW5TdGF0dXNQYXJzZXI7IiwiaW1wb3J0IFBpblN0YXR1c1BhcnNlciBmcm9tICcuLi9wYXJzZXJzL3BpblN0YXR1c1BhcnNlcic7XHJcbmltcG9ydCB7IFxyXG4gICAgZGV2aWNlTm90Rm91bmQsIFxyXG4gICAgcmVhZEZhaWxlZCwgXHJcbiAgICBjb21tYW5kTm90U2VudEZyb21Ib3N0LCBcclxuICAgIGNvbW1hbmROb3RTZW50LFxyXG4gICAgZGV2aWNlTm90T3BlbixcclxuICAgIHJlc3BvbnNlTm90UmVjZWl2ZWRcclxufSBmcm9tICcuLi9lcnJvckhhbmRsZXIvZXJyQ29uc3RhbnRzJztcclxuaW1wb3J0IHsgb3BlblN1Y2Nlc3MsIHN1Y2Nlc3NDb2RlLCBub1Nlc3Npb25Ub0NsZWFyLCBnYXR0QnVzeSwgc3VjY2Vzc2Z1bENsb3NlIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIFBpblBhZCBleHRlbmRzIFBpblN0YXR1c1BhcnNlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2sgPSBjYWxsQmFja3MudHJhbnNhY3Rpb25DYWxsYmFjayB8fCBjYWxsQmFja3M7XHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrID0gY2FsbEJhY2tzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2s7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlRnJvbUhvc3RMZW4gPSAnMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMjIwJztcclxuICAgICAgICB0aGlzLmRldmljZUZyb21Ib3N0RGF0YSA9ICcwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMjEnO1xyXG4gICAgICAgIHRoaXMuZGV2aWNlVG9Ib3N0TGVuID0gJzA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIyMic7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VUb0hvc3REYXRhID0gJzA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIyMyc7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZWNlaXZlRGF0YUNoYXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNlbmRMZW5Ub0RldmljZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuY29tbWFuZFNlbnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN3aXBlSGFzQmVndW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uSGFzU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGF0YUdhdGhlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1F1aWNrQ2hpcFRyYW5zYWN0aW9uID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5lbXZPcHRpb25zID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgICdub3JtYWwnOiAweDAwLFxyXG4gICAgICAgICAgICAnYnlwYXNzcGluJzogMHgwMSxcclxuICAgICAgICAgICAgJ2ZvcmNlb25saW5lJzogMHgwMixcclxuICAgICAgICAgICAgJ2FjcXVpcmVybm90YXZhaWxhYmxlJzogMHgwNFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmRpc3BsYXlUeXBlcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAnc3dpcGVpZGxlYWx0ZXJuYXRlJzogMHgwMCxcclxuICAgICAgICAgICAgJ3N3aXBlY2FyZCc6IDB4MDEsXHJcbiAgICAgICAgICAgICdwbGVhc2Vzd2lwZSc6IDB4MDIsXHJcbiAgICAgICAgICAgICdwbGVhc2Vzd2lwZWFnYWluJzogMHgwMyxcclxuICAgICAgICAgICAgJ2NoaXBlcnJvcnVzZXN3aXBlJzogMHgwNFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlcG9ydElkcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICByZXNwb25zZUFjazogMHgwMSxcclxuICAgICAgICAgICAgZW5kU2Vzc2lvbjogMHgwMixcclxuICAgICAgICAgICAgcmVxdWVzdENhcmRTd2lwZTogMHgwMyxcclxuICAgICAgICAgICAgY2FyZFN0YXR1c1JlcG9ydDogMHgyMixcclxuICAgICAgICAgICAgZGV2aWNlU3RhdGVSZXBvcnQ6IDB4MjAsXHJcbiAgICAgICAgICAgIGNhcmREYXRhUmVwb3J0OiAweDIzLFxyXG4gICAgICAgICAgICBlbXZDYXJkaG9sZGVyU3RhdHVzOiAweDJDLFxyXG4gICAgICAgICAgICBiaWdCbG9ja0RhdGE6IDB4MjksXHJcbiAgICAgICAgICAgIGVtdkNvbXBsZXRpb246IDB4QTIsXHJcbiAgICAgICAgICAgIGdldEtzbjogMHgzMCxcclxuICAgICAgICAgICAgcmVxdWVzdFNuOiAweDFBLFxyXG4gICAgICAgICAgICBkZXZpY2VDb25maWc6IDB4MDksXHJcbiAgICAgICAgICAgIHBpblJlc3BvbnNlOiAweDI0LFxyXG4gICAgICAgICAgICBzZWxlY3Rpb25SZXNwb25zZTogMHgyNSxcclxuICAgICAgICAgICAgZGlzcGxheVJlc3A6IDB4MjdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy50b25lQ2hvaWNlID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgICdub3NvdW5kJzogMHgwMCxcclxuICAgICAgICAgICAgJ29uZWJlZXAnOiAweDAxLFxyXG4gICAgICAgICAgICAndHdvYmVlcHMnOiAweDAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvbiA9IFsweDAwXTtcclxuXHJcbiAgICAgICAgdGhpcy5jbGVhclNlc3Npb25DbWQgPSBbMHgwMSwgMHgwMiwgMHgwMF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2FyZFNlcnZpY2UgPSAoKSA9PiBuZXcgUHJvbWlzZSggKHBhcmVudFJlc29sdmUsIHBhcmVudFJlamVjdCkgPT4gKCF0aGlzLmRldmljZSkgP1xyXG4gICAgICAgIHBhcmVudFJlamVjdChcclxuICAgICAgICAgICAgdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RGb3VuZClcclxuICAgICAgICApXHJcbiAgICAgICAgOlxyXG4gICAgICAgIHRoaXMuY29ubmVjdEFuZENhY2hlKDIpXHJcbiAgICAgICAgICAgIC50aGVuKCBzZXJ2aWNlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogQ2FjaGUgQXBwRGF0YVRvSG9zdExlbmd0aCBDaGFyYWN0ZXJpc3RpYyB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWModGhpcy5kZXZpY2VUb0hvc3RMZW4pIFxyXG4gICAgICAgICAgICB9KS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IEJlZ2luIG5vdGlmaWNhdGlvbnMgb24gQXBwRGF0YVRvSG9zdExlbmd0aCBDaGFyYWN0ZXJpc3RpYyB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlcmlzdGljLnN0YXJ0Tm90aWZpY2F0aW9ucygpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogQWRkIGxpc3RlbmVyIHRvIG5vdGlmaWNhdGlvbnMgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5kYXRhV2F0Y2hlcik7XHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5hZGRFdmVudExpc3RlbmVyKCdjaGFyYWN0ZXJpc3RpY3ZhbHVlY2hhbmdlZCcsIHRoaXMuZGF0YVdhdGNoZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IGNoYXJhY3RlcmlzdGljO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBDYWNoZSBBcHBEYXRhVG9Ib3N0IENoYXJhY3RlcmlzdGljIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJkU2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyh0aGlzLmRldmljZVRvSG9zdERhdGEpO1xyXG4gICAgICAgICAgICB9KS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlRGF0YUNoYXIgPSBjaGFyYWN0ZXJpc3RpYztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IENhY2hlIEFwcERhdGFGcm9tSG9zdExlbmd0aCBDaGFyYWN0ZXJpc3RpYyB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhcmRTZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKHRoaXMuZGV2aWNlRnJvbUhvc3RMZW4pXHJcbiAgICAgICAgICAgIH0pLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRMZW5Ub0RldmljZSA9IGNoYXJhY3RlcmlzdGljO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogQ2FjaGUgQXBwRGF0YUZyb21Ib3N0IENoYXJhY3RlcmlzdGljIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FyZFNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWModGhpcy5kZXZpY2VGcm9tSG9zdERhdGEpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYyA9IGNoYXJhY3RlcmlzdGljO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBJZiB0aGlzIGxpYnJhcnkgaXMgYmVpbmcgdXNlZCBpbiBhIHdlYiBhcHBsaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYWtlIHN1cmUgdGhlIGRldmljZSBjYW5jZWxzIGFueSBhY3RpdmUgY29tbWFuZCwgYW5kIGRpc2Nvbm5lY3RzIHByb3Blcmx5XHJcbiAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5vbkRlc3Ryb3lIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMub25EZXN0cm95SGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IFN1Y2Nlc3NmdWxseSBjYWNoZWQgYWxsIEdBVFQgc2VydmljZXMgYW5kIGNoYXJhY3RlcmlzdGljcy4gUmV0dXJuaW5nIHN1Y2Nlc3NmdWwgcGFpciB0byB1c2VyIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXlQcm9taXNlKDQwMClcclxuICAgICAgICAgICAgfSkudGhlbigoKSA9PiBwYXJlbnRSZXNvbHZlKHsgXHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogb3BlblN1Y2Nlc3NcclxuICAgICAgICAgICAgfSkpLmNhdGNoKGVyciA9PiBwYXJlbnRSZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApKVxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgZGF0YVdhdGNoZXIgPSBldmVudCA9PiB7XHJcbiAgICAgICAgbGV0IGRhdGFFdmVudCA9IGV2ZW50LnRhcmdldC52YWx1ZS5nZXRVaW50OCgwKTtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbTk9USUZZOiBBcHBEYXRhVG9Ib3N0TGVuZ3RoXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKFtkYXRhRXZlbnRdKX0gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb21tYW5kU2VudCAmJiBkYXRhRXZlbnQgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kU2VudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZENvbW1hbmRSZXNwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVhZENvbW1hbmRSZXNwID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5yZWNlaXZlRGF0YUNoYXIpID9cclxuICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIocmVhZEZhaWxlZCkpXHJcbiAgICAgICAgOiBcclxuICAgICAgICB0aGlzLnJlY2VpdmVEYXRhQ2hhci5yZWFkVmFsdWUoKVxyXG4gICAgICAgICAgICAudGhlbih2YWx1ZSA9PiB0aGlzLnJlYWRWYWx1ZUhhbmRsZXIodmFsdWUpIClcclxuICAgICAgICAgICAgLnRoZW4odmFsdWUgPT4gcmVzb2x2ZSh2YWx1ZSkpXHJcbiAgICAgICAgICAgIC5jYXRjaCggZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gZ2F0dEJ1c3kuY29kZSAmJiBlcnIubWVzc2FnZSA9PT0gZ2F0dEJ1c3kubWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtJTkZPXTogUmVhZCBmYWlsZWQgZHVlIHRvIGRldmljZSBiZWluZyBidXN5LiBBdHRlbXB0aW5nIHJlYWQgYWdhaW4gfHwgJHtuZXcgRGF0ZSgpfWApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXlQcm9taXNlKDEwMCkudGhlbigoKSA9PiByZXNvbHZlKCB0aGlzLnJlYWRDb21tYW5kUmVzcCgpICkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHJldHVybiByZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpKVxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgcmVhZFZhbHVlSGFuZGxlciA9IHJlYWRWYWx1ZSA9PiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29tbWFuZFJlc3AgPSB0aGlzLnJlYWRCeXRlQXJyYXkocmVhZFZhbHVlKTtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbUkVBRDogQXBwRGF0YVRvSG9zdF06ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhjb21tYW5kUmVzcCl9IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgaWYgKGNvbW1hbmRSZXNwLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzd2l0Y2goY29tbWFuZFJlc3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMucmVzcG9uc2VBY2s6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMucGFyc2VBY2tSZXNwb25zZShjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5kZXZpY2VTdGF0ZVJlcG9ydDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5oYW5kbGVEZXZpY2VTdGF0ZVJlcG9ydChjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5jYXJkU3RhdHVzUmVwb3J0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCB0aGlzLmhhbmRsZUNhcmRTdGF0dXNSZXBvcnQoY29tbWFuZFJlc3ApIClcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMuY2FyZERhdGFSZXBvcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuaGFuZGxlQ2FyZERhdGFSZXBvcnQoY29tbWFuZFJlc3ApIClcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMuZW12Q2FyZGhvbGRlclN0YXR1czpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5oYW5kbGVDYXJkaG9sZGVyU3RhdHVzUmVwb3J0KGNvbW1hbmRSZXNwKSApXHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLmVtdkNvbXBsZXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuaGFuZGxlRW12Q29tcGxldGlvbihjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5iaWdCbG9ja0RhdGE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuaGFuZGxlQmlnQmxvY2tEYXRhKGNvbW1hbmRSZXNwKSApXHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLmdldEtzbjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5mb3JtYXRLc25BbmRTbihjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5yZXF1ZXN0U246XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuZm9ybWF0U2VyaWFsTnVtYmVyKGNvbW1hbmRSZXNwKSApXHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLmRldmljZUNvbmZpZzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5wYXJzZURldmljZUNvbmZpZ3VyYXRpb24oY29tbWFuZFJlc3ApIClcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMucGluUmVzcG9uc2U6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2soIHRoaXMucGFyc2VQaW5SZXNwb25zZShwaW5SZXNwKSApXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMuc2VsZWN0aW9uUmVzcG9uc2U6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMucGFyc2VDYXJkaG9sZGVyUmVzcG9uc2UoY29tbWFuZFJlc3ApIClcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMuZGlzcGxheVJlc3A6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soIHRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhjb21tYW5kUmVzcFsxXSkgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBbRGF0YSBSZXNwXTogVGhlcmUgaXMgbm8gcGFyc2VyIGZvciB0aGlzIGRhdGEsIHJldHVybmluZyB0byBjYWxsZXI6ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhjb21tYW5kUmVzcCl9IHx8ICR7bmV3IERhdGUoKX1gXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy50cmFuc2FjdGlvbkNhbGxiYWNrKCBjb21tYW5kUmVzcCApICk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmVzb2x2ZSggY29tbWFuZFJlc3AgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGhhbmRsZUVtdkNvbXBsZXRpb24gPSBjb21tYW5kUmVzcCA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbIV0gRU1WIENvbXBsZXRpb246IFwiLCBjb21tYW5kUmVzcCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhcclxuICAgICAgICAgICAgdGhpcy5wYXJzZUVtdkNvbXBsZXRpb24oY29tbWFuZFJlc3ApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUJpZ0Jsb2NrRGF0YSA9IGJpZ0Jsb2NrRGF0YSA9PiB7XHJcbiAgICAgICAgc3dpdGNoKGJpZ0Jsb2NrRGF0YVsyXSkge1xyXG4gICAgICAgICAgICBjYXNlIDB4MDA6XHJcbiAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQmlnQmxvY2tCZWdpbiggYmlnQmxvY2tEYXRhICk7XHJcbiAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDB4NjM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1heEJsb2NrSWQgPSBNYXRoLm1heCguLi5PYmplY3Qua2V5cyh0aGlzLnJhd0RhdGEpKSArIDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUJpZ0Jsb2NrRmluaXNoKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRoaXMucmF3RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnJhd0RhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgWyBiaWdCbG9ja0RhdGFbMl0gXTogYmlnQmxvY2tEYXRhLnNsaWNlKDQpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2FyZGhvbGRlclN0YXR1c1JlcG9ydCA9IGNvbW1hbmRSZXNwID0+IHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhcclxuICAgICAgICAgICAgdGhpcy5wYXJzZUVtdkNhcmRob2xkZXJJbnRlcmFjdGlvblN0YXR1cyhjb21tYW5kUmVzcClcclxuICAgICAgICApO1xyXG5cclxuICAgIGhhbmRsZUNhcmRTdGF0dXNSZXBvcnQgPSBjb21tYW5kUmVzcCA9PiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKFxyXG4gICAgICAgICAgICB0aGlzLnBhcnNlQ2FyZFN0YXR1c1JlcG9ydChjb21tYW5kUmVzcClcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIHJldHVybiAodGhpcy5zd2lwZUhhc0JlZ3VuIHx8IHRoaXMudHJhbnNhY3Rpb25IYXNTdGFydGVkKSA/IFxyXG4gICAgICAgICAgICB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoIFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuc3dpcGVIYXNCZWd1biA/IFsweDAxLCAweDBBLCAweDAwXSA6IFsweDAxLCAweEFCLCAweDAwXSlcclxuICAgICAgICAgICAgKS50aGVuKCBhY2tSZXNwID0+IHJlc29sdmUoIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhhY2tSZXNwKSApXHJcbiAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHRoaXMuc2VuZEVyclRvQ2FsbGJhY2soIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApKVxyXG4gICAgICAgIDogcmVzb2x2ZSgpXHJcbiAgICB9KTtcclxuXHJcbiAgICBoYW5kbGVEZXZpY2VTdGF0ZVJlcG9ydCA9IGNvbW1hbmRSZXNwID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhR2F0aGVyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhR2F0aGVyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vU2VuZCBhc3NlbWJsZWQgdHJhbnNhY3Rpb24gZGF0YSB0byBjYWxsYmFja1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgc3dpcGVEYXRhOiB0aGlzLmNhcmREYXRhT2JqXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKFxyXG4gICAgICAgICAgICB0aGlzLnBhcnNlRGV2aWNlU3RhdGVSZXBvcnQoY29tbWFuZFJlc3ApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDYXJkRGF0YVJlcG9ydCA9IGNvbW1hbmRSZXNwID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zd2lwZUhhc0JlZ3VuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3dpcGVIYXNCZWd1biA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFHYXRoZXJlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29tbWFuZFJlc3AubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VDYXJkRGF0YShjb21tYW5kUmVzcClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKFwiW0VSUk9SXSBVbmRvY3VtZW50ZWQgQ2FyZCBEYXRhIGJlbG93XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGNvbW1hbmRSZXNwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVxdWVzdENhcmRTd2lwZSA9IHN3aXBlT3B0aW9ucyA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc3dpcGVIYXNCZWd1biA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHt9O1xyXG5cclxuICAgICAgICByZXR1cm4gKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgPyByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikpXHJcbiAgICAgICAgICAgIDogXHJcbiAgICAgICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcCggdGhpcy5jbGVhclNlc3Npb25DbWQgKVxyXG4gICAgICAgICAgICAudGhlbiggYWNrUmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soYWNrUmVzcCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkU3dpcGVDb21tYW5kKCAoc3dpcGVPcHRpb25zIHx8IHt9KSApXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0pLnRoZW4oIHJlc3AgPT4gcmVzb2x2ZShyZXNwKVxyXG4gICAgICAgICAgICApLmNhdGNoKCBlcnIgPT4gcmVqZWN0KGVycikpXHJcbiAgICB9KTtcclxuXHJcbiAgICBidWlsZFN3aXBlQ29tbWFuZCA9ICh7IHRpbWVvdXQsIGlzRmFsbGJhY2ssIHRvbmVDaG9pY2UsIGRpc3BsYXlUeXBlIH0pID0+IChbIFxyXG4gICAgICAgIDB4MDEsIDB4MDMsICh0aW1lb3V0IHx8IDB4M0MpLFxyXG4gICAgICAgIChpc0ZhbGxiYWNrID09PSB0cnVlKSA/IDB4MDQgOiAodHlwZW9mKGRpc3BsYXlUeXBlKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5kaXNwbGF5VHlwZXNbIGRpc3BsYXlUeXBlLnRvTG93ZXJDYXNlKCkgXSA6IDB4MDIsXHJcbiAgICAgICAgKHR5cGVvZih0b25lQ2hvaWNlKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy50b25lQ2hvaWNlWyB0b25lQ2hvaWNlLnRvTG93ZXJDYXNlKCkgXSA6IDB4MDFcclxuICAgIF0pO1xyXG4gICAgICAgIFxyXG4gICAgc3RhcnRUcmFuc2FjdGlvbiA9IGVtdk9wdGlvbnMgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uSGFzU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHt9O1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtJTkZPXTogRU1WIHRyYW5zYWN0aW9uIGJlZ3VuIHx8ICR7bmV3IERhdGUoKX1gKVxyXG5cclxuICAgICAgICByZXR1cm4gKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgPyByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikpXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKHRoaXMuY2xlYXJTZXNzaW9uQ21kKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oIGFja1Jlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soYWNrUmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbiggKCkgPT5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoIHRoaXMuYnVpbGRFbXZDb21tYW5kKCBlbXZPcHRpb25zIHx8IHt9ICkgKVxyXG4gICAgICAgICAgICAgICAgKS50aGVuKCByZXNwID0+IHJlc29sdmUocmVzcClcclxuICAgICAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGJ1aWxkRW12Q29tbWFuZCA9ICh7IFxyXG4gICAgICAgIHRpbWVvdXQsIFxyXG4gICAgICAgIHBpblRpbWVvdXQsIFxyXG4gICAgICAgIGNhcmRUeXBlLCBcclxuICAgICAgICB0cmFuc2FjdGlvblR5cGUsIFxyXG4gICAgICAgIGNhc2hCYWNrLCBcclxuICAgICAgICBjdXJyZW5jeUNvZGUsXHJcbiAgICAgICAgdG9uZUNob2ljZSwgXHJcbiAgICAgICAgaXNRdWlja0NoaXAsIFxyXG4gICAgICAgIGF1dGhvcml6ZWRBbW91bnQsIFxyXG4gICAgICAgIGVtdk9wdGlvbnMgXHJcbiAgICB9KSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc1F1aWNrQ2hpcFRyYW5zYWN0aW9uID0gKGlzUXVpY2tDaGlwID09PSBmYWxzZSkgPyBmYWxzZSA6IHRydWU7XHJcblxyXG4gICAgICAgIGxldCBjb21tYW5kID0gWyBcclxuICAgICAgICAgICAgMHgwMSwgMHhBMixcclxuICAgICAgICAgICAgKHRpbWVvdXQgfHwgMHgzQyksXHJcbiAgICAgICAgICAgIChwaW5UaW1lb3V0IHx8IDB4MTQpLFxyXG4gICAgICAgICAgICAweDAwLFxyXG4gICAgICAgICAgICAodHlwZW9mKHRvbmVDaG9pY2UpICE9PSAndW5kZWZpbmVkJykgPyAodGhpcy50b25lQ2hvaWNlWyB0b25lQ2hvaWNlLnRvTG93ZXJDYXNlKCkgXSB8fCAweDAxKSA6IDB4MDEsXHJcbiAgICAgICAgICAgIChjYXJkVHlwZSkgPyB0aGlzLmNhcmRUeXBlcyggY2FyZFR5cGUudG9Mb3dlckNhc2UoKSApIDogdGhpcy5jYXJkVHlwZXMoXCJhbGxcIiksXHJcbiAgICAgICAgICAgICh0eXBlb2YoZW12T3B0aW9ucykgIT09ICd1bmRlZmluZWQnKSA/IHRoaXMuZW12T3B0aW9uc1sgZW12T3B0aW9ucy50b0xvd2VyQ2FzZSgpIF0gOiAweDAwXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgY29tbWFuZCA9ICh0eXBlb2YoYXV0aG9yaXplZEFtb3VudCkgIT09ICd1bmRlZmluZWQnKSA/IFxyXG4gICAgICAgICAgICBjb21tYW5kLmNvbmNhdCggdGhpcy5jb252ZXJ0TnVtVG9BbW91bnQoYXV0aG9yaXplZEFtb3VudCkgKSBcclxuICAgICAgICAgICAgOiBjb21tYW5kLmNvbmNhdCggWzB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIDB4MDBdICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQgPSAodHlwZW9mKHRyYW5zYWN0aW9uVHlwZSkgIT09ICd1bmRlZmluZWQnKSA/IFxyXG4gICAgICAgICAgICBjb21tYW5kLmNvbmNhdCh0aGlzLnRyYW5zYWN0aW9uVHlwZXNbIHRyYW5zYWN0aW9uVHlwZS50b0xvd2VyQ2FzZSgpIF0pXHJcbiAgICAgICAgICAgIDogY29tbWFuZC5jb25jYXQoMHgwMClcclxuXHJcbiAgICAgICAgY29tbWFuZCA9ICh0eXBlb2YoY2FzaEJhY2spICE9PSAndW5kZWZpbmVkJykgPyBjb21tYW5kLmNvbmNhdCggdGhpcy5jb252ZXJ0TnVtVG9BbW91bnQoIGNhc2hCYWNrICkgKSBcclxuICAgICAgICAgICAgOiBjb21tYW5kLmNvbmNhdCggdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgNikgKTtcclxuXHJcbiAgICAgICAgY29tbWFuZCA9IGNvbW1hbmQuY29uY2F0KCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCAxMikgKTtcclxuXHJcbiAgICAgICAgY29tbWFuZCA9IChjdXJyZW5jeUNvZGUpID8gY29tbWFuZC5jb25jYXQoKCB0aGlzLmN1cnJlbmN5Q29kZVsgY3VycmVuY3lDb2RlLnRvTG93ZXJDYXNlKCkgXSB8fCAgdGhpcy5jdXJyZW5jeUNvZGVbJ2RlZmF1bHQnXSApKVxyXG4gICAgICAgICAgICA6IGNvbW1hbmQuY29uY2F0KHRoaXMuY3VycmVuY3lDb2RlWydkb2xsYXInXSlcclxuXHJcbiAgICAgICAgY29tbWFuZC5wdXNoKDB4MDApO1xyXG5cclxuICAgICAgICBjb21tYW5kLnB1c2goXHJcbiAgICAgICAgICAgICh0aGlzLmlzUXVpY2tDaGlwVHJhbnNhY3Rpb24pID8gMHgwMSA6IDB4MDAgXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBjb21tYW5kID0gY29tbWFuZC5jb25jYXQoIHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDI4KSApXHJcblxyXG4gICAgICAgIHJldHVybiBjb21tYW5kO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcXVlc3RQaW5FbnRyeSA9IHBpbk9wdGlvbnMgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbUElOXTogUmVxdWVzdCBmb3IgUElOIGVudHJ5IHN0YXJ0IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInBpbm9wdGlvbnM6IFwiLCBwaW5PcHRpb25zKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdE9wZW4pKVxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcCggdGhpcy5idWlsZFBpbkNvbW1hbmQoIHBpbk9wdGlvbnMgfHwge30gKSApXHJcbiAgICAgICAgICAgICAgICAudGhlbiggcmVzcCA9PiByZXNvbHZlKHJlc3ApXHJcbiAgICAgICAgICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XHJcbiAgICB9KTsgXHJcblxyXG4gICAgYnVpbGRQaW5Db21tYW5kID0gKHtcclxuICAgICAgICBsYW5ndWFnZVNlbGVjdGlvbixcclxuICAgICAgICBkaXNwbGF5VHlwZSxcclxuICAgICAgICB0aW1lb3V0LFxyXG4gICAgICAgIG1heFBpbkxlbmd0aCxcclxuICAgICAgICBtaW5QaW5MZW5ndGgsXHJcbiAgICAgICAgdG9uZUNob2ljZSxcclxuICAgICAgICB3YWl0TWVzc2FnZSxcclxuICAgICAgICB2ZXJpZnlQaW4sXHJcbiAgICAgICAgcGluQmxvY2tGb3JtYXRcclxuICAgIH0pID0+IHtcclxuXHJcbiAgICAgICAgY29uc3QgcGluRGlzcGxheU9wdGlvbnMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgXCJlbnRlcnBpblwiOiAweDAwLFxyXG4gICAgICAgICAgICBcImVudGVycGluYW1vdW50XCI6IDB4MDEsXHJcbiAgICAgICAgICAgIFwicmVlbnRlcnBpbmFtb3VudFwiOiAweDAyLFxyXG4gICAgICAgICAgICBcInJlZW50ZXJwaW5cIjogMHgwMyxcclxuICAgICAgICAgICAgXCJ2ZXJpZnlwaW5cIjogMHgwNFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBwaW5DbWQgPSBbXHJcbiAgICAgICAgICAgIDB4MDEsIDB4MDQsXHJcbiAgICAgICAgICAgICh0aW1lb3V0IHx8IDB4MUUpLFxyXG4gICAgICAgICAgICAoKGRpc3BsYXlUeXBlKSA/IChwaW5EaXNwbGF5T3B0aW9uc1sgZGlzcGxheVR5cGUudG9Mb3dlckNhc2UoKSBdIHx8IDB4MDApOiAweDAwKSxcclxuICAgICAgICAgICAgKHRoaXMuZmluZFBpbkxlbmd0aChtYXhQaW5MZW5ndGgsIG1pblBpbkxlbmd0aCkpLFxyXG4gICAgICAgICAgICAodHlwZW9mKHRvbmVDaG9pY2UpICE9PSAndW5kZWZpbmVkJykgPyB0aGlzLnRvbmVDaG9pY2VbIHRvbmVDaG9pY2UudG9Mb3dlckNhc2UoKSBdIDogMHgwMSxcclxuICAgICAgICAgICAgKHRoaXMuYnVpbGRQaW5PcHRpb25zQnl0ZShsYW5ndWFnZVNlbGVjdGlvbiwgd2FpdE1lc3NhZ2UsIHZlcmlmeVBpbiwgcGluQmxvY2tGb3JtYXQpKVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbUElOIENNRF0gQnVpbHQgUElOIENvbW1hbmQ6ICcsIHBpbkNtZCk7XHJcblxyXG4gICAgICAgIHJldHVybiBwaW5DbWQ7XHJcbiAgICB9XHJcblxyXG4gICAgYnVpbGRBcnBjQ29tbWFuZCA9IChsZW4sIGRhdGEpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLnNlbmRCaWdCbG9ja0RhdGEoMHhBNCwgbGVuLCBkYXRhKS50aGVuKFxyXG4gICAgICAgICAgICAoKSA9PiByZXNvbHZlKFsweDAxLCAweEE0LCAuLi50aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCAxMCldKVxyXG4gICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNlbmRCaWdCbG9ja0RhdGEgPSAoZGF0YVR5cGUsIGRhdGFMZW4sIGRhdGEpID0+IG5ldyBQcm9taXNlKChwYXJlbnRSZXNvbHZlLCBwYXJlbnRSZWplY3QpID0+IHtcclxuICAgICAgICBsZXQgYmxvY2taZXJvID0gWzB4MDEsIDB4MTAsIGRhdGFUeXBlLCAweDAwLCAoZGF0YUxlbiAmIDB4RkYpXTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGFMZW4gPCA2MCkge1xyXG4gICAgICAgICAgICBibG9ja1plcm8gPSBibG9ja1plcm8uY29uY2F0KC4uLnRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDYwKSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtTZW5kIEJpZyBCbG9jayBEYXRhIExlZ2FjeV06ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhibG9ja1plcm8pfWApO1xyXG5cclxuICAgICAgICAgICAgbGV0IGxlZ2FjeURhdGEgPSBbMHgwMSwgMHgxMCwgZGF0YVR5cGUsIDB4MDEsIGRhdGFMZW4sIC4uLmRhdGFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxlZ2FjeURhdGEubGVuZ3RoIDwgNjUpXHJcbiAgICAgICAgICAgICAgICBsZWdhY3lEYXRhID0gbGVnYWN5RGF0YS5jb25jYXQoLi4udGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgKDY1IC0gbGVnYWN5RGF0YS5sZW5ndGgpKSlcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmRQaW5Db21tYW5kKGJsb2NrWmVybykudGhlbihyZXNwID0+IHRoaXMuc2VuZFBpbkNvbW1hbmQobGVnYWN5RGF0YSlcclxuICAgICAgICAgICAgICAgICkudGhlbigoKSA9PiBwYXJlbnRSZXNvbHZlKClcclxuICAgICAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHBhcmVudFJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZEV4dGVuZGVkQmlnQmxvY2tEYXRhKGRhdGFUeXBlLCBkYXRhTGVuLCBkYXRhLCBibG9ja1plcm8pLnRoZW4oKCkgPT4gcGFyZW50UmVzb2x2ZSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZW5kRXh0ZW5kZWRCaWdCbG9ja0RhdGEgPSAoZGF0YVR5cGUsIGRhdGFMZW4sIGRhdGEsIGJsb2NrWmVybykgPT4gbmV3IFByb21pc2UoIChwYXJlbnRSZXNvbHZlLCBwYXJlbnRSZWplY3QpID0+IHtcclxuICAgICAgICBjb25zdCBudW1iZXJPZkJsb2NrcyA9IE1hdGguY2VpbChkYXRhTGVuIC8gNjApO1xyXG4gICAgICAgIGxldCB3b3JraW5nT25Qcm9taXNlID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGNvbW1hbmRCbG9ja3MgPSBbXTtcclxuXHJcbiAgICAgICAgYmxvY2taZXJvID0gYmxvY2taZXJvLmNvbmNhdChbXHJcbiAgICAgICAgICAgICgoZGF0YUxlbiA+PiA4KSAmIDB4RkYpLCBcclxuICAgICAgICAgICAgKChkYXRhTGVuID4+IDE2KSAmIDB4RkYpLCBcclxuICAgICAgICAgICAgKChkYXRhTGVuID4+IDI0KSAmIDB4RkYpLCBcclxuICAgICAgICAgICAgMHgwMSwgXHJcbiAgICAgICAgICAgIC4uLnRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDU2KVxyXG4gICAgICAgIF0pXHJcblxyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtTZW5kIEJpZyBCbG9jayBEYXRhIEV4dGVuZGVkXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKGJsb2NrWmVybyl9IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmVnaW5RdWV1ZSA9ICgpID0+IG5ldyBQcm9taXNlKChiZWdpblF1ZXVlUmVzb2x2ZSwgYmVnaW5RdWV1ZVJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAod29ya2luZ09uUHJvbWlzZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGF5UHJvbWlzZSg1MDApLnRoZW4oKCkgPT4gYmVnaW5RdWV1ZVJlc29sdmUoIGJlZ2luUXVldWUoKSApKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFCbG9jayA9IGNvbW1hbmRCbG9ja3Muc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZGF0YUJsb2NrKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJlZ2luUXVldWVSZXNvbHZlKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgd29ya2luZ09uUHJvbWlzZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGF0YUJsb2NrLnF1ZXVlZFByb21pc2UoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gZGF0YUJsb2NrLnJlc29sdmUoKVxyXG4gICAgICAgICAgICAgICAgKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB3b3JraW5nT25Qcm9taXNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJlZ2luUXVldWVSZXNvbHZlKCBiZWdpblF1ZXVlKCkgKVxyXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB3b3JraW5nT25Qcm9taXNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW5RdWV1ZVJlamVjdCggZGF0YUJsb2NrLnJlamVjdChlcnIpICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBlbnF1ZXVlID0gcXVldWVkUHJvbWlzZSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRCbG9ja3MucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZWRQcm9taXNlLFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSxcclxuICAgICAgICAgICAgICAgIHJlamVjdCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVucXVldWUoIFxyXG4gICAgICAgICAgICAoKSA9PiBuZXcgUHJvbWlzZShpbm5lclJlc29sdmUgPT4gXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRQaW5Db21tYW5kKGJsb2NrWmVybykudGhlbigoKSA9PiBpbm5lclJlc29sdmUoKSkgKSBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgYmxvY2sgPSAxOyBibG9jayA8PSBudW1iZXJPZkJsb2NrczsgaSArIDYwLCBibG9jaysrKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhRm9yQmxvY2sgPSBkYXRhLnNsaWNlKGksIChpICsgNjApKTtcclxuICAgICAgICAgICAgbGV0IGJsb2NrQ21kID0gWzB4MDEsIDB4MTAsIGRhdGFUeXBlLCBibG9jaywgZGF0YUZvckJsb2NrLmxlbmd0aCwgLi4uZGF0YUZvckJsb2NrXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChibG9ja0NtZC5sZW5ndGggIT09IDY1KVxyXG4gICAgICAgICAgICAgICAgYmxvY2tDbWQgPSBibG9ja0NtZC5jb25jYXQoIC4uLnRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsICg2NSAtIGJsb2NrQ21kLmxlbmd0aCkpIClcclxuXHJcbiAgICAgICAgICAgIGVucXVldWUoIFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gbmV3IFByb21pc2UoIGlubmVyUmVzb2x2ZSA9PiBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRQaW5Db21tYW5kKGJsb2NrQ21kKS50aGVuKCAoKSA9PiBpbm5lclJlc29sdmUoKSkgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW1NlbmQgQmlnIEJsb2NrIERhdGEgRXh0ZW5kZWRdOiBFeGVjdXRpbmcgcXVldWUgb2YgJHtjb21tYW5kQmxvY2tzLmxlbmd0aH0gY29tbWFuZHMgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICByZXR1cm4gYmVnaW5RdWV1ZSgpLnRoZW4oYmVnaW5RdWVSZXNwID0+IHBhcmVudFJlc29sdmUoYmVnaW5RdWVSZXNwKSkuY2F0Y2goZXJyID0+IHBhcmVudFJlamVjdChlcnIpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNlbmRBcnBjID0gYXJwY1Jlc3AgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gdGhpcy5zZW5kQXJwY0Jhc2UoYXJwY1Jlc3ApXHJcbiAgICAgICAgLnRoZW4oYXJwY0NtZCA9PiB0aGlzLmRlbGF5UHJvbWlzZSgyMDAsIGFycGNDbWQpXHJcbiAgICAgICAgKS50aGVuKGNtZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXNzZWQgdGhyb3VnaCBjb21tYW5kOiAnLCBjbWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKGNtZClcclxuICAgICAgICB9KS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbU2VuZCBBUlBDIFJlc3VsdF06ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhyZXNwKX1gKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlc3ApO1xyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiByZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpKSlcclxuICAgICk7XHJcblxyXG4gICAgc2VuZFBpbkNvbW1hbmQgPSB3cml0ZUNvbW1hbmQgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQXBwRnJvbUhvc3RMZW5ndGhdOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoW3dyaXRlQ29tbWFuZC5sZW5ndGhdKX0gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICByZXR1cm4gKCF0aGlzLnNlbmRMZW5Ub0RldmljZSkgPyByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoY29tbWFuZE5vdFNlbnRGcm9tSG9zdCkgKVxyXG4gICAgICAgIDogdGhpcy5zZW5kTGVuVG9EZXZpY2Uud3JpdGVWYWx1ZShVaW50OEFycmF5Lm9mKCB3cml0ZUNvbW1hbmQubGVuZ3RoICkpXHJcbiAgICAgICAgICAgIC50aGVuKCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQXBwRnJvbUhvc3REYXRhXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHdyaXRlQ29tbWFuZCl9IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFNlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljLndyaXRlVmFsdWUoIFVpbnQ4QXJyYXkuZnJvbSh3cml0ZUNvbW1hbmQpICkgKVxyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kU2VudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2VuZENvbW1hbmRXaXRoUmVzcCA9IHdyaXRlQ29tbWFuZCA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gdGhpcy5zZW5kUGluQ29tbWFuZCh3cml0ZUNvbW1hbmQpXHJcbiAgICAgICAgLnRoZW4oICgpID0+ICh0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlKSA/IFByb21pc2UucmVzb2x2ZSh0cnVlKSA6IHRoaXMud2FpdEZvckRldmljZVJlc3BvbnNlKDE2KSApXHJcbiAgICAgICAgLnRoZW4oIHdhaXRSZXNwID0+ICh3YWl0UmVzcCkgPyB0aGlzLnJlYWRDb21tYW5kUmVzcCgpIDogdGhpcy50cnlDb21tYW5kQWdhaW4od3JpdGVDb21tYW5kKSApXHJcbiAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUmVzcEF2YWlsYWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHJlc3BvbnNlICk7XHJcbiAgICAgICAgfSkuY2F0Y2goIGVyciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApXHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgdHJ5Q29tbWFuZEFnYWluID0gd3JpdGVDb21tYW5kID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB0aGlzLnNlbmRQaW5Db21tYW5kKHdyaXRlQ29tbWFuZClcclxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy53YWl0Rm9yRGV2aWNlUmVzcG9uc2UoNSkgKVxyXG4gICAgICAgIC50aGVuKCB3YWl0UmVzcCA9PiAod2FpdFJlc3ApID8gcmVzb2x2ZSggdGhpcy5yZWFkQ29tbWFuZFJlc3AoKSApXHJcbiAgICAgICAgICAgIDogcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKHJlc3BvbnNlTm90UmVjZWl2ZWQpIClcclxuICAgICAgICApXHJcbiAgICApO1xyXG5cclxuICAgIGNhbmNlbFRyYW5zYWN0aW9uID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMpID8gXHJcbiAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGNvbW1hbmROb3RTZW50KSlcclxuICAgICAgICA6XHJcbiAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFsweDAxLCAweDA1LCAweDAwXSlcclxuICAgICAgICAudGhlbiggYWNrUmVzcCA9PiByZXNvbHZlKGFja1Jlc3ApIClcclxuICAgICAgICAuY2F0Y2goIGVyciA9PiByZWplY3QoZXJyKSApXHJcbiAgICApO1xyXG5cclxuICAgIGNsZWFyU2Vzc2lvbiA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0NsZWFyU2Vzc2lvbl06IFJlcXVlc3QgdG8gY2xlYXIgc2Vzc2lvbiB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoIXRoaXMuc2VuZExlblRvRGV2aWNlKSA/IHJlc29sdmUobm9TZXNzaW9uVG9DbGVhcikgXHJcbiAgICAgICAgICAgIDogdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKHRoaXMuY2xlYXJTZXNzaW9uQ21kKVxyXG4gICAgICAgICAgICAudGhlbiggYWNrUmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soYWNrUmVzcCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQ2xlYXJTZXNzaW9uXTogUmVjZWl2ZWQgY2xlYXIgc2Vzc2lvbiByZXNwb25zZSB8fCAke25ldyBEYXRlKCl9YCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShhY2tSZXNwKVxyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjbG9zZVBpbkRldmljZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuY2FyZERhdGFMaXN0ZW5lcikgP1xyXG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpLnRoZW4oICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0Nsb3NlIERldmljZV06IERldmljZSBDbG9zZWQuIENsZWFyaW5nIEpTIGNhY2hlIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckdhdHRDYWNoZSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCBlcnIgKSApXHJcbiAgICAgICAgOlxyXG4gICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lci5zdG9wTm90aWZpY2F0aW9ucygpXHJcbiAgICAgICAgLnRoZW4oICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0Nsb3NlIERldmljZV06IEdBVFQgbm90aWZpY2F0aW9ucyBzdG9wcGVkLiBDbGVhcmluZyBKUyBjYWNoZSB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhcmREYXRhTGlzdGVuZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmRhdGFXYXRjaGVyKTtcclxuICAgICAgICAgICAgdGhpcy5jYXJkRGF0YUxpc3RlbmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckdhdHRDYWNoZSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuZGlzY29ubmVjdCgpIClcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCBlcnIgKSApXHJcbiAgICApO1xyXG5cclxuICAgIGNsb3NlRGV2aWNlID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gXHJcbiAgICAgICAgcmVzb2x2ZShzdWNjZXNzZnVsQ2xvc2UpIFxyXG4gICAgICAgIDogdGhpcy5jbGVhclNlc3Npb24oKVxyXG4gICAgICAgICAgICAudGhlbiggKCkgPT4gXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUGluRGV2aWNlKClcclxuICAgICAgICAgICAgKS50aGVuKCgpPT4gcmVzb2x2ZShzdWNjZXNzZnVsQ2xvc2UpXHJcbiAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICBjbGVhckdhdHRDYWNoZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uSGFzU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZURhdGFDaGFyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zZW5kTGVuVG9EZXZpY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFNlbnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zd2lwZUhhc0JlZ3VuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kYXRhR2F0aGVyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzUXVpY2tDaGlwVHJhbnNhY3Rpb24gPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQaW5QYWQ7IiwiaW1wb3J0IFBpblBhZCBmcm9tICcuL3BpblBhZCc7XHJcbmltcG9ydCB7IGRldmljZU5vdElkbGUsIGRwTWluaSB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IHJlc3BvbnNlTm90UmVjZWl2ZWQsIGRldmljZU5vdEZvdW5kIH0gZnJvbSAnLi4vZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cyc7XHJcblxyXG5jbGFzcyBEcE1pbmkgZXh0ZW5kcyBQaW5QYWQge1xyXG4gICAgY29uc3RydWN0b3IoZGV2aWNlLCBjYWxsQmFja3MpIHtcclxuICAgICAgICBzdXBlcihkZXZpY2UsIGNhbGxCYWNrcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0S3NuQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWRLc24gPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZ2V0U2VyaWFsTnVtYmVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWRTbiA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlVHlwZSA9IGRwTWluaTtcclxuICAgIH1cclxuXHJcbiAgICAvLyNyZWdpb24gR2V0RGV2aWNlSW5mb1xyXG4gICAgZ2V0RGV2aWNlSW5mbyA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlKSA/XHJcbiAgICAgICAgcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90Rm91bmQpKSBcclxuICAgICAgICA6IHRoaXMuZ2F0aGVyRGV2aWNlSW5mbygpXHJcbiAgICAgICAgICAgIC50aGVuKCBkZXZpY2VJbmZvID0+IHJlc29sdmUoZGV2aWNlSW5mbylcclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpIClcclxuICAgICk7XHJcblxyXG4gICAgZ2F0aGVyRGV2aWNlSW5mbyA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5jaGVja0lmRGV2aWNlSWRsZSgpXHJcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuZ2V0RGV2aWNlSW5mb1Byb2NlZWQoKVxyXG4gICAgICAgICkudGhlbiggZGV2aWNlSW5mbyA9PiBcclxuICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgIC4uLmRldmljZUluZm8sXHJcbiAgICAgICAgICAgICAgICAgZGV2aWNlTmFtZTogdGhpcy5kZXZpY2UubmFtZSxcclxuICAgICAgICAgICAgICAgICBpc0Nvbm5lY3RlZDogdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQsXHJcbiAgICAgICAgICAgICB9KVxyXG4gICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKVxyXG4gICAgIH0pO1xyXG5cclxuICAgIGdldERldmljZUluZm9CYXNlID0gKCkgPT4gbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xyXG4gICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChbMHgwMSwgMHgxQSwgMHgwNV0pXHJcbiAgICAgICAgLnRoZW4oIGFja1Jlc3AgPT4gcmVzb2x2ZShhY2tSZXNwKSlcclxuICAgIH0pO1xyXG5cclxuICAgIGdldERldmljZUluZm9Qcm9jZWVkID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLnNlbmRQaW5Db21tYW5kKFsweDAwLCAweDFBLCAweDA1XSlcclxuICAgICAgICAudGhlbiggKCkgPT4gKHRoaXMuZ2V0U2VyaWFsTnVtYmVyIHx8IHRoaXMud2FpdEZvclNuKDUpKSBcclxuICAgICAgICApLnRoZW4oIHdhaXRSZXNwID0+ICh3YWl0UmVzcCkgPyBQcm9taXNlLnJlc29sdmUoKSA6IFxyXG4gICAgICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIocmVzcG9uc2VOb3RSZWNlaXZlZCkpXHJcbiAgICAgICAgKS50aGVuKCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXR1cm5TbiA9IHsgXHJcbiAgICAgICAgICAgICAgICBzZXJpYWxOdW1iZXI6IHRoaXMuaGV4VG9Bc2NpaSh0aGlzLnJlcXVlc3RlZFNuLnNlcmlhbE51bWJlcikgXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmdldFNlcmlhbE51bWJlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RlZFNuID0gbnVsbDtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoICByZXR1cm5TbiApO1xyXG4gICAgICAgIH0pLmNhdGNoKCBlcnIgPT4gcmVqZWN0KGVycikpXHJcbiAgICB9KVxyXG5cclxuICAgIGNoZWNrSWZEZXZpY2VJZGxlID0gKCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgdGhpcy5nZXREZXZpY2VJbmZvQmFzZSgpXHJcbiAgICAgICAgLnRoZW4oIGFja1Jlc3AgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWNrUmVzcC5tZXNzYWdlID09PSBkZXZpY2VOb3RJZGxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhclNlc3Npb24oKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuZ2V0RGV2aWNlSW5mb0Jhc2UoKSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKGFja1Jlc3ApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4oYWNrUmVzcCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhhY2tSZXNwKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcblxyXG4gICAgd2FpdEZvclNuID0gbWF4VHJpZXMgPT4gbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xyXG5cclxuICAgICAgICBsZXQgd2FpdEZvclJlc3BvbnNlID0gdHJ5TnVtYmVyID0+IFxyXG4gICAgICAgICAgICAodHJ5TnVtYmVyIDwgbWF4VHJpZXMpID8gXHJcbiAgICAgICAgICAgICAgICAodGhpcy5nZXRTZXJpYWxOdW1iZXIpID8gcmVzb2x2ZSggdHJ1ZSApIDogc2V0VGltZW91dCgoKSA9PiB3YWl0Rm9yUmVzcG9uc2UodHJ5TnVtYmVyICsgMSksIDIwMClcclxuICAgICAgICAgICAgOiByZXNvbHZlKCBmYWxzZSApO1xyXG5cclxuICAgICAgICB3YWl0Rm9yUmVzcG9uc2UoMCk7XHJcbiAgICB9KTtcclxuICAgIC8vI2VuZHJlZ2lvblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcE1pbmk7IiwiaW1wb3J0IFBpblBhZCBmcm9tICcuL3BpblBhZCc7XHJcbmltcG9ydCB7IGRldmljZU5vdElkbGUsIGR5bmFQcm9HbyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IHJlc3BvbnNlTm90UmVjZWl2ZWQsIGRldmljZU5vdEZvdW5kLCBkZXZpY2VOb3RPcGVuLCBtaXNzaW5nUmVxdWlyZWRGaWVsZHMgfSBmcm9tICcuLi9lcnJvckhhbmRsZXIvZXJyQ29uc3RhbnRzJztcclxuXHJcbmNsYXNzIER5bmFQcm9HbyBleHRlbmRzIFBpblBhZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRLc25BdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RlZEtzbiA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5nZXRTZXJpYWxOdW1iZXIgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RlZFNuID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5kZXZpY2VUeXBlID0gZHluYVByb0dvO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERpc3BsYXlNZXNzYWdlID0gZGlzcGxheU9wdGlvbnMgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gXHJcbiAgICAgICAgKHRoaXMuZGV2aWNlICYmIHRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkRGlzcGxheUNtZCggKGRpc3BsYXlPcHRpb25zIHx8IHt9KSApLnRoZW4oIGNtZCA9PiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoY21kKSBcclxuICAgICAgICAgICAgICAgICkudGhlbihyZXNwID0+IHJlc29sdmUocmVzcClcclxuICAgICAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihlcnIpICkpXHJcbiAgICAgICAgICAgIDogcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdE9wZW4pKSApO1xyXG5cclxuICAgIGJ1aWxkRGlzcGxheUNtZCA9ICh7IGRpc3BsYXlUaW1lLCBtZXNzYWdlSWQsIH0pID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICAodHlwZW9mKG1lc3NhZ2VJZCkgPT09ICd1bmRlZmluZWQnKSA/IFxyXG4gICAgICAgICAgICByZWplY3QoIG1pc3NpbmdSZXF1aXJlZEZpZWxkcyhcIm1lc3NhZ2VJZFwiKSApIFxyXG4gICAgICAgICAgICA6IHJlc29sdmUoW1xyXG4gICAgICAgICAgICAgICAgMHgwMSwgMHgwNyxcclxuICAgICAgICAgICAgICAgICh0eXBlb2YoZGlzcGxheVRpbWUpICE9PSAndW5kZWZpbmVkJykgPyBkaXNwbGF5VGltZSA6IDB4MEYsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWRcclxuICAgICAgICAgICAgXSlcclxuICAgICAgICApO1xyXG5cclxuICAgIC8vI3JlZ2lvbiBHZXREZXZpY2VJbmZvXHJcbiAgICBnZXREZXZpY2VJbmZvID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UpID9cclxuICAgICAgICByZWplY3QodGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RGb3VuZCkpIFxyXG4gICAgICAgIDogdGhpcy5nYXRoZXJEZXZpY2VJbmZvKClcclxuICAgICAgICAgICAgLnRoZW4oIGRldmljZUluZm8gPT4gcmVzb2x2ZShkZXZpY2VJbmZvKVxyXG4gICAgICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkgKVxyXG4gICAgKTtcclxuXHJcbiAgICBnYXRoZXJEZXZpY2VJbmZvID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmNoZWNrSWZEZXZpY2VJZGxlKClcclxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5nZXREZXZpY2VJbmZvUHJvY2VlZCgpXHJcbiAgICAgICAgKS50aGVuKCBkZXZpY2VJbmZvID0+IFxyXG4gICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgLi4uZGV2aWNlSW5mbyxcclxuICAgICAgICAgICAgICAgICBkZXZpY2VOYW1lOiB0aGlzLmRldmljZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCxcclxuICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpXHJcbiAgICAgfSk7XHJcblxyXG4gICAgZ2V0RGV2aWNlSW5mb0Jhc2UgPSAoKSA9PiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFsweDAxLCAweDFBLCAweDA1XSlcclxuICAgICAgICAudGhlbiggYWNrUmVzcCA9PiByZXNvbHZlKGFja1Jlc3ApKVxyXG4gICAgfSk7XHJcblxyXG4gICAgZ2V0RGV2aWNlSW5mb1Byb2NlZWQgPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2VuZFBpbkNvbW1hbmQoWzB4MDAsIDB4MUEsIDB4MDVdKVxyXG4gICAgICAgIC50aGVuKCAoKSA9PiAodGhpcy5nZXRTZXJpYWxOdW1iZXIpID8gUHJvbWlzZS5yZXNvbHZlKHRydWUpIDogdGhpcy53YWl0Rm9yU24oNSkgXHJcbiAgICAgICAgKS50aGVuKCB3YWl0UmVzcCA9PiAod2FpdFJlc3ApID8gUHJvbWlzZS5yZXNvbHZlKCkgOiBcclxuICAgICAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKHJlc3BvbnNlTm90UmVjZWl2ZWQpKVxyXG4gICAgICAgICkudGhlbiggKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmV0dXJuU24gPSB7IFxyXG4gICAgICAgICAgICAgICAgc2VyaWFsTnVtYmVyOiB0aGlzLmhleFRvQXNjaWkodGhpcy5yZXF1ZXN0ZWRTbi5zZXJpYWxOdW1iZXIpIFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5nZXRTZXJpYWxOdW1iZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWRTbiA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCAgcmV0dXJuU24gKTtcclxuICAgICAgICB9KS5jYXRjaCggZXJyID0+IHJlamVjdChlcnIpKVxyXG4gICAgfSlcclxuXHJcbiAgICBjaGVja0lmRGV2aWNlSWRsZSA9ICgpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIHRoaXMuZ2V0RGV2aWNlSW5mb0Jhc2UoKVxyXG4gICAgICAgIC50aGVuKCBhY2tSZXNwID0+IHtcclxuICAgICAgICAgICAgaWYgKGFja1Jlc3AubWVzc2FnZSA9PT0gZGV2aWNlTm90SWRsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYXJTZXNzaW9uKClcclxuICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLmdldERldmljZUluZm9CYXNlKCkgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhhY2tSZXNwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKGFja1Jlc3AgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soYWNrUmVzcCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG5cclxuICAgIHdhaXRGb3JTbiA9IG1heFRyaWVzID0+IG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHdhaXRGb3JSZXNwb25zZSA9IHRyeU51bWJlciA9PiBcclxuICAgICAgICAgICAgKHRyeU51bWJlciA8IG1heFRyaWVzKSA/IFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuZ2V0U2VyaWFsTnVtYmVyKSA/IHJlc29sdmUoIHRydWUgKSA6IHNldFRpbWVvdXQoKCkgPT4gd2FpdEZvclJlc3BvbnNlKHRyeU51bWJlciArIDEpLCAyMDApXHJcbiAgICAgICAgICAgIDogcmVzb2x2ZSggZmFsc2UgKTtcclxuXHJcbiAgICAgICAgd2FpdEZvclJlc3BvbnNlKDApO1xyXG4gICAgfSk7XHJcbiAgICAvLyNlbmRyZWdpb25cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHluYVByb0dvOyIsImltcG9ydCBEZXZpY2VCYXNlIGZyb20gJy4uL2RldmljZXMvYmFzZUNsYXNzJztcclxuXHJcbmNsYXNzIFNjcmFTd2lwZVBhcnNlciBleHRlbmRzIERldmljZUJhc2Uge1xyXG4gICAgY29uc3RydWN0b3IoZGV2aWNlLCBjYWxsQmFja3MpIHtcclxuICAgICAgICBzdXBlcihkZXZpY2UsIGNhbGxCYWNrcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YU5hbWVzID0gW1xyXG4gICAgICAgICAgICAndHJhY2sxJyxcclxuICAgICAgICAgICAgJ3RyYWNrMicsXHJcbiAgICAgICAgICAgICd0cmFjazMnLFxyXG4gICAgICAgICAgICAna3NuJyxcclxuICAgICAgICAgICAgJ21hZ25lUHJpbnQnLFxyXG4gICAgICAgICAgICAnbWFnbmVQcmludFN0YXR1cycsXHJcbiAgICAgICAgICAgICdzZXJpYWxOdW1iZXInLFxyXG4gICAgICAgICAgICAnZW5jU2Vzc2lvbklkJyxcclxuICAgICAgICAgICAgJ3RyYWNrMU1hc2tlZCcsXHJcbiAgICAgICAgICAgICd0cmFjazJNYXNrZWQnLFxyXG4gICAgICAgICAgICAndHJhY2szTWFza2VkJ1xyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMztcclxuXHJcbiAgICAgICAgLy9Nb3ZlZCBTdGF0dXMgRW51bXMgdG8gRGV2aWNlQmFzZSBmb3IgaW5oZXJpdGFuY2UuXHJcbiAgICB9XHJcblxyXG4gICAgdHJhY2tJbmRpY2VzID0gb2Zmc2V0ID0+IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgIHRyYWNrMURlY29kZVN0YXR1czogb2Zmc2V0LFxyXG4gICAgICAgIHRyYWNrMkRlY29kZVN0YXR1czogb2Zmc2V0ICsgMSxcclxuICAgICAgICB0cmFjazNEZWNvZGVTdGF0dXM6IG9mZnNldCArIDIsXHJcbiAgICAgICAgdHJhY2sxTGVuOiBvZmZzZXQgKyAzLFxyXG4gICAgICAgIHRyYWNrMkxlbjogb2Zmc2V0ICsgNCxcclxuICAgICAgICB0cmFjazNMZW46IG9mZnNldCArIDUsXHJcbiAgICAgICAgY2FyZEVuY29kZVR5cGU6IG9mZnNldCArIDYsXHJcbiAgICAgICAgdHJhY2sxU3RhcnQ6IG9mZnNldCArIDcsXHJcbiAgICAgICAgdHJhY2sxRW5kOiBvZmZzZXQgKyAxMTgsXHJcbiAgICAgICAgdHJhY2syU3RhcnQ6IG9mZnNldCArIDExOSxcclxuICAgICAgICB0cmFjazJFbmQ6IG9mZnNldCArIDIzMCxcclxuICAgICAgICB0cmFjazNTdGFydDogb2Zmc2V0ICsgMjMxLFxyXG4gICAgICAgIHRyYWNrM0VuZDogb2Zmc2V0ICsgMzQyLFxyXG4gICAgICAgIGNhcmRTdGF0dXM6IG9mZnNldCArIDM0MyxcclxuICAgICAgICBtYWduZVByaW50U3RhdHVzU3RhcnQ6IG9mZnNldCArIDM0NCxcclxuICAgICAgICBtYWduZVByaW50U3RhdHVzRW5kOiBvZmZzZXQgKyAgMzQ3LFxyXG4gICAgICAgIG1hZ25lUHJpbnRMZW46IG9mZnNldCArIDM0OCxcclxuICAgICAgICBtYWduZVByaW50U3RhcnQ6IG9mZnNldCArIDM0OSxcclxuICAgICAgICBtYWduZVByaW50RW5kOiBvZmZzZXQgKyA0NzYsXHJcbiAgICAgICAgc2VyaWFsTnVtYmVyU3RhcnQ6IG9mZnNldCArIDQ3NyxcclxuICAgICAgICBzZXJpYWxOdW1iZXJFbmQ6IG9mZnNldCArIDQ5MixcclxuICAgICAgICBkZXZpY2VFbmNTdGF0dXNTdGFydDogb2Zmc2V0ICsgNDkzLFxyXG4gICAgICAgIGRldmljZUVuY1N0YXR1c0VuZDogb2Zmc2V0ICsgNDk0LFxyXG4gICAgICAgIGtzblN0YXJ0OiBvZmZzZXQgKyA0OTUsXHJcbiAgICAgICAga3NuRW5kOiBvZmZzZXQgKyA1MDQsXHJcbiAgICAgICAgdHJhY2sxTWFza2VkTGVuOiBvZmZzZXQgKyA1MDUsXHJcbiAgICAgICAgdHJhY2syTWFza2VkTGVuOiBvZmZzZXQgKyA1MDYsXHJcbiAgICAgICAgdHJhY2szTWFza2VkTGVuOiBvZmZzZXQgKyA1MDcsXHJcbiAgICAgICAgdHJhY2sxTWFza2VkU3RhcnQ6IG9mZnNldCArIDUwOCxcclxuICAgICAgICB0cmFjazFNYXNrZWRFbmQ6IG9mZnNldCArIDYxOSxcclxuICAgICAgICB0cmFjazJNYXNrZWRTdGFydDogb2Zmc2V0ICsgNjIwLFxyXG4gICAgICAgIHRyYWNrMk1hc2tlZEVuZDogb2Zmc2V0ICsgNzMxLFxyXG4gICAgICAgIHRyYWNrM01hc2tlZFN0YXJ0OiBvZmZzZXQgKyA3MzIsXHJcbiAgICAgICAgdHJhY2szTWFza2VkRW5kOiBvZmZzZXQgKyA4NDMsXHJcbiAgICAgICAgZW5jU2Vzc2lvbklkU3RhcnQ6IG9mZnNldCArIDg0NCxcclxuICAgICAgICBlbmNTZXNzaW9uSWRFbmQ6IG9mZnNldCArIDg1MSxcclxuICAgICAgICB0cmFjazFBYnNMZW46IG9mZnNldCArIDg1MixcclxuICAgICAgICB0cmFjazJBYnNMZW46IG9mZnNldCArIDg1MyxcclxuICAgICAgICB0cmFjazNBYnNMZW46IG9mZnNldCArIDg1NCxcclxuICAgICAgICBtYWduZVByaW50QWJzTGVuOiBvZmZzZXQgKyA4NTVcclxuICAgIH0pO1xyXG5cclxuICAgIHBhcnNlSGlkRGF0YSA9IGRhdGEgPT4ge1xyXG4gICAgICAgIGxldCB0cmFja1Bvc2l0aW9ucyA9IHRoaXMudHJhY2tJbmRpY2VzKHRoaXMub2Zmc2V0KTtcclxuICAgICAgICBsZXQgdHJhY2tJbmZvID0ge307XHJcbiAgICBcclxuICAgICAgICAvL0l0ZXJhdGUgdGhyb3VnaCB0cmFjayBuYW1lcyBhbmQgZm9ybWF0IGluIGtleSB2YWx1ZSBwYWlyIGZvcm1hdC5cclxuICAgICAgICB0aGlzLmRhdGFOYW1lcy5mb3JFYWNoKCBkYXRhUHJvcCA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgdHJhY2tEYXRhID0gZGF0YS5zbGljZShcclxuICAgICAgICAgICAgICAgIHRyYWNrUG9zaXRpb25zW2Ake2RhdGFQcm9wfVN0YXJ0YF0sIHRyYWNrUG9zaXRpb25zW2Ake2RhdGFQcm9wfUVuZGBdICsgMVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRyYWNrUG9zaXRpb25zLmhhc093blByb3BlcnR5KGAke2RhdGFQcm9wfUxlbmApKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFja0RhdGEgPSB0cmFja0RhdGEuc2xpY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgMCwgZGF0YVt0cmFja1Bvc2l0aW9uc1tgJHtkYXRhUHJvcH1MZW5gXV1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9TcGVjaWFsIGZvcm1hdHRpbmcgaXMgbmVlZGVkIGZvciB0cmFjazJNYXNrZWQsIHRyYWNrcyB3aXRoIGEgXCJEZWNvZGVTdGF0dXNcIiBmaWVsZCwgRGV2aWNlIFNlcmlhbCBOdW1iZXIsIGFuZCB0cmFja3MgdGhhdCBoYXZlIGEgXCJtYXNrZWRcIiBzdWZmaXguXHJcbiAgICAgICAgICAgIC8vVGhlIGJlbG93IHRlcm5hcnkgcmV0dXJucyB0aGUgcHJvcGVyIGZvcm1hdCwgZGVwZW5kaW5nIG9uIHRyYWNrIG5hbWUsIGFuZCBwZXJmb3JtcyBtdWNoIGJldHRlciB0aGFuIGlmL2Vsc2VpZi9lbHNlIHN0YXRlbWVudC5cclxuICAgICAgICAgICAgdHJhY2tJbmZvID0gKGRhdGFQcm9wID09PSAndHJhY2syTWFza2VkJykgPyB0aGlzLmZvcm1hdFRyYWNrMk1hc2tlZCggdHJhY2tJbmZvLCBkYXRhUHJvcCwgdGhpcy5idWZmZXJUb1V0ZjgodHJhY2tEYXRhKSApIDogXHJcbiAgICAgICAgICAgICAgICAodHJhY2tQb3NpdGlvbnMuaGFzT3duUHJvcGVydHkoYCR7ZGF0YVByb3B9RGVjb2RlU3RhdHVzYCkpID8gdGhpcy5mb3JtYXRUcmFja1dpdGhEZWNvZGUoIHRyYWNrSW5mbywgZGF0YVByb3AsIGRhdGFbdHJhY2tQb3NpdGlvbnNbYCR7ZGF0YVByb3B9RGVjb2RlU3RhdHVzYF1dLCB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHRyYWNrRGF0YSkgKSA6IFxyXG4gICAgICAgICAgICAgICAgICAgIChkYXRhUHJvcCA9PT0gJ3NlcmlhbE51bWJlcicpID8gdGhpcy5mb3JtYXRTZXJpYWxOdW1iZXIodHJhY2tJbmZvLCB0cmFja0RhdGEpIDogXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udHJhY2tJbmZvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbZGF0YVByb3BdIDogKGRhdGFQcm9wLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ21hc2tlZCcpKSA/IHRoaXMuYnVmZmVyVG9VdGY4KHRyYWNrRGF0YSkgOiB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHRyYWNrRGF0YSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4geyBzd2lwZURhdGE6IHsgLi4udHJhY2tJbmZvIH0gfTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JtYXRTZXJpYWxOdW1iZXIgPSAodHJhY2tJbmZvLCB0cmFja0RhdGEpID0+ICh7XHJcbiAgICAgICAgLi4udHJhY2tJbmZvLFxyXG4gICAgICAgIHNlcmlhbE51bWJlcjogdGhpcy5idWZmZXJUb1V0ZjgoICh0cmFja0RhdGEubGVuZ3RoID4gNyA/IHRyYWNrRGF0YS5zbGljZSgwLCA3KSA6IHRyYWNrRGF0YSApIClcclxuICAgIH0pO1xyXG5cclxuICAgIC8vTW92ZWQgRXhwIGFuZCBQQU4gZm9ybWF0aW5nIHRvIFV0aWxzIGNsYXNzIC0gZm9yIGluaGVyaXRhbmNlLlxyXG5cclxuICAgIGZvcm1hdFRyYWNrMk1hc2tlZCA9ICh0cmFja0luZm8sIGRhdGFQcm9wLCB0cmFjazJNYXNrZWQpID0+ICh7XHJcbiAgICAgICAgLi4udHJhY2tJbmZvLFxyXG4gICAgICAgIFtkYXRhUHJvcF0gOiB0cmFjazJNYXNrZWQsXHJcbiAgICAgICAgLi4udGhpcy5mb3JtYXRFeHBQQU4odHJhY2syTWFza2VkKVxyXG4gICAgfSk7XHJcblxyXG4gICAgZm9ybWF0VHJhY2tXaXRoRGVjb2RlID0gKHRyYWNrSW5mbywgZGF0YVByb3AsIGRlY29kZVN0YXR1c1ZhbHVlLCB0cmFja1ZhbHVlKSA9PiAoe1xyXG4gICAgICAgIC4uLnRyYWNrSW5mbyxcclxuICAgICAgICBbZGF0YVByb3BdIDogdHJhY2tWYWx1ZSxcclxuICAgICAgICBbYCR7ZGF0YVByb3B9RGVjb2RlU3RhdHVzYF0gOiBkZWNvZGVTdGF0dXNWYWx1ZSA9PT0gMHgwMCA/IFwiT2tcIiA6IFwiRXJyb3JcIixcclxuICAgICAgICBbYCR7ZGF0YVByb3B9RGVjb2RlU3RhdHVzQ29kZWBdIDogZGVjb2RlU3RhdHVzVmFsdWVcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY3JhU3dpcGVQYXJzZXI7IiwiaW1wb3J0IFNjcmFTd2lwZVBhcnNlciBmcm9tICcuLi9wYXJzZXJzL3NjcmFTd2lwZVBhcnNlcic7XHJcblxyXG5jbGFzcyBUcnhTdGF0dXNQYXJzZXIgZXh0ZW5kcyBTY3JhU3dpcGVQYXJzZXIge1xyXG4gICAgY29uc3RydWN0b3IoZGV2aWNlLCBjYWxsQmFja3MpIHtcclxuICAgICAgICBzdXBlcihkZXZpY2UsIGNhbGxCYWNrcyk7XHJcblxyXG4gICAgICAgIHRoaXMuVHJ4U3RhdHVzRW51bSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIlRyYW5zYWN0aW9uIFN0YXJ0ZWQgYW5kIElkbGVcIixcclxuICAgICAgICAgICAgMHgwMTogXCJDYXJkIGlzIEluc2VydGVkXCIsXHJcbiAgICAgICAgICAgIDB4MDI6IFwiRXJyb3JcIixcclxuICAgICAgICAgICAgMHgwMzogXCJUcmFuc2FjdGlvbiBQcm9ncmVzcyBDaGFuZ2VcIixcclxuICAgICAgICAgICAgMHgwNDogXCJXYWl0aW5nIGZvciBVc2VyIFJlc3BvbnNlXCIsXHJcbiAgICAgICAgICAgIDB4MDU6IFwiVGltZWQgT3V0XCIsXHJcbiAgICAgICAgICAgIDB4MDY6IFwiVHJhbnNhY3Rpb24gQ29tcGxldGVcIixcclxuICAgICAgICAgICAgMHgwNzogXCJDYW5jZWxsZWQgYnkgSG9zdFwiLFxyXG4gICAgICAgICAgICAweDA4OiBcIkNhcmQgUmVtb3ZlZFwiLFxyXG4gICAgICAgICAgICAweDA5OiBcIkNvbnRhY3RsZXNzIFRva2VuIERldGVjdGVkLCBQb3dlcmluZyBVcCBDYXJkXCIsXHJcbiAgICAgICAgICAgIDB4MEE6IFwiTVNSIFN3aXBlIERldGVjdGVkXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5UcnhQcm9ncmVzc0luZGljYXRvciA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIk5vIHRyYW5zYWN0aW9uIGluIHByb2dyZXNzXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiV2FpdGluZyBmb3IgY2FyZGhvbGRlciB0byBwcmVzZW50IHBheW1lbnRcIixcclxuICAgICAgICAgICAgMHgwMjogXCJQb3dlcmluZyB1cCB0aGUgY2FyZFwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIlNlbGVjdGluZyB0aGUgYXBwbGljYXRpb25cIixcclxuICAgICAgICAgICAgMHgwNDogXCJXYWl0aW5nIGZvciB1c2VyIGxhbmd1YWdlIHNlbGVjdGlvblwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwNTogXCJXYWl0aW5nIGZvciB1c2VyIGFwcGxpY2F0aW9uIHNlbGVjdGlvblwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwNjogXCJJbml0aWF0aW5nIGFwcGxpY2F0aW9uXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDA3OiBcIlJlYWRpbmcgYXBwbGljYXRpb24gZGF0YVwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwODogXCJPZmZsaW5lIGRhdGEgYXV0aGVudGljYXRpb25cIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MDk6IFwiUHJvY2VzcyByZXN0cmljdGlvbnNcIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MEE6IFwiQ2FyZGhvbGRlciB2ZXJpZmljYXRpb25cIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MEI6IFwiVGVybWluYWwgcmlzayBtYW5hZ2VtZW50XCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDBDOiBcIlRlcm1pbmFsIGFjdGlvbiBhbmFseXNpc1wiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwRDogXCJHZW5lcmF0aW5nIGZpcnN0IGFwcGxpY2F0aW9uIGNyeXB0b2dyYW1cIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MEU6IFwiQ2FyZCBhY3Rpb24gYW5hbHlzaXNcIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MEY6IFwiT25saW5lIHByb2Nlc3NpbmdcIixcclxuICAgICAgICAgICAgMHgxMDogXCJXYWl0aW5nIG9ubGluZSBwcm9jZXNzaW5nIHJlc3BvbnNlXCIsXHJcbiAgICAgICAgICAgIDB4MTE6IFwiVHJhbnNhY3Rpb24gQ29tcGxldGVcIixcclxuICAgICAgICAgICAgMHgxMjogXCJUcmFuc2FjdGlvbiBFcnJvclwiLFxyXG4gICAgICAgICAgICAweDEzOiBcIlRyYW5zYWN0aW9uIEFwcHJvdmVkXCIsXHJcbiAgICAgICAgICAgIDB4MTQ6IFwiVHJhbnNhY3Rpb24gRGVjbGluZWRcIixcclxuICAgICAgICAgICAgMHgxNTogXCJUcmFuc2FjdGlvbiBDYW5jZWxsZWQgYnkgTVNSIFN3aXBlXCIsICAvL01TUiBPbmx5XHJcbiAgICAgICAgICAgIDB4MTY6IFwiRU1WIGVycm9yIC0gQ29uZGl0aW9ucyBOb3QgU2F0aXNmaWVkXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDE3OiBcIkVNViBlcnJvciAtIENhcmQgQmxvY2tlZFwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgxODogXCJBcHBsaWNhdGlvbiBzZWxlY3Rpb24gZmFpbGVkXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDE5OiBcIkVNViBlcnJvciAtIENhcmQgTm90IEFjY2VwdGVkXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDFBOiBcIkVtcHR5IENhbmRpZGF0ZSBMaXN0XCIsXHJcbiAgICAgICAgICAgIDB4MUI6IFwiQXBwbGljYXRpb24gQmxvY2tlZFwiLFxyXG4gICAgICAgICAgICAweDI5OiBcIkNvbnRhY3RsZXNzIFJlbW92ZSBDYXJkXCIsXHJcbiAgICAgICAgICAgIDB4MkE6IFwiQ29sbGlzaW9uIERldGVjdGVkXCIsXHJcbiAgICAgICAgICAgIDB4MkI6IFwiUmVmZXIgdG8gTW9iaWxlIERldmljZSBQcm9tcHRcIixcclxuICAgICAgICAgICAgMHgyQzogXCJDb250YWN0bGVzcyBUcmFuc2FjdGlvbiBDb21wbGV0ZVwiLFxyXG4gICAgICAgICAgICAweDJEOiBcIlJlcXVlc3QgU3dpdGNoIHRvIElDQy9NU1IgLSBLZXJuZWwgaGFzIHJlZnVzZWQgY29udGFjdGxlc3MgcGF5bWVudFwiLFxyXG4gICAgICAgICAgICAweDJFOiBcIldyb25nIENhcmQgVHlwZSAoTVNEIG9yIEVNVilcIixcclxuICAgICAgICAgICAgMHgyRjogXCJObyBBcHBsaWNhdGlvbiBJbnRlcmNoYW5nZSBQcm9maWxlIChUYWcgODIpIFJlY2VpdmVkXCIsXHJcbiAgICAgICAgICAgIDB4MzE6IFwiTWFnbmV0aWMgc3RyaXBlIGRlY29kaW5nIGVycm9yLlwiLFxyXG4gICAgICAgICAgICAweDNDOiBcIk1hZ25ldGljIHN0cmlwZSBkZWNvZGluZyBkdXJpbmcgVGVjaG5pY2FsIEZhbGxiYWNrLiBSZXZlcnQgdG8gTVNSLCBwb3dlcmluZyB1cCBidXQgbm90IHJlY2VpdmluZyBhbiBBbnN3ZXIgdG8gUmVzZXQgZnJvbSBjYXJkLlwiLFxyXG4gICAgICAgICAgICAweDNEOiBcIk1hZ25ldGljIHN0cmlwZSBjYXJkIGRlY29kZWQgZHVyaW5nIE1TUiBGYWxsYmFjay4gRGV2aWNlIHJldmVydGVkIHRvIE1TUiwgYnV0IGVuY291bnRlcmVkIGZhdGFsIGVycm9ycy5cIixcclxuICAgICAgICAgICAgMHgzRTogXCJNYWduZXRpYyBzdHJpcGUgY2FyZCBkZWNvZGVkIGR1cmluZyBhIE5vIEZhbGxiYWNrIE1TUiByZWFkLlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VUcmFuc2FjdGlvblN0YXR1cyA9IG5vdGlmaWNhdGlvbiA9PiB7XHJcbiAgICAgICAgbGV0IGRhdGFMZW4gPSB0aGlzLnJlYWRUd29CeXRlTGVuZ3RoKFtcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uWzFdLFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb25bMl1cclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgbGV0IG5ld05vdGlmaWNhdGlvbiA9IG5vdGlmaWNhdGlvbi5zbGljZSgzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChuZXdOb3RpZmljYXRpb24ubGVuZ3RoID09PSBkYXRhTGVuKSA/IHRoaXMucGFyc2VOb3RpZmljYXRpb25zKG5ld05vdGlmaWNhdGlvbikgOiB0aGlzLnRocm93TGVuRXJyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBwYXJzZU5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25TbGljZSA9PiB7XHJcbiAgICAgICAgbGV0IG5ld05vdGlmaWNhdGlvblNsaWNlID0gbm90aWZpY2F0aW9uU2xpY2Uuc2xpY2UoNik7XHJcblxyXG4gICAgICAgIGxldCBub3RpZmljYXRpb25MZW5ndGggPSB0aGlzLnJlYWRUd29CeXRlTGVuZ3RoKFtcclxuICAgICAgICAgICAgbmV3Tm90aWZpY2F0aW9uU2xpY2VbMF0sXHJcbiAgICAgICAgICAgIG5ld05vdGlmaWNhdGlvblNsaWNlWzFdXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGxldCBub3RpZmljYXRpb25Db250ZW50ID0gbmV3Tm90aWZpY2F0aW9uU2xpY2Uuc2xpY2UoMik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cclxuICAgICAgICAgICAgLy9ub3RpZmljYXRpb25Db250ZW50IEZvcm1hdCBieSBJbmRleDpcclxuICAgICAgICAgICAgLy8wOiBFdmVudCA9PiBTZWUgdGhpcy5UcnhTdGF0dXNFbnVtIGZvciBjb2Rlcy5cclxuICAgICAgICAgICAgLy8xOiBDdXJyZW50IE9wZXJhdGlvbiBUaW1lIHJlbWFpbmluZyBpbiBzZWNvbmRzLlxyXG4gICAgICAgICAgICAvLzI6IEN1cnJlbnQgVHJhbnNhY3Rpb24gUHJvZ3Jlc3MgSW5kaWNhdG9yID0+IFNlZSB0aGlzLlRyeFByb2dyZXNzSW5kaWNhdG9yIGZvciBjb2Rlcy5cclxuICAgICAgICAgICAgLy8zIC0gNDogRmluYWwgU3RhdHVzID0+IE5vIGRvY3VtZW50YXRpb24gcHJvdmlkZWQgZm9yIHRoaXMgKHVzdWFsbHkgaXMgMDAwMCkuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cclxuXHJcbiAgICAgICAgbGV0IHRyeFN0YXR1c0NvZGUgPSBub3RpZmljYXRpb25Db250ZW50WzBdO1xyXG4gICAgICAgIGxldCB0cnhQcm9ncmVzc0NvZGUgPSBub3RpZmljYXRpb25Db250ZW50WzJdO1xyXG5cclxuICAgICAgICByZXR1cm4gKG5vdGlmaWNhdGlvbkNvbnRlbnQubGVuZ3RoID09PSBub3RpZmljYXRpb25MZW5ndGgpID8gIHtcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdGF0dXM6IHtcclxuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHRyeFN0YXR1c0NvZGUsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXNNc2c6ICggdGhpcy5UcnhTdGF0dXNFbnVtWyB0cnhTdGF0dXNDb2RlIF0gfHwgXCJTdGF0dXMgY29kZSBtZXNzYWdlIG5vdCBkb2N1bWVudGVkXCIgKSxcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzQ29kZTogdHJ4UHJvZ3Jlc3NDb2RlLFxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NNc2c6ICggdGhpcy5UcnhQcm9ncmVzc0luZGljYXRvclsgdHJ4UHJvZ3Jlc3NDb2RlIF0gfHwgXCJQcm9ncmVzcyBjb2RlIG1lc3NhZ2Ugbm90IGRvY3VtZW50ZWRcIiApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgOlxyXG4gICAgICAgIHRoaXMudGhyb3dMZW5FcnIoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVHJ4U3RhdHVzUGFyc2VyOyIsImltcG9ydCBUcnhTdGF0dXNQYXJzZXIgZnJvbSAnLi90cnhTdGF0dXNQYXJzZXInO1xyXG5cclxuY29uc3QgZHVrcHRGYWlsdXJlQmFzZSA9IFwiRmFpbHVyZSwgRFVLUFQgc2NoZW1lIGlzIFwiO1xyXG5jb25zdCBpbnZhbGlkQmFzZSA9IFwiSW52YWxpZCBcIjtcclxuXHJcblxyXG5jbGFzcyBTY3JhRW12UGFyc2VyIGV4dGVuZHMgVHJ4U3RhdHVzUGFyc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLmVtdlJlc3VsdENvZGVzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4ODE6IGR1a3B0RmFpbHVyZUJhc2UgKyBcIm5vdCBsb2FkZWRcIixcclxuICAgICAgICAgICAgMHg4MjogZHVrcHRGYWlsdXJlQmFzZSArIFwibG9hZGVkIGJ1dCBhbGwgb2YgaXRzIGtleXMgaGF2ZSBiZWVuIHVzZWRcIixcclxuICAgICAgICAgICAgMHg4MzogZHVrcHRGYWlsdXJlQmFzZSArIFwibm90IGxvYWRlZCAoU2VjdXJpdHkgTGV2ZWwgbm90IDMgb3IgNClcIixcclxuICAgICAgICAgICAgMHg4NDogaW52YWxpZEJhc2UgKyBcIlRvdGFsIFRyYW5zYWN0aW9uIFRpbWUgRmllbGRcIixcclxuICAgICAgICAgICAgMHg4NTogaW52YWxpZEJhc2UgKyBcIkNhcmQgVHlwZSBGaWVsZFwiLFxyXG4gICAgICAgICAgICAweDg2OiBpbnZhbGlkQmFzZSArIFwiT3B0aW9ucyBGaWVsZFwiLFxyXG4gICAgICAgICAgICAweDg3OiBpbnZhbGlkQmFzZSArIFwiQW1vdW50IEF1dGhvcml6ZWQgRmllbGRcIixcclxuICAgICAgICAgICAgMHg4ODogaW52YWxpZEJhc2UgKyBcIlRyYW5zYWN0aW9uIFR5cGUgRmllbGRcIixcclxuICAgICAgICAgICAgMHg4OTogaW52YWxpZEJhc2UgKyAgXCJDYXNoIEJhY2sgRmllbGRcIixcclxuICAgICAgICAgICAgMHg4QTogaW52YWxpZEJhc2UgKyBcIlRyYW5zYWN0aW9uIEN1cnJlbmN5IENvZGUgRmllbGRcIixcclxuICAgICAgICAgICAgMHg4RTogaW52YWxpZEJhc2UgKyBcIlJlcG9ydGluZyBPcHRpb25cIixcclxuICAgICAgICAgICAgMHg4RjogXCJUcmFuc2FjdGlvbiBBbHJlYWR5IEluIFByb2dyZXNzXCIsXHJcbiAgICAgICAgICAgIDB4OTE6IGludmFsaWRCYXNlICsgXCJEZXZpY2UgU2VyaWFsIE51bWJlclwiLFxyXG4gICAgICAgICAgICAweDk2OiBpbnZhbGlkQmFzZSArIFwiU3lzdGVtIERhdGUgYW5kIFRpbWVcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlRW12RGF0YSA9IChlbXZEYXRhLCBpc0FycWMpID0+IChpc0FycWMpID8gKHtcclxuICAgICAgICBhcnFjRGF0YTogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggZW12RGF0YS5zbGljZSgxMSkgKSxcclxuICAgICAgICBhcnFjRGF0YVBhcnNlZDpcclxuICAgICAgICAgICAgdGhpcy50bHZQYXJzZXIoXHJcbiAgICAgICAgICAgICAgICBlbXZEYXRhLnNsaWNlKDEzKSxcclxuICAgICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgOlxyXG4gICAgICAgICh7XHJcbiAgICAgICAgICAgIHNpZ25hdHVyZVJlcXVpcmVkOiAoZW12RGF0YVsxMV0gPT09IDB4ODApID8gXCJDQkMtTUFDIGNoZWNrZWQgaW4gQVJRQyBvbmxpbmUgcmVzcG9uc2VcIiA6IChlbXZEYXRhWzExXSA9PT0gMHgwMSksXHJcbiAgICAgICAgICAgIGJhdGNoRGF0YTogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggZW12RGF0YS5zbGljZSgxMSkgKSxcclxuICAgICAgICAgICAgYmF0Y2hEYXRhUGFyc2VkOiB0aGlzLnRsdlBhcnNlciggZW12RGF0YS5zbGljZSgxNCksIHRydWUgKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgLy9SZWFkIFJlc3VsdCBDb2RlIGZyb20gc3RhcnRUcmFuc2FjdGlvbiBjb21tYW5kIGFuZCByZXR1cm4gdG8gdXNlci4gSWYgbm90IDAgLSByZXR1cm4gZXJyb3IgbWVzc2FnZS5cclxuICAgIHBhcnNlRW12Q29tbWFuZFJlc3BvbnNlID0gcmVzcCA9PiAge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdENvZGUgPSByZXNwLnNsaWNlKDQsIDYpO1xyXG5cclxuICAgICAgICAvL3Jlc3VsdCBjb2RlIG9mIFsweDAwLCAweDAwXSBpcyBzdWNjZXNzLlxyXG4gICAgICAgIHJldHVybiAocGFyc2VJbnQoIHJlc3VsdENvZGUuam9pbihcIlwiKSApKSA/XHJcbiAgICAgICAgICAgICh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBwYXJzZUludCh0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCByZXN1bHRDb2RlICksIDE2KSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiU3RhcnRUcmFuc2FjdGlvbkVycm9yXCIsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmVtdlJlc3VsdENvZGVzWyByZXN1bHRDb2RlWzFdIF0gfHwgXCJUcmFuc2FjdGlvbiBFcnJvciBNZXNzYWdlIG5vdCB5ZXQgZG9jdW1lbnRlZFwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3MsIHRyYW5zYWN0aW9uIGhhcyBzdGFydGVkXCJcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZVVzZXJTZWxlY3Rpb25SZXF1ZXN0ID0gc2VsZWN0aW9uUmVxdWVzdCA9PiAoe1xyXG4gICAgICAgIHVzZXJTZWxlY3Rpb25SZXF1ZXN0OiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGlvblR5cGU6IChzZWxlY3Rpb25SZXF1ZXN0WzBdID09PSAweDAwKSA/IFwiQXBwbGljYXRpb24gU2VsZWN0aW9uXCIgOiBcIkxhbmd1YWdlIFNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICB0aW1lUmVtYWluaW5nOiAgc2VsZWN0aW9uUmVxdWVzdFsxXSxcclxuICAgICAgICAgICAgbWVudUl0ZW1zOiB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHNlbGVjdGlvblJlcXVlc3Quc2xpY2UoMikpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NyYUVtdlBhcnNlcjsiLCJpbXBvcnQgU2NyYUVtdlBhcnNlciBmcm9tICcuLi9wYXJzZXJzL3NjcmFFbXZQYXJzZXInO1xyXG5pbXBvcnQgeyBcclxuICAgIGNvbW1hbmROb3RTZW50LFxyXG4gICAgcmVzcG9uc2VOb3RSZWNlaXZlZCxcclxuICAgIGRldmljZU5vdEZvdW5kLFxyXG4gICAgZGV2aWNlTm90T3BlbixcclxuICAgIGdhdHRTZXJ2ZXJOb3RDb25uZWN0ZWRcclxufSBmcm9tICcuLi9lcnJvckhhbmRsZXIvZXJyQ29uc3RhbnRzJztcclxuaW1wb3J0IHsgXHJcbiAgICBjbG9zZVN1Y2Nlc3MsIFxyXG4gICAgc3VjY2Vzc0NvZGUsIFxyXG4gICAgb3BlblN1Y2Nlc3MgXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIFNjcmEgZXh0ZW5kcyBTY3JhRW12UGFyc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjayA9IGNhbGxCYWNrcy50cmFuc2FjdGlvbkNhbGxiYWNrIHx8IGNhbGxCYWNrcztcclxuICAgICAgICB0aGlzLmRpc3BsYXlDYWxsYmFjayA9IGNhbGxCYWNrcy5kaXNwbGF5Q2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrID0gY2FsbEJhY2tzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy51c2VyU2VsZWN0aW9uQ2FsbGJhY2sgPSBjYWxsQmFja3MudXNlclNlbGVjdGlvbkNhbGxiYWNrO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubWF4QmxvY2tJZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJhd0RhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhUmVhZFN0YXR1c0NoYXJhY3RlcmlzdGljID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRhdGFSZWFkeUNoYXJhY3RlcmlzdGljID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YUxpc3RlbmVyID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhcmREYXRhTm90aWZpY2F0aW9uID1cIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIwMVwiO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZENoYXJJZCA9ICcwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMDAnO1xyXG4gICAgICAgIHRoaXMuZGF0YVJlYWR5SWQgPSBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIwMlwiO1xyXG4gICAgICAgIHRoaXMuZGF0YVJlYWRTdGF0dXNJZCA9IFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMjAzXCI7XHJcblxyXG4gICAgICAgIHRoaXMuZW12T3B0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAnbm9ybWFsJzogMHgwMCxcclxuICAgICAgICAgICAgJ2J5cGFzc3Bpbic6IDB4MDEsXHJcbiAgICAgICAgICAgICdmb3JjZW9ubGluZSc6IDB4MDIsXHJcbiAgICAgICAgICAgICdxdWlja2NoaXAnOiAweDgwLFxyXG4gICAgICAgICAgICAncGluYnlwYXNzcXVpY2tjaGlwJzogMHg4MSxcclxuICAgICAgICAgICAgJ2ZvcmNlb25saW5lcXVpY2tjaGlwJzogMHg4MlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlc3VsdENvZGVzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgICcwMDAwJzogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgICAgICcwMzhCJzogXCJJbnZhbGlkIFNlbGVjdGlvbiBTdGF0dXNcIixcclxuICAgICAgICAgICAgJzAzOEMnOiAnSW52YWxpZCBTZWxlY3Rpb24gUmVzdWx0JyxcclxuICAgICAgICAgICAgJzAzOEQnOiBcIkZhaWx1cmUsIG5vIHRyYW5zYWN0aW9uIGN1cnJlbnRseSBpbiBwcm9ncmVzc1wiLFxyXG4gICAgICAgICAgICAnMDM4Ric6IFwiRmFpbHVyZSwgdHJhbnNhY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzc1wiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZW12Q29tbWFuZEJhc2UgPSBbMHg0OSwgMHgxOSwgMHgwMCwgMHgwMCwgMHgwMywgMHgwMCwgMHgwMCwgMHgxM107XHJcblxyXG4gICAgICAgIHRoaXMuY2FuY2VsRW12Q29tbWFuZCA9IFVpbnQ4QXJyYXkub2YoXHJcbiAgICAgICAgICAgIDB4NDksIDB4MDYsIDB4MDAsIDB4MDAsIDB4MDMsIDB4MDQsIDB4MDAsIDB4MDBcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENhcmRTZXJ2aWNlQmFzZSA9IG9wdGlvbmFsSW5kZXggPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UpID9cclxuICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90Rm91bmQpKVxyXG4gICAgICAgIDpcclxuICAgICAgICB0aGlzLmNvbm5lY3RBbmRDYWNoZShvcHRpb25hbEluZGV4KVxyXG4gICAgICAgICAgICAudGhlbiggc2VydmljZSA9PlxyXG4gICAgICAgICAgICAgICAgc2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyh0aGlzLmNhcmREYXRhTm90aWZpY2F0aW9uKVxyXG4gICAgICAgICAgICApLnRoZW4oY2hhcmFjdGVyaXN0aWMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFQgTk9USUZJQ0FUSU9OU106IFJlcXVlc3QgdG8gY2FjaGUgY2hhcmFjdGVyaXN0aWNzLCBzdGFydCBub3RpZmljYXRpb25zLCBhbmQgYXR0YWNoIGxpc3RlbmVycy4gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcmFjdGVyaXN0aWMuc3RhcnROb3RpZmljYXRpb25zKClcclxuICAgICAgICAgICAgfSkudGhlbihjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFyYWN0ZXJpc3RpY3ZhbHVlY2hhbmdlZCcsIHRoaXMuY2FyZERhdGFIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5jYXJkRGF0YUhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmREYXRhTGlzdGVuZXIgPSBjaGFyYWN0ZXJpc3RpYztcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSkudGhlbiggXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLmNhcmRTZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKHRoaXMuY29tbWFuZENoYXJJZClcclxuICAgICAgICAgICAgKS50aGVuKGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljID0gY2hhcmFjdGVyaXN0aWM7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9JZiB0aGlzIGxpYnJhcnkgaXMgYmVpbmcgdXNlZCBpbiBhIHdlYiBhcHBsaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgLy9NYWtlIHN1cmUgdGhlIGRldmljZSBkaXNjb25uZWN0cyBwcm9wZXJseSB1cG9uIHdpbmRvdyB1bmxvYWQuXHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMub25EZXN0cm95SGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMub25EZXN0cm95SGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KS50aGVuKFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5jYXJkU2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyh0aGlzLmRhdGFSZWFkeUlkKVxyXG4gICAgICAgICAgICApLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IGNoYXJhY3RlcmlzdGljLnN0YXJ0Tm90aWZpY2F0aW9ucygpXHJcbiAgICAgICAgICAgICkudGhlbiggY2hhcmFjdGVyaXN0aWMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmRhdGFSZWFkeUhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWMuYWRkRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmRhdGFSZWFkeUhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVJlYWR5Q2hhcmFjdGVyaXN0aWMgPSBjaGFyYWN0ZXJpc3RpYztcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSkudGhlbihcclxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuY2FyZFNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWModGhpcy5kYXRhUmVhZFN0YXR1c0lkKVxyXG4gICAgICAgICAgICApLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVJlYWRTdGF0dXNDaGFyYWN0ZXJpc3RpYyA9IGNoYXJhY3RlcmlzdGljO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFQgTk9USUZJQ0FUSU9OU106IFN1Y2Nlc3MhIENhY2hlZCBjaGFyYWN0ZXJpc3RpY3MsIHN0YXJ0ZWQgbm90aWZpY2F0aW9ucywgYW5kIGF0dGFjaGVkIGxpc3RlbmVycy4gfHwgJHtuZXcgRGF0ZSgpfWApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogb3BlblN1Y2Nlc3NcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCBlcnIgKSlcclxuICAgICk7XHJcblxyXG4gICAgZGF0YVJlYWR5SGFuZGxlciA9IGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgZXZlbnRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICBsZXQgZm9ybWF0dGVkRXZlbnRWYWx1ZSA9IHRoaXMucmVhZEJ5dGVBcnJheShldmVudFZhbHVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgZGF0YVJlYWR5IGxpc3RlbmVyOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoZm9ybWF0dGVkRXZlbnRWYWx1ZSl9YCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbW1hbmRTZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRTZW50ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNhcmREYXRhSGFuZGxlciA9IGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgZXZlbnRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICAgICAgLy9JZiB0aGUgZmlyc3QgcG9zaXRpb24gaW4gdGhlIGFycmF5ID09PSAyNTUsIGNhcmQgZGF0YSBub3RpZmljYXRpb25zIGhhdmUgZmluaXNoZWQuXHJcbiAgICAgICAgaWYgKGV2ZW50VmFsdWUuZ2V0VWludDgoMCkgIT09IDI1NSkge1xyXG4gICAgICAgICAgICBsZXQgbm90aWZpY2F0aW9uQXJyYXkgPSB0aGlzLnJlYWRCeXRlQXJyYXkoZXZlbnRWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJhd0RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnJhd0RhdGEsXHJcbiAgICAgICAgICAgICAgICBbbm90aWZpY2F0aW9uQXJyYXlbMF1dOiBub3RpZmljYXRpb25BcnJheS5zbGljZSgxKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvL0tlZXAgdHJhY2sgb2YgdGhlIGFtb3VudCBvZiBub3RpZmljYXRpb25zIHNlbnQgZnJvbSBkZXZpY2UuXHJcbiAgICAgICAgICAgIHRoaXMubWF4QmxvY2tJZCA9IGV2ZW50VmFsdWUuZ2V0VWludDgoMSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja05vdGlmaWNhdGlvbkxlbmd0aCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxOb3RpZmljYXRpb24gPSAodGhpcy5ybGVGb3JtYXRzWyB0aGlzLnJhd0RhdGFbMF1bMF0gXSkgPyB0aGlzLmRlY29kZVJMRSh0aGlzLnJhd0RhdGFbMF0pIDogdGhpcy5yYXdEYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZSh0aGlzLnJhd0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL0NoZWNrIGlmIHN3aXBlIGRhdGFcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxOb3RpZmljYXRpb25bMF0gPT09IDAgfHwgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uWzBdID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuVG9Vc2VyKHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjaykoIHRoaXMucGFyc2VIaWREYXRhKCB0aGlzLmJ1aWxkSW5pdGlhbERhdGFBcnJheSh0cnVlKSApICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbm90aWZpY2F0aW9uSWQgPSB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uWzddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxOb3RpZmljYXRpb25bOF1cclxuICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kTm90aWZpY2F0aW9uVHlwZShub3RpZmljYXRpb25JZClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgZWxzZSB0aGlzLnNlbmRFcnJUb0NhbGxiYWNrKCB0aGlzLnRocm93TGVuRXJyKCkgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmluZE5vdGlmaWNhdGlvblR5cGUgPSBub3RpZmljYXRpb25JZCA9PiB7XHJcbiAgICAgICAgbGV0IGJ1aWx0Tm90aWZpY2F0aW9uID0gdGhpcy5idWlsZEluaXRpYWxEYXRhQXJyYXkodHJ1ZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaChub3RpZmljYXRpb25JZCkge1xyXG4gICAgICAgICAgICBjYXNlIFwiMDMwMFwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZSgnPT1UcmFuc2FjdGlvbiBTdGF0dXM9PScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuVG9Vc2VyKHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjaykodGhpcy5wYXJzZVRyYW5zYWN0aW9uU3RhdHVzKCBidWlsdE5vdGlmaWNhdGlvbiApKTtcclxuICAgICAgICAgICAgY2FzZSBcIjAzMDFcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoXCI9PURpc3BsYXkgTWVzc2FnZSBSZXF1ZXN0PT1cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5Ub1VzZXIodGhpcy5kaXNwbGF5Q2FsbGJhY2spKHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogdGhpcy5idWZmZXJUb1V0ZjgoIGJ1aWx0Tm90aWZpY2F0aW9uLnNsaWNlKDExKSApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FzZSBcIjAzMDJcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoXCI9PVVzZXIgU2VsZWN0aW9uIFJlcXVlc3Q9PVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUodGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhidWlsdE5vdGlmaWNhdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOiBGdXJ0aGVyIGludmVzdGlnYXRpb24gd2FycmFudGVkIGZvciB0aGlzIGNpcmN1bXN0YW5jZS5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVyblRvVXNlcih0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2spKCB0aGlzLnBhcnNlVXNlclNlbGVjdGlvblJlcXVlc3QoYnVpbGROb3RpZmljYXRpb24pICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIjAzMDNcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoXCI9PUFSUUMgTWVzc2FnZT09XCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuVG9Vc2VyKHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjaykodGhpcy5wYXJzZUVtdkRhdGEoIGJ1aWx0Tm90aWZpY2F0aW9uLCB0cnVlICkpIDtcclxuICAgICAgICAgICAgY2FzZSBcIjAzMDRcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoJz09QmF0Y2ggRGF0YSBNZXNzYWdlPT0nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVyblRvVXNlcih0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2spKHRoaXMucGFyc2VFbXZEYXRhKCBidWlsdE5vdGlmaWNhdGlvbiwgZmFsc2UgKSk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBVbmRvY3VtZW50ZWQgTm90aWZpY2F0aW9uIElEOiAke25vdGlmaWNhdGlvbklkfWAsIGJ1aWx0Tm90aWZpY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoIHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIGJ1aWx0Tm90aWZpY2F0aW9uICkgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRUcmFuc2FjdGlvbiA9IGVtdk9wdGlvbnMgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gXHJcbiAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdE9wZW4pIClcclxuICAgICAgICA6XHJcbiAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkRW12Q29tbWFuZCggZW12T3B0aW9ucyB8fCB7fSApXHJcbiAgICAgICAgKS50aGVuKCB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb21tYW5kUmVzcCA9IHRoaXMucGFyc2VFbXZDb21tYW5kUmVzcG9uc2UodmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGNvbW1hbmRSZXNwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChjb21tYW5kUmVzcC5jb2RlID09PSAwKSA/IHJlc29sdmUoY29tbWFuZFJlc3ApIDpcclxuICAgICAgICAgICAgICAgIChjb21tYW5kUmVzcC5jb2RlICE9PSA5MTgpID8gcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoY29tbWFuZFJlc3ApKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREZXZpY2VEYXRlVGltZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuZGVsYXlQcm9taXNlKDUwMCkgKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiByZXNvbHZlKCB0aGlzLnN0YXJ0VHJhbnNhY3Rpb24oZW12T3B0aW9ucykgKSApXHJcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihlcnIpKSApXHJcbiAgICApOyBcclxuXHJcbiAgICBidWlsZEVtdkNvbW1hbmQgPSAoeyBcclxuICAgICAgICB0aW1lb3V0LCBcclxuICAgICAgICBjYXJkVHlwZSwgXHJcbiAgICAgICAgdHJhbnNhY3Rpb25UeXBlLCBcclxuICAgICAgICBjYXNoQmFjaywgXHJcbiAgICAgICAgY3VycmVuY3lDb2RlLCBcclxuICAgICAgICByZXBvcnRWZXJib3NpdHksXHJcbiAgICAgICAgZW12T3B0aW9ucyxcclxuICAgICAgICBhdXRob3JpemVkQW1vdW50XHJcbiAgICB9KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYHRpbWVvdXQ6ICR7dGltZW91dH0gfHwgY2FyZFR5cGU6ICR7Y2FyZFR5cGV9IHx8IHRyYW5zYWN0aW9uVHlwZTogJHt0cmFuc2FjdGlvblR5cGV9IHx8IGVtdk9wdGlvbnM6ICR7ZW12T3B0aW9uc30gfHwgYXV0aG9yaXplZEFtb3VudDogJHthdXRob3JpemVkQW1vdW50fSB8fCBjYXNoQmFjazogJHtjYXNoQmFja30gfHwgY3VycmVuY3lDb2RlOiAke2N1cnJlbmN5Q29kZX0gfHwgcmVwb3J0VmVyYm9zaXR5OiAke3JlcG9ydFZlcmJvc2l0eX1gKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjb21tYW5kID0gWyBcclxuICAgICAgICAgICAgLi4udGhpcy5lbXZDb21tYW5kQmFzZSwgXHJcbiAgICAgICAgICAgIHRpbWVvdXQgfHwgMHgzQywgXHJcbiAgICAgICAgICAgIChjYXJkVHlwZSkgPyB0aGlzLmNhcmRUeXBlcyggY2FyZFR5cGUudG9Mb3dlckNhc2UoKSApIDogMHgwMyxcclxuICAgICAgICAgICAgKHR5cGVvZihlbXZPcHRpb25zKSAhPT0gJ3VuZGVmaW5lZCcpID8gKHRoaXMuZW12T3B0aW9uc1sgZW12T3B0aW9ucy50b0xvd2VyQ2FzZSgpIF0pIDogMHg4MFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdiYXNlIGNvbW1hbmQ6ICcsIGNvbW1hbmQpO1xyXG5cclxuICAgICAgICBjb21tYW5kID0gKGF1dGhvcml6ZWRBbW91bnQpID8gXHJcbiAgICAgICAgICAgIGNvbW1hbmQuY29uY2F0KCB0aGlzLmNvbnZlcnROdW1Ub0Ftb3VudChhdXRob3JpemVkQW1vdW50KSApXHJcbiAgICAgICAgICAgIDogY29tbWFuZC5jb25jYXQoIFsweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAxLCAweDAwXSApO1xyXG5cclxuICAgICAgICBjb21tYW5kID0gKHRyYW5zYWN0aW9uVHlwZSkgPyBcclxuICAgICAgICAgICAgY29tbWFuZC5jb25jYXQodGhpcy50cmFuc2FjdGlvblR5cGVzWyB0cmFuc2FjdGlvblR5cGUudG9Mb3dlckNhc2UoKSBdIHx8IDB4MDApIFxyXG4gICAgICAgICAgICA6IGNvbW1hbmQuY29uY2F0KDB4MDApXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29tbWFuZCA9IChjYXNoQmFjaykgPyBjb21tYW5kLmNvbmNhdCggdGhpcy5jb252ZXJ0TnVtVG9BbW91bnQoY2FzaEJhY2spIClcclxuICAgICAgICAgICAgOiBjb21tYW5kLmNvbmNhdCggdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgNikgKTtcclxuXHJcbiAgICAgICAgY29tbWFuZCA9IChjdXJyZW5jeUNvZGUpID8gY29tbWFuZC5jb25jYXQoIHRoaXMuY3VycmVuY3lDb2RlWyBjdXJyZW5jeUNvZGUudG9Mb3dlckNhc2UoKSBdIHx8ICB0aGlzLmN1cnJlbmN5Q29kZVsnZGVmYXVsdCddIClcclxuICAgICAgICAgICAgOiBjb21tYW5kLmNvbmNhdCggWzB4MDgsIDB4NDBdICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQucHVzaChcclxuICAgICAgICAgICAgKHJlcG9ydFZlcmJvc2l0eSkgPyAoIHRoaXMuc3RhdHVzVmVyYm9zaXR5WyByZXBvcnRWZXJib3NpdHkudG9Mb3dlckNhc2UoKSBdIHx8IDB4MDAgKSA6IDB4MDFcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjb21tYW5kO1xyXG4gICAgfVxyXG5cclxuICAgIHJlYWRDb21tYW5kVmFsdWUgPSAoKSA9PiBuZXcgUHJvbWlzZSAocmVzb2x2ZSA9PiB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYy5yZWFkVmFsdWUoKVxyXG4gICAgICAgIC50aGVuKCB2YWx1ZSA9PiByZXNvbHZlKCB0aGlzLnJlYWRCeXRlQXJyYXkodmFsdWUpICkpKTtcclxuXHJcbiAgICByZWFkQmF0dGVyeUxldmVsID0gKCkgPT4gbmV3IFByb21pc2UoIHJlc29sdmUgPT4gXHJcbiAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFsweDQ1LCAweDAwXSkudGhlbih2YWx1ZSA9PiByZXNvbHZlKCB2YWx1ZVsyXSApKVxyXG4gICAgKTtcclxuXHJcbiAgICBjaGVja05vdGlmaWNhdGlvbkxlbmd0aCA9ICgpID0+IE1hdGgubWF4KC4uLk9iamVjdC5rZXlzKHRoaXMucmF3RGF0YSkpID09PSB0aGlzLm1heEJsb2NrSWQgLSAxO1xyXG4gICBcclxuICAgIHNlbmRDb21tYW5kV2l0aFJlc3AgPSB3cml0ZUNvbW1hbmQgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoY29tbWFuZE5vdFNlbnQpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgU2VuZGluZyBjb21tYW5kOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcod3JpdGVDb21tYW5kKX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kU2VudCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMud3JpdGVWYWx1ZShVaW50OEFycmF5LmZyb20od3JpdGVDb21tYW5kKSlcclxuICAgICAgICAgICAgLnRoZW4oICgpID0+ICh0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlKSA/IFByb21pc2UucmVzb2x2ZSggdHJ1ZSApIDogdGhpcy53YWl0Rm9yRGV2aWNlUmVzcG9uc2UoMTUpKVxyXG4gICAgICAgICAgICAudGhlbiggd2FpdFJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUmVzcEF2YWlsYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCF3YWl0UmVzcCkgPyBcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIocmVzcG9uc2VOb3RSZWNlaXZlZCkpIDogdGhpcy5yZWFkQ29tbWFuZFZhbHVlKClcclxuICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNvbHZlKHJlc3BvbnNlKVxyXG4gICAgICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm5Ub1VzZXIgPSBzcGVjaWZpZWRDYWxsYmFjayA9PiByZXR1cm5PYmogPT4ge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5tYXhCbG9ja0lkID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJhd0RhdGEgPSB7fTtcclxuICAgICAgICByZXR1cm4gc3BlY2lmaWVkQ2FsbGJhY2socmV0dXJuT2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZERhdGVUaW1lQ29tbWFuZCA9IHNwZWNpZmljVGltZSA9PiB7XHJcbiAgICAgICAgbGV0IGRhdGVUaW1lQ29tbWFuZCA9IFsweDQ5LCAweDIyLCAweDAwLCAweDAwLCAweDAzLCAweDBDLCAweDAwLCAweDFDXTtcclxuICAgICAgICBkYXRlVGltZUNvbW1hbmQgPSBkYXRlVGltZUNvbW1hbmQuY29uY2F0KCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCAxNykgKTtcclxuICAgICAgICAvL0Zvcm1hdCBEYXRlIHNlZ21lbnQgYmVsb3dcclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gKHNwZWNpZmljVGltZSBpbnN0YW5jZW9mIERhdGUpID8gc3BlY2lmaWNUaW1lIDogbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgLy9Nb250aCAoemVybyBiYXNlZCBpbmRleCwgc28gYWRkIDEpLlxyXG4gICAgICAgIGRhdGVUaW1lQ29tbWFuZC5wdXNoKCBcclxuICAgICAgICAgICAgdGhpcy5jYXN0RGVjVG9IZXgoIGN1cnJlbnQuZ2V0TW9udGgoKSArIDEpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZGF0ZVRpbWVDb21tYW5kLnB1c2goXHJcbiAgICAgICAgICAgIHRoaXMuY2FzdERlY1RvSGV4KCBjdXJyZW50LmdldERhdGUoKSApXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZGF0ZVRpbWVDb21tYW5kLnB1c2goXHJcbiAgICAgICAgICAgIHRoaXMuY2FzdERlY1RvSGV4KCBjdXJyZW50LmdldEhvdXJzKCkgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGRhdGVUaW1lQ29tbWFuZC5wdXNoKFxyXG4gICAgICAgICAgICB0aGlzLmNhc3REZWNUb0hleCggY3VycmVudC5nZXRNaW51dGVzKCkgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGRhdGVUaW1lQ29tbWFuZC5wdXNoKFxyXG4gICAgICAgICAgICB0aGlzLmNhc3REZWNUb0hleCggY3VycmVudC5nZXRTZWNvbmRzKCkgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vQ3VycmVudGx5IHVudXNlZCBvZmZzZXQuICAweDAwIC0gMHgwNiBpcyB2YWxpZCAtIGJ1dCBpcyBub3QgZXhhbWluZWQuXHJcbiAgICAgICAgZGF0ZVRpbWVDb21tYW5kLnB1c2goMHgwMCk7XHJcblxyXG4gICAgICAgIC8vWWVhciBpcyBiYXNlZCB1cG9uIDIwMDggPT09IDB4MDAuXHJcbiAgICAgICAgZGF0ZVRpbWVDb21tYW5kLnB1c2goXHJcbiAgICAgICAgICAgIHRoaXMuY2FzdERlY1RvSGV4KCBjdXJyZW50LmdldEZ1bGxZZWFyKCkgLSAyMDA4IClcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIC8vTUFDIC0gZm9yIGFsbCBkZXZpY2VzIGV4Y2VwdCB0d28gZXhjZXB0aW9ucyAoc2VlIGRvY3VtZW50YXRpb24pIHRoaXMgY2FuIGJlIHBhZGRlZCB3aXRoIHplcm9zLlxyXG4gICAgICAgIGRhdGVUaW1lQ29tbWFuZCA9IGRhdGVUaW1lQ29tbWFuZC5jb25jYXQoIHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDQpICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGRhdGVUaW1lQ29tbWFuZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXREZXZpY2VEYXRlVGltZSA9IHNwZWNpZmljVGltZSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGREYXRlVGltZUNvbW1hbmQoc3BlY2lmaWNUaW1lKVxyXG4gICAgICAgICkudGhlbihyZXNwID0+IHJlc29sdmUocmVzcClcclxuICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpKSlcclxuICAgICk7XHJcblxyXG4gICAgZ2V0S3NuID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IFxyXG4gICAgICAgICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGdhdHRTZXJ2ZXJOb3RDb25uZWN0ZWQpKSBcclxuICAgICAgICA6IHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChbMHgwOSwgMHgwMF0pXHJcbiAgICAgICAgLnRoZW4oIHJlc3AgPT4gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhyZXNwLnNsaWNlKDIpKSApXHJcbiAgICAgICAgLnRoZW4oZm9ybWF0dGVkVmFsdWUgPT4gcmVzb2x2ZShmb3JtYXR0ZWRWYWx1ZSkpXHJcbiAgICApO1xyXG5cclxuICAgIGdldERldmljZVNuID0gKCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBcclxuICAgICAgICB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoWzB4MDAsIDB4MDEsIDB4MDNdKVxyXG4gICAgICAgIC50aGVuKCByZXNwID0+IHRoaXMuYnVmZmVyVG9VdGY4KHJlc3Auc2xpY2UoMikpIFxyXG4gICAgICAgICkudGhlbihmb3JtYXR0ZWRWYWx1ZSA9PiByZXNvbHZlKGZvcm1hdHRlZFZhbHVlKSlcclxuICAgICk7XHJcblxyXG4gICAgZ2F0aGVyRGV2aWNlSW5mbyA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgbGV0IGJhdHRlcnk7XHJcbiAgICAgICAgbGV0IHNlcmlhbE51bTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWFkQmF0dGVyeUxldmVsKClcclxuICAgICAgICAudGhlbiggcmVzcEJhdHRlcnkgPT4ge1xyXG4gICAgICAgICAgICBiYXR0ZXJ5ID0gcmVzcEJhdHRlcnk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERldmljZVNuKClcclxuICAgICAgICB9KS50aGVuKCByZXNwU24gPT4ge1xyXG4gICAgICAgICAgICBzZXJpYWxOdW0gPSByZXNwU247XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKFsgYmF0dGVyeSwgc2VyaWFsTnVtIF0pXHJcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpIClcclxuICAgIH0pO1xyXG5cclxuICAgIGdldERldmljZUluZm8gPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgP1xyXG4gICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSApIFxyXG4gICAgICAgIDogdGhpcy5nYXRoZXJEZXZpY2VJbmZvKClcclxuICAgICAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBkZXZpY2VJbmZvID0+IHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGRldmljZU5hbWU6IHRoaXMuZGV2aWNlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGV2aWNlVHlwZTogdGhpcy5kZXZpY2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhdHRlcnlMZXZlbDogZGV2aWNlSW5mb1swXSxcclxuICAgICAgICAgICAgICAgICAgICBzZXJpYWxOdW1iZXI6IGRldmljZUluZm9bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApKVxyXG4gICAgKTtcclxuXHJcbiAgICBzZW5kVXNlclNlbGVjdGlvbiA9IHNlbGVjdGlvblJlc3VsdCA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSApIFxyXG4gICAgICAgIDogdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFsweDQ5LCAweDA4LCAweDAwLCAweDAwLCAweDAzLCAweDAyLCAweDAwLCAweDAyLCAweDAwLCBzZWxlY3Rpb25SZXN1bHRdKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtVc2VyIFNlbGVjdGlvbiBSZXNwXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHJlc3ApfWApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlclNlbGVjdGlvblJlc3BvbnNlOiAodGhpcy5yZXN1bHRDb2Rlc1sgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIHJlc3Auc2xpY2UoNCwgNikgKSBcclxuICAgICAgICAgICAgICAgICAgICBdIHx8IFwiVW5rbm93biBvciB1bmRvY3VtZW50ZWQgcmVzdWx0IGNvZGVcIilcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSlcclxuICAgIClcclxuXHJcbiAgICBidWlsZEFycGNDb21tYW5kID0gKGxlbiwgZGF0YSkgPT4gKFsweDQ5LCAobGVuICsgNiksIDB4MDAsIDB4MDAsIDB4MDMsIDB4MDMsIDB4MDAsIGxlbiwgLi4uZGF0YSBdKTtcclxuXHJcbiAgICBzZW5kQXJwYyA9IGFycGNSZXNwID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHRoaXMuc2VuZEFycGNCYXNlKGFycGNSZXNwKVxyXG4gICAgICAgIC50aGVuKGFycGNDbWQgPT4gdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKGFycGNDbWQpKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbU2VuZCBBUlBDIFJlc3BdOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcocmVzcCl9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdENvZGUgPSAocmVzcC5sZW5ndGggPiA1KSA/IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIHJlc3Auc2xpY2UoNCwgNikgKSA6IFwiXCI7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICBzZW5kQXJwY1Jlc3BvbnNlOiAodGhpcy5yZXN1bHRDb2Rlc1sgcmVzdWx0Q29kZSBdIHx8IFwiVW5rbm93biBvciB1bmRvY3VtZW50ZWQgcmVzdWx0IGNvZGVcIilcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkpXHJcbiAgICApO1xyXG5cclxuICAgIGNsZWFyR2F0dENhY2hlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh3aW5kb3cpXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLm9uRGVzdHJveUhhbmRsZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubWF4QmxvY2tJZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJhd0RhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhUmVhZFN0YXR1c0NoYXJhY3RlcmlzdGljID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRhdGFSZWFkeUNoYXJhY3RlcmlzdGljID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YUxpc3RlbmVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjZWFzZU5vdGlmaWNhdGlvbnMgPSAoKSA9PiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiAoIXRoaXMuY2FyZERhdGFMaXN0ZW5lcikgPyByZXNvbHZlKCkgOiB0aGlzLmNhcmREYXRhTGlzdGVuZXIuc3RvcE5vdGlmaWNhdGlvbnMoKVxyXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFyYWN0ZXJpc3RpY3ZhbHVlY2hhbmdlZCcsIHRoaXMuY2FyZERhdGFIYW5kbGVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJlYWRTdGF0dXNDaGFyYWN0ZXJpc3RpYy5zdG9wTm90aWZpY2F0aW9ucygpXHJcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVJlYWR5Q2hhcmFjdGVyaXN0aWMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmRhdGFSZWFkeUhhbmRsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpXHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgY2FuY2VsVHJhbnNhY3Rpb24gPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYykgPyBcclxuICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoY29tbWFuZE5vdFNlbnQpKVxyXG4gICAgICAgIDpcclxuICAgICAgICB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYy53cml0ZVZhbHVlKHRoaXMuY2FuY2VsRW12Q29tbWFuZClcclxuICAgICAgICAudGhlbigoKSA9PiByZXNvbHZlKCkpXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpKSlcclxuICAgICk7XHJcblxyXG4gICAgY2xvc2VEZXZpY2UgPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gXHJcbiAgICAgICAgKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgPyByZXNvbHZlKHtcclxuICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNsb3NlU3VjY2Vzc1xyXG4gICAgICAgIH0pIFxyXG4gICAgICAgIDpcclxuICAgICAgICB0aGlzLmNlYXNlTm90aWZpY2F0aW9ucygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyR2F0dENhY2hlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICB9KS50aGVuKCgpID0+IHJlc29sdmUoe1xyXG4gICAgICAgICAgICBjb2RlOiBzdWNjZXNzQ29kZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogY2xvc2VTdWNjZXNzXHJcbiAgICAgICAgfSkpLmNhdGNoKGVyciA9PiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApKVxyXG4gICAgKSBcclxuXHJcbiAgICBjbGVhclNlc3Npb24gPSAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICAodGhpcy5kZXZpY2UgJiYgdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gXHJcbiAgICAgICAgICAgIHJlc29sdmUoXCJTQ1JBIGRldmljZXMgZG8gbm90IGNhcnJ5IGEgc2Vzc2lvblwiKSBcclxuICAgICAgICAgICAgOiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikpIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NyYTsiLCJpbXBvcnQgU2NyYSBmcm9tICcuL3NjcmEnO1xyXG5pbXBvcnQgeyBcclxuICAgIHN3aXBlTGlzdGVuaW5nLFxyXG4gICAgc3VjY2Vzc0NvZGUsXHJcbiAgICBlRHluYW1vXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIEVEeW5hbW8gZXh0ZW5kcyBTY3JhIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLmRldmljZVR5cGUgPSBlRHluYW1vO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENhcmRTZXJ2aWNlID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IFxyXG4gICAgICAgIHRoaXMuZ2V0Q2FyZFNlcnZpY2VCYXNlKDEpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiByZXNvbHZlKHJlc3ApXHJcbiAgICAgICAgKS5jYXRjaCggZXJyID0+IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpIClcclxuICAgICk7XHJcblxyXG4gICAgcmVxdWVzdENhcmRTd2lwZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgICAgICB0aGlzLmdldENhcmRTZXJ2aWNlQmFzZSgxKVxyXG4gICAgICAgICAgICAudGhlbiggKCkgPT4gXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgXHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc3dpcGVMaXN0ZW5pbmdcclxuICAgICAgICAgICAgICAgIH0pIFxyXG4gICAgICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpICkpXHJcbiAgICAgICAgOiByZXNvbHZlKHtcclxuICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IHN3aXBlTGlzdGVuaW5nXHJcbiAgICAgICAgfSkgXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFRHluYW1vOyIsImltcG9ydCBTY3JhIGZyb20gJy4vc2NyYSc7XHJcbmltcG9ydCB7IFxyXG4gICAgc3dpcGVMaXN0ZW5pbmcsXHJcbiAgICBzdWNjZXNzQ29kZSxcclxuICAgIHREeW5hbW9cclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBjb21tYW5kTm90QWNjZXB0ZWQgfSBmcm9tICcuLi9lcnJvckhhbmRsZXIvZXJyQ29uc3RhbnRzJztcclxuXHJcbmNsYXNzIFREeW5hbW8gZXh0ZW5kcyBTY3JhIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLnNldEhlYWRBbHdheXNPbiA9IFsweDU4LCAweDAxLCAweDAxXTtcclxuICAgICAgICAvL3RoaXMuc2V0SGVhZE9mZldoZW5JZGxlID0gVWludDhBcnJheS5vZigweDU4LCAweDAxLCAweDAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXZpY2VUeXBlID0gdER5bmFtb1xyXG4gICAgfVxyXG5cclxuICAgIGdldENhcmRTZXJ2aWNlID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IFxyXG4gICAgICAgIHRoaXMuZ2V0Q2FyZFNlcnZpY2VCYXNlKClcclxuICAgICAgICAudGhlbihyZXNwID0+IHJlc29sdmUocmVzcClcclxuICAgICAgICApLmNhdGNoKCBlcnIgPT4gcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkgKVxyXG4gICAgKTtcclxuXHJcbiAgICByZXF1ZXN0Q2FyZFN3aXBlID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID9cclxuICAgICAgICB0aGlzLmdldENhcmRTZXJ2aWNlQmFzZSgpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4gXHJcbiAgICAgICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcCh0aGlzLnNldEhlYWRBbHdheXNPbilcclxuICAgICAgICApLnRoZW4oc2V0SGVhZE9wZW5SZXNwID0+IChwYXJzZUludChzZXRIZWFkT3BlblJlc3ApID09PSAwKSA/IFxyXG4gICAgICAgICAgICByZXNvbHZlKHsgXHJcbiAgICAgICAgICAgICAgICBjb2RlOiBzdWNjZXNzQ29kZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHN3aXBlTGlzdGVuaW5nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGNvbW1hbmROb3RBY2NlcHRlZCkgKVxyXG4gICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKVxyXG4gICAgICAgIDpcclxuICAgICAgICB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AodGhpcy5zZXRIZWFkQWx3YXlzT24pXHJcbiAgICAgICAgLnRoZW4oc2V0SGVhZE9wZW5SZXNwID0+IChwYXJzZUludChzZXRIZWFkT3BlblJlc3ApID09PSAwKSA/IFxyXG4gICAgICAgICAgICByZXNvbHZlKHsgXHJcbiAgICAgICAgICAgICAgICBjb2RlOiBzdWNjZXNzQ29kZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHN3aXBlTGlzdGVuaW5nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGNvbW1hbmROb3RBY2NlcHRlZClcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVER5bmFtbzsiLCJpbXBvcnQgRHBNaW5pIGZyb20gJy4uL2RldmljZXMvZHluYVByb01pbmknO1xyXG5pbXBvcnQgRHluUHJvR28gZnJvbSAnLi4vZGV2aWNlcy9keW5hUHJvR28nO1xyXG5pbXBvcnQgRUR5bmFtbyBmcm9tICcuLi9kZXZpY2VzL2VEeW5hbW8nO1xyXG5pbXBvcnQgVER5bmFtbyBmcm9tICcuLi9kZXZpY2VzL3REeW5hbW8nO1xyXG5pbXBvcnQgeyBcclxuICAgIHREeW5hbW8sXHJcbiAgICBlRHluYW1vLFxyXG4gICAgZHluYVByb0dvLFxyXG4gICAgZHBNaW5pIFxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7IFxyXG5cclxuY29uc3QgY29tbWFuZE5vdFVzZWQgPSBpc1NjcmEgPT4gXHJcbiAgICAoKSA9PiBQcm9taXNlLnJlc29sdmUoYCR7KGlzU2NyYSA/ICdTQ1JBJyA6ICdQaW5QYWQnKX0gZGV2aWNlcyBkbyBub3QgdXNlIHRoaXMgY29tbWFuZGApO1xyXG5cclxuICAgIFxyXG5jbGFzcyBEZXZpY2VJbnRlcmZhY2Uge1xyXG4gICAgY29uc3RydWN0b3IoeyBcclxuICAgICAgICBnZXRDYXJkU2VydmljZSxcclxuICAgICAgICBzdGFydFRyYW5zYWN0aW9uLFxyXG4gICAgICAgIGNhbmNlbFRyYW5zYWN0aW9uLFxyXG4gICAgICAgIHNlbmRDb21tYW5kV2l0aFJlc3AsXHJcbiAgICAgICAgY2xlYXJTZXNzaW9uLFxyXG4gICAgICAgIGNsb3NlRGV2aWNlLFxyXG4gICAgICAgIGdldERldmljZUluZm8sXHJcbiAgICAgICAgcmVxdWVzdENhcmRTd2lwZSxcclxuICAgICAgICBpc0RldmljZUNvbm5lY3RlZCxcclxuICAgICAgICBkaXNjb25uZWN0LFxyXG4gICAgICAgIHJlcXVlc3RQaW5FbnRyeSxcclxuICAgICAgICBzZXREaXNwbGF5TWVzc2FnZSxcclxuICAgICAgICBzZW5kVXNlclNlbGVjdGlvbixcclxuICAgICAgICBzZW5kQXJwYyxcclxuICAgICAgICBzZXREZXZpY2VEYXRlVGltZVxyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMub3BlbkRldmljZSA9IGdldENhcmRTZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUcmFuc2FjdGlvbiA9IHN0YXJ0VHJhbnNhY3Rpb247XHJcbiAgICAgICAgdGhpcy5jYW5jZWxUcmFuc2FjdGlvbiA9IGNhbmNlbFRyYW5zYWN0aW9uO1xyXG4gICAgICAgIHRoaXMuc2VuZENvbW1hbmQgPSBzZW5kQ29tbWFuZFdpdGhSZXNwO1xyXG4gICAgICAgIHRoaXMuY2xlYXJTZXNzaW9uID0gY2xlYXJTZXNzaW9uO1xyXG4gICAgICAgIHRoaXMuY2xvc2VEZXZpY2UgPSBjbG9zZURldmljZTtcclxuICAgICAgICB0aGlzLmRldmljZUluZm8gPSBnZXREZXZpY2VJbmZvO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdENhcmRTd2lwZSA9IHJlcXVlc3RDYXJkU3dpcGU7XHJcbiAgICAgICAgdGhpcy5pc0RldmljZU9wZW4gPSBpc0RldmljZUNvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmZvcmNlRGlzY29ubmVjdCA9IGRpc2Nvbm5lY3Q7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0UGluRW50cnkgPSAocmVxdWVzdFBpbkVudHJ5KSA/IHJlcXVlc3RQaW5FbnRyeSA6IGNvbW1hbmROb3RVc2VkKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc2V0RGlzcGxheU1lc3NhZ2UgPSAoc2V0RGlzcGxheU1lc3NhZ2UpID8gc2V0RGlzcGxheU1lc3NhZ2UgOiBjb21tYW5kTm90VXNlZCh0cnVlKTtcclxuICAgICAgICB0aGlzLnNlbmRVc2VyU2VsZWN0aW9uID0gKHNlbmRVc2VyU2VsZWN0aW9uKSA/IHNlbmRVc2VyU2VsZWN0aW9uIDogY29tbWFuZE5vdFVzZWQoKTtcclxuICAgICAgICB0aGlzLnNlbmRBcnBjUmVzcG9uc2UgPSAoc2VuZEFycGMpID8gc2VuZEFycGMgOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoXCJGZWF0dXJlIFBlbmRpbmcgQ29tcGxldGlvblwiKTtcclxuICAgICAgICB0aGlzLnNldERldmljZURhdGVUaW1lID0gKHNldERldmljZURhdGVUaW1lKSA/IHNldERldmljZURhdGVUaW1lIDogY29tbWFuZE5vdFVzZWQoKTtcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IG5ld0RldmljZUluc3RhbmNlID0ge1xyXG4gICAgW2VEeW5hbW9dOiAoZGV2aWNlLCBjYWxsYmFja3MpID0+IG5ldyBFRHluYW1vKGRldmljZSwgY2FsbGJhY2tzKSxcclxuICAgIFt0RHluYW1vXTogIChkZXZpY2UsIGNhbGxiYWNrcykgPT4gbmV3IFREeW5hbW8oZGV2aWNlLCBjYWxsYmFja3MpLFxyXG4gICAgW2R5bmFQcm9Hb106IChkZXZpY2UsIGNhbGxiYWNrcykgPT4gbmV3IER5blByb0dvKGRldmljZSwgY2FsbGJhY2tzKSxcclxuICAgIFtkcE1pbmldOiAoZGV2aWNlLCBjYWxsYmFja3MpID0+IG5ldyBEcE1pbmkoZGV2aWNlLCBjYWxsYmFja3MpLFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYnVpbGREZXZpY2VPYmplY3QgPSAoZGV2aWNlLCBjYWxsYmFja3MsIGRldmljZVR5cGVTdHJpbmcpID0+ICh7XHJcbiAgICBpZDogZGV2aWNlLmlkLFxyXG4gICAgbmFtZTogZGV2aWNlLm5hbWUsXHJcbiAgICBkZXZpY2VUeXBlOiBkZXZpY2VUeXBlU3RyaW5nLFxyXG4gICAgZGV2aWNlSW50ZXJmYWNlOiBuZXcgRGV2aWNlSW50ZXJmYWNlKFxyXG4gICAgICAgIG5ld0RldmljZUluc3RhbmNlWyBkZXZpY2VUeXBlU3RyaW5nIF0oZGV2aWNlLCBjYWxsYmFja3MpXHJcbiAgICApXHJcbn0pO1xyXG5cclxuIiwiaW1wb3J0IHtcclxuICAgIHREeW5hbW8sXHJcbiAgICBlRHluYW1vLFxyXG4gICAgZHluYVByb0dvLFxyXG4gICAgZHBNaW5pXHJcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBub3RGb3VuZE9iaiB9IGZyb20gJy4uL2Vycm9ySGFuZGxlci9lcnJDb25zdGFudHMnO1xyXG5cclxuY29uc3QgZUR5bmFtb1BhdHRlcm4gPSBuZXcgUmVnRXhwKC9eZUR5bmFtby0vKTtcclxuY29uc3QgdER5bmFtb1BhdHRlcm4gPSBuZXcgUmVnRXhwKC9edER5bmFtby0vKTtcclxuY29uc3QgZHBNaW5pUGF0dGVybiA9IG5ldyBSZWdFeHAoL15EUE1pbmkvKTtcclxuY29uc3QgZHBHb1BhdHRlcm4gPSBuZXcgUmVnRXhwKC9eRFBHLyk7XHJcblxyXG5cclxuY29uc3QgaW5zcGVjdERldmljZU5hbWUgPSBkZXZpY2VOYW1lID0+ICh0RHluYW1vUGF0dGVybi50ZXN0KGRldmljZU5hbWUpKSA/IHREeW5hbW8gOiBcclxuICAgIChlRHluYW1vUGF0dGVybi50ZXN0KGRldmljZU5hbWUpKSA/IGVEeW5hbW8gOiBcclxuICAgICAgICAoZHBHb1BhdHRlcm4udGVzdChkZXZpY2VOYW1lKSkgPyBkeW5hUHJvR28gOiBcclxuICAgICAgICAgICAgKGRwTWluaVBhdHRlcm4udGVzdChkZXZpY2VOYW1lKSkgPyBkcE1pbmkgOiBcIlwiO1xyXG5cclxuY29uc3QgZm9ybWF0VHlwZVN0cmluZyA9IGRldmljZVR5cGVTdHIgPT4ge1xyXG4gICAgY29uc3QgZGV2aWNlVHlwZUFyciA9IFtkeW5hUHJvR28sIGRwTWluaSwgZUR5bmFtbywgdER5bmFtb107XHJcbiAgICBsZXQgcmV0dXJuU3RyID0gXCJcIjtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldmljZVR5cGVBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoZGV2aWNlVHlwZVN0ci50b0xvd2VyQ2FzZSgpID09PSBkZXZpY2VUeXBlQXJyW2ldLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuU3RyID0gZGV2aWNlVHlwZUFycltpXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXR1cm5TdHI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBmaW5kRGV2aWNlVHlwZVN0cmluZyA9IChuYW1lU3RyLCB0eXBlU3RyKSA9PiB7XHJcbiAgICBpZiAodHlwZVN0cikge1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFN0ciA9IGZvcm1hdFR5cGVTdHJpbmcodHlwZVN0cik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbISFdOiBcIiwgZm9ybWF0dGVkU3RyKTtcclxuXHJcbiAgICAgICAgaWYgKGZvcm1hdHRlZFN0cikge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkU3RyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5zcGVjdERldmljZU5hbWUobmFtZVN0cilcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGZpbmREZXZpY2VCeVByb2R1Y3ROYW1lID0gc2VsZWN0ZWREZXZpY2UgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGxldCBtb2RlbE5hbWVTdHJpbmc7XHJcblxyXG4gICAgcmV0dXJuIHNlbGVjdGVkRGV2aWNlLmdhdHQuY29ubmVjdCgpXHJcbiAgICAudGhlbihzZXJ2ZXIgPT4gc2VydmVyLmdldFByaW1hcnlTZXJ2aWNlKCdkZXZpY2VfaW5mb3JtYXRpb24nKVxyXG4gICAgKS50aGVuKHNlcnZpY2UgPT4gc2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYygnbW9kZWxfbnVtYmVyX3N0cmluZycpXHJcbiAgICApLnRoZW4oY2hhcmFjdGVyaXN0aWMgPT4gY2hhcmFjdGVyaXN0aWMucmVhZFZhbHVlKClcclxuICAgICkudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgbW9kZWxOYW1lU3RyaW5nID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpLmRlY29kZSh2YWx1ZSkudHJpbSgpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIHNlbGVjdGVkRGV2aWNlLmdhdHQuZGlzY29ubmVjdCgpICk7XHJcbiAgICB9KS50aGVuKCAoKSA9PiByZXNvbHZlKCBtb2RlbE5hbWVTdHJpbmcgKVxyXG4gICAgKS5jYXRjaChlcnIgPT4gKFxyXG4gICAgICAgICAgICBlcnIuY29kZSA9PT0gbm90Rm91bmRPYmouZXJyb3JDb2RlICYmIFxyXG4gICAgICAgICAgICBlcnIubmFtZSA9PT0gbm90Rm91bmRPYmouZXJyb3JOYW1lICYmIFxyXG4gICAgICAgICAgICBlcnIubWVzc2FnZS5pbmNsdWRlcyhcIjAwMDAxODBhLTAwMDAtMTAwMC04MDAwLTAwODA1ZjliMzRmYlwiKVxyXG4gICAgICAgICkgPyAoIXNlbGVjdGVkRGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IHJlc29sdmUoIGR5bmFQcm9HbyApIFxyXG4gICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZSggc2VsZWN0ZWREZXZpY2UuZ2F0dC5kaXNjb25uZWN0KCkgKS50aGVuKCgpID0+IHJlc29sdmUoIGR5bmFQcm9HbyApKVxyXG4gICAgICAgIDogcmVqZWN0KGVycilcclxuICAgICk7XHJcbn0pO1xyXG4iLCJpbXBvcnQgQXBpRXJyb3IgZnJvbSAnLi9lcnJvckhhbmRsZXIvYXBpRXJyb3InO1xyXG5pbXBvcnQgeyBhbGxEZXZpY2VDb25maWcsIGZpbmREZXZpY2VCeURldmljZU5hbWUgfSBmcm9tICcuL2NvbmZpZ3VyYXRpb25zJztcclxuaW1wb3J0IHsgYnVpbGREZXZpY2VPYmplY3QgfSBmcm9tICcuL3V0aWxzL2luc3RhbmNpYXRlRGV2aWNlJztcclxuaW1wb3J0IHsgZmluZERldmljZVR5cGVTdHJpbmcsIGZpbmREZXZpY2VCeVByb2R1Y3ROYW1lIH0gZnJvbSAnLi91dGlscy9pZGVudGlmeURldmljZSc7XHJcblxyXG5cclxuY29uc3QgYXJyYW5nZUNhbGxiYWNrcyA9IGNhbGxCYWNrcyA9PiB7XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdENhbGxiYWNrID0gZGF0YU9iaiA9PiB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiQ2FsbGJhY2sgbm90IHByb3ZpZGVkIHRvICdzY2FuRm9yRGV2aWNlcycgZnVuY3Rpb24uIFBsZWFzZSBwcm92aWRlIGF0IGxlYXN0IG9uZSBjYWxsYmFjayBmdW5jdGlvbiB0byB0aGlzIG1ldGhvZFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRyYW5zYWN0aW9uQ2FsbGJhY2sgZGF0YTogXCIsIGRhdGFPYmopO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGxCYWNrcyA9IGNhbGxCYWNrcyB8fCBkZWZhdWx0Q2FsbGJhY2s7XHJcbiAgICBcclxuICAgIGNvbnN0IGlzRnVuY1R5cGUgPSAodHlwZW9mIGNhbGxCYWNrcyA9PT0gJ2Z1bmN0aW9uJyk7XHJcblxyXG4gICAgY29uc3QgcHJvcEFzc2lnbm1lbnQgPSBwcm9wTmFtZSA9PiAoY2FsbEJhY2tzW3Byb3BOYW1lXSkgPyBjYWxsQmFja3NbcHJvcE5hbWVdIDogXHJcbiAgICAgICAgKGlzRnVuY1R5cGUpID8gY2FsbEJhY2tzIDogY2FsbEJhY2tzLnRyYW5zYWN0aW9uQ2FsbGJhY2s7XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdEVyckNhbGxiYWNrID0gZXJyT2JqID0+IFxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbTWFnZW5zYUJsdWV0b290aCBJbnRlcm5hbCBFcnJvcl06IFwiLCBlcnJPYmopO1xyXG5cclxuICAgIGNhbGxCYWNrcy5lcnJvckNhbGxiYWNrID0gKGNhbGxCYWNrcy5lcnJvckNhbGxiYWNrIHx8IGRlZmF1bHRFcnJDYWxsYmFjayk7XHJcbiAgICBjYWxsQmFja3MudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayA9ICggY2FsbEJhY2tzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2sgfHwgcHJvcEFzc2lnbm1lbnQoJ3RyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2snKSApO1xyXG4gICAgY2FsbEJhY2tzLnVzZXJTZWxlY3Rpb25DYWxsYmFjayA9ICggY2FsbEJhY2tzLnVzZXJTZWxlY3Rpb25DYWxsYmFjayB8fCBwcm9wQXNzaWdubWVudCgndXNlclNlbGVjdGlvbkNhbGxiYWNrJykgKTtcclxuICAgIGNhbGxCYWNrcy5kaXNwbGF5Q2FsbGJhY2sgPSAoIGNhbGxCYWNrcy5kaXNwbGF5Q2FsbGJhY2sgfHwgcHJvcEFzc2lnbm1lbnQoJ2Rpc3BsYXlDYWxsYmFjaycpICk7XHJcbiAgICBjYWxsQmFja3MuZGlzY29ubmVjdEhhbmRsZXIgPSAoY2FsbEJhY2tzLmRpc2Nvbm5lY3RIYW5kbGVyIHx8IHByb3BBc3NpZ25tZW50KCd0cmFuc2FjdGlvbkNhbGxiYWNrJykgKTtcclxuXHJcbiAgICByZXR1cm4gY2FsbEJhY2tzO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2NhbkZvckRldmljZXMgPSAoY2FsbEJhY2tzLCBkZXZpY2VOYW1lLCBkZXZpY2VUeXBlKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBjYWxsQmFja3MgPT09ICdvYmplY3QnICYmIHR5cGVvZiBjYWxsQmFja3MudHJhbnNhY3Rpb25DYWxsYmFjayA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgcmV0dXJuIHJlamVjdChcIldoZW4gcHJvdmlkaW5nIG11bHRpcGxlIGNhbGxiYWNrcyBpbiBhbiBvYmplY3QsICd0cmFuc2FjdGlvbkNhbGxiYWNrJyBtdXN0IGJlIHByb3ZpZGVkXCIpO1xyXG5cclxuICAgIGNhbGxCYWNrcyA9IGFycmFuZ2VDYWxsYmFja3MoY2FsbEJhY2tzKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gKGRldmljZU5hbWUpID8gZmluZERldmljZUJ5RGV2aWNlTmFtZShkZXZpY2VOYW1lKSA6IGFsbERldmljZUNvbmZpZztcclxuICAgIFxyXG4gICAgcmV0dXJuIG5hdmlnYXRvci5ibHVldG9vdGgucmVxdWVzdERldmljZSggb3B0aW9ucyApXHJcbiAgICAgICAgLnRoZW4oZGV2aWNlID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRldmljZVR5cGVOYW1lID0gZmluZERldmljZVR5cGVTdHJpbmcoZGV2aWNlLm5hbWUsIGRldmljZVR5cGUpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChkZXZpY2VUeXBlTmFtZSkgPyByZXNvbHZlKCBidWlsZERldmljZU9iamVjdChkZXZpY2UsIGNhbGxCYWNrcywgZGV2aWNlVHlwZU5hbWUpICkgOlxyXG4gICAgICAgICAgICAgICAgZmluZERldmljZUJ5UHJvZHVjdE5hbWUoZGV2aWNlKS50aGVuKCBcclxuICAgICAgICAgICAgICAgICAgICBkZXZpY2VUeXBlU3RyaW5nID0+ICghZGV2aWNlVHlwZVN0cmluZykgPyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiU2VsZWN0ZWQgZGV2aWNlIGlzIG5vdCBzdXBwb3J0ZWRcIikgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZSggYnVpbGREZXZpY2VPYmplY3QoZGV2aWNlLCBjYWxsQmFja3MsIGRldmljZVR5cGVTdHJpbmcpIClcclxuICAgICAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gKHR5cGVvZiBlcnIgPT09IFwib2JqZWN0XCIpID8gXHJcbiAgICAgICAgICAgIHJlamVjdCggbmV3IEFwaUVycm9yKGVycikgKSA6IFxyXG4gICAgICAgICAgICByZWplY3QoXCJTZWxlY3RlZCBkZXZpY2UgaXMgbm90IHN1cHBvcnRlZFwiKVxyXG4gICAgICAgIClcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=