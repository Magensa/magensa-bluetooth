!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["magensa-bluetooth"]=t():e["magensa-bluetooth"]=t()}(window,(function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t),i.d(t,"scanForDevices",(function(){return we}));class a extends Error{constructor(e){let{message:t,code:i,name:a}=e;super(t||"Web Bluetooth API threw an unknown, or undocumented error"),this.code=i||1e3,this.name=a||"WebBluetoothError"}}var s=a;const r={filters:[{services:["0508e6f8-ad82-898f-f843-e3410cb60104"]},{services:["0508e6f8-ad82-898f-f843-e3410cb60101"]},{services:["0508e6f8-ad82-898f-f843-e3410cb60103"]}],optionalServices:["0508e6f8-ad82-898f-f843-e3410cb60104","0508e6f8-ad82-898f-f843-e3410cb60103","0508e6f8-ad82-898f-f843-e3410cb60101","0508e6f8-ad82-898f-f843-e3410cb60202","device_information"],keepRepeatedDevices:!1,acceptAllAdvertisements:!1};function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=class{constructor(){n(this,"logDeviceState",e=>{let t=new CustomEvent("deviceLog",{bubbles:!0,detail:e});window.dispatchEvent(t)}),n(this,"convertArrayToHexString",e=>Array.from(e,e=>("0"+(255&e).toString(16)).slice(-2)).join("").toUpperCase()),n(this,"readTwoByteLength",e=>e[0]<<8|e[1]),n(this,"bufferToUtf8",e=>new TextDecoder("utf-8").decode(Uint8Array.from(e))),n(this,"castDecToHex",e=>parseInt(e.toString(16),16)),n(this,"newArrayPartial",(e,t)=>new Array(t).fill(e)),n(this,"readByteArray",e=>{let t=[];for(let i=0;i<e.byteLength;i++)t.push(e.getUint8(i));return t}),n(this,"hexToAscii",e=>{let t="";for(let i=0;i<e.length&&"00"!==e.substr(i,2);i+=2)t+=String.fromCharCode(parseInt(e.substring(i,i+2),16));return t.trim()}),n(this,"hexToBytes",e=>{let t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(e.substring(i,i+2),16));return t}),n(this,"decodeRLE",e=>{const t=e.length;let i=[e[0]],a=0;for(let s=1;s<t;s++)a=s+1,a+1<t&&e[s]===e[a]?(i.push(...this.newArrayPartial(e[s],e[a+1])),s=a+1):i.push(e[s]);return i}),n(this,"buildInitialDataArray",e=>{let t=[];for(let e=Math.min(...Object.keys(this.rawData));e<this.maxBlockId;e++)t=t.concat(...this.rawData[e]);return e?this.checkRle(t):t}),n(this,"checkRle",e=>this.rleFormats[this.initialNotification[0]]?this.decodeRLE(e):e),n(this,"convertCurrencyCode",e=>{const t=e.toLowerCase();return"us"===t?[8,64]:"euro"===t?[9,120]:[0,0]}),n(this,"convertNumToAmount",(e,t)=>{t=t||12;let i=e.toString(),a=[];for(;i.length<t;)i="0"+i;for(let e=0;e<i.length;e+=2)a.push(parseInt(i.substring(e,e+2),16));return a}),n(this,"delayPromise",(e,t)=>new Promise(i=>{setTimeout(i,e,t)})),n(this,"byteArrayToNumber",e=>parseInt(this.convertArrayToHexString(e),10)),this.rleFormats=Object.freeze({0:!1,1:!0,2:!1,3:!0})}};function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h=class extends o{constructor(){super(),c(this,"formatExpPAN",e=>{let t="object"==typeof e?this.bufferToUtf8(e.slice(4)):e;if(-1!==t.indexOf(";")){let e=this.splitExpPAN(t);return{maskedPAN:e[0],Last4:e[1],expirationDate:e[2],serviceCode:e[3]}}return{maskedPAN:"",Last4:"",expirationDate:"",serviceCode:""}}),c(this,"splitExpPAN",e=>{if(e.length>3){let t=e.replace(";","").replace("?","").split("="),i=t[1].slice(0,4),a=t[1].slice(4,7),s=i.slice(-2)+"/"+i.slice(0,2);return[t[0],t[0].slice(-4),s,a]}return["Not Found","Not Found","Not Found","Not Found"]})}};const d="Success, listening for swipe",l="DynaPro Mini",u="Configuration",m="Unknown",p=Object.freeze({code:0,message:"Success, there was no session to clear"}),v=Object.freeze({code:19,message:"GATT operation already in progress."}),g=Object.freeze({code:0,message:"Device Closed"}),f=Object.freeze({eDynamo:3,tDynamo:7,[l]:3,dynaProGo:7}),C=Object.freeze({msr:1,chip:2,chipmsr:3,contactless:4,contactlessmsr:5,contactlesschip:6,all:7});function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var D=class extends h{constructor(){super(),b(this,"tlvParser",(e,t)=>{let i,a,s,r=e.length,n=[],o=0,c=!0,h=null,d=[];for(;o<r;)if(a=e[o],c){i=0;let t=!0;if(0===a)break;for(;t&&o<r;)a=e[o],o++,d[i]=a,t=0===i?(a&this.moreTagBytesFlag1)==this.moreTagBytesFlag1:(a&this.moreTagBytesFlag2)==this.moreTagBytesFlag2,i++;h=this.convertArrayToHexString(d.slice(0,i)),c=!1}else{if(s=0,(a&this.moreLengthFlag)==this.moreLengthFlag){let t=a&this.oneByteLengthMask;o++;let i=0;for(;i<t&&o<r;)a=e[o],o++,s=((255&s)<<8)+a,i++}else s=a&this.oneByteLengthMask,o++;if(h){let i=d[0],a=(o+s>r?r:o+s)-o,c=a>0?this.convertArrayToHexString(e.slice(o,o+a)):"";n.push({tag:h,tagLength:s||c.length+.5,tagValue:this.hexOrAsciiFormatter(h,c,t)}),(i&this.constructedFlag)!=this.constructedFlag&&(o+=s)}c=!0}return n}),b(this,"hexOrAsciiFormatter",(e,t,i)=>{switch(e){case"DFDF1A":return`${t} ${this.trxStatusToString[parseInt(t,16)]}`;case"DFDF4D":case"5F20":return this.hexToAscii(t);case"DFDF25":return i?this.hexToAscii(t?t.substring(0,14):t):t;case"DFDF40":return 128===t?`${t}  CBC-MAC checked in ARQC online response`:1===t;default:return t}}),this.moreTagBytesFlag1=31,this.moreTagBytesFlag2=128,this.constructedFlag=32,this.moreLengthFlag=128,this.oneByteLengthMask=127,this.trxStatusToString=Object.freeze({0:"Approved",1:"Declined",2:"Error",16:"Cancelled By Host",17:"Confirm Amount No",18:"Confirm Amount Timeout",19:"Confirm Amount Cancel",20:"MSR Select Debit",21:"MSR Select Debit",22:"MSR Select Credit/Debit timout",23:"MSR Select Credit/Debit cancel",24:"Signature Capture Cancelled by Host (SC-S Only | SC-F only)",25:"Signature Capture Timeout (SC-S Only | SC-F Only)",26:"Signature Capture Cancelled by Cardholder (SC-S Only | SC-F Only)",27:"PIN Entry Cancelled by Host",28:"PIN entry timeout",29:"PIN entry Cancelled by Cardholder",30:"Manual Selected Cancelled by Host",31:"Manual Selection Timeout",32:"Manual Selction Cancelled by Cardholder",33:"Waiting for Card Cancelled by Host",34:"Waiting for Card Timeout",35:"Cancelled by Card Swipe (MSR) [SCRA] || Waiting for Card Cancelled by Cardholder [PIN]",36:"Waiting for Card ICC Seated",37:"Waiting for Card MSR Swiped",255:"Unknown Transaction Status"})}};class S extends Error{constructor(){super("Device communication error. Length does not match data"),this.name="BleTransmissionError",this.code=1012}}var y=S;class T extends Error{constructor(e){let{code:t,name:i,message:a}=e;super(a),this.name=i||"DeviceError",this.code=t||1e3}}var w=T;function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var k=class extends D{constructor(e){super(),A(this,"buildDeviceErr",e=>e instanceof DOMException?new s(e):e instanceof Error?e:new w(e)),A(this,"throwLenErr",()=>new y),A(this,"sendErrToCallback",e=>(this.errorCallback(e),e)),this.errorCallback=e.errorCallback}};const P=Object.freeze({errorCode:8,errorName:"NotFoundError"}),E=Object.freeze({code:19,name:"NetworkError"}),R=Object.freeze({code:1002,name:"DeviceNotFound",message:"Please select device to connect"}),I=Object.freeze({code:1003,name:"GattServerNotConnected",message:"Please connect desired device"}),B=Object.freeze({code:1004,name:"CommandNotSent",message:"Command characteristic not found, device not opened"}),O=Object.freeze({code:1005,name:"CommandNotSent",message:"Device not opened"}),N=Object.freeze({code:1006,name:"CommandNotSent",message:"Application From Host not found.  Device not connected"}),x=Object.freeze({code:1007,name:"ReadFailed",message:"Unable to read data from device. Communication error"}),L=Object.freeze({code:1008,name:"ResponseNotReceived",message:"Command was sent, but response was not received from device"}),M=Object.freeze({code:1009,name:"GetServiceFail",message:"Failed to retrieve primary GATT service. Please connect device"}),H=Object.freeze({code:1013,name:"CommandNotAccepted",message:"Device did not accept command"}),j=e=>Object.freeze({code:1014,name:"MissingRequiredParameter",message:`'${e}' is required to call this function.`}),$=(e,t)=>Object.freeze({code:1015,name:"IncorrectInputType",message:`Parameter type for ${t} was not correct, acceptable type(s) are: ${e.join(", ")}`}),F=(e,t)=>Object.freeze({code:1015,name:"IncorrectInputValue",message:`Parameter value for ${t} was not correct, acceptable value(s) are: ${e.join(", ")}`});function U(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var q=class extends k{constructor(e,t){super(t),U(this,"cardTypes",e=>"all"!==e?C[e]||3:f[this.deviceType]||3),U(this,"connect",()=>new Promise((e,t)=>(this.logDeviceState(`[GATT]: Device Connection Request || ${new Date}`),this.device?this.device.gatt.connect().then(t=>(this.logDeviceState(`[GATT]: Device connected - GATT Server retrieved successfully || ${new Date}`),this.gattServer=t,e())):t(this.buildDeviceErr(R))))),U(this,"disconnect",()=>new Promise(e=>this.device.gatt.connected?(this.device.gatt.disconnect(),e(g)):e(g))),U(this,"cacheCardServiceBase",e=>new Promise((t,i)=>(e=e||0,this.logDeviceState(`[GATT]: Cache Card Service Request || ${new Date}`),this.gattServer?this.findPrimaryService(e).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(I))))),U(this,"findPrimaryService",e=>new Promise((t,i)=>this.gattServer.getPrimaryService(this.deviceUUIDs[e]).then(e=>(this.cardService=e,this.logDeviceState(`[GATT]: Success! GATT Card Service retrieved and cached || ${new Date}`),this.device.addEventListener("gattserverdisconnected",this.disconnectHandler),t(e))).catch(a=>a.code===P.errorCode&&a.name===P.errorName?(this.deviceUUIDs[e+1],this.logDeviceState(`[ERROR]: Failed to connect. UUID: ${this.deviceUUIDs[e]} is not valid for this device. Trying again with UUID: ${this.deviceUUIDs[e+1]} || ${new Date}`),t(this.findPrimaryService(e+1))):(this.logDeviceState(`[ERROR]: Failed to retrieve Card Service - UUID: ${this.deviceUUIDs[e]} is not valid for this device. || ${new Date}`),i(a))))),U(this,"connectAndCache",e=>new Promise((t,i)=>{let a=t=>new Promise((i,s)=>t<4?this.connect().then(()=>this.cacheCardServiceBase(e)).then(e=>i(e)).catch(e=>e.code===E.code&&e.name===E.name?setTimeout(()=>(this.logDeviceState(`[ERROR]: Error caching GATT Service - Clearing cache and trying again. || ${new Date}`),this.clearGattCache(),i(a(t+1))),500):(this.logDeviceState(`[ERROR]: Failed to cache GATT Service || ${new Date}`),s(e))):s(this.buildDeviceErr(M)));return a(0).then(e=>t(e)).catch(e=>i(e))})),U(this,"sendArpcBase",e=>new Promise((t,i)=>{if(!this.device.gatt.connected)return i(this.buildDeviceErr(O));if("string"!=typeof e&&"object"!=typeof e)return i(this.buildDeviceErr($(["string","array of numbers"],"ARPC")));const a="string"==typeof e?e.length/2:e.length,s="string"==typeof e?this.hexToBytes(e):e;return t(this.buildArpcCommand(a,s))})),U(this,"onDestroyHandler",()=>{if(this.device&&this.device.gatt.connected)return this.device.gatt.disconnect()}),U(this,"waitForDeviceResponse",e=>new Promise(t=>{let i=a=>a<e?this.commandRespAvailable?t(!0):setTimeout(()=>i(a+1),200):t(!1);i(0)})),U(this,"disconnectHandler",e=>{this.gattServer=null,this.cardService=null,this.logDeviceState(`[Disconnected]: Disconnect event. Returning event to user, removing device listener || ${new Date}`),this.disconnectCallback(e),this.device.removeEventListener("gattserverdisconnected",this.disconnectHandler)}),U(this,"isDeviceConnected",()=>!!this.device.gatt&&this.device.gatt.connected),this.device=e,this.disconnectCallback=t.disconnectHandler,this.gattServer=null,this.cardService=null,this.deviceUUIDs=["0508e6f8-ad82-898f-f843-e3410cb60104","0508e6f8-ad82-898f-f843-e3410cb60103","0508e6f8-ad82-898f-f843-e3410cb60101"],this.statusVerbosity=Object.freeze({minimum:0,medium:1,verbose:2}),this.currencyCode=Object.freeze({dollar:[8,64],euro:[9,120],pound:[8,38],default:[0,0]}),this.transactionTypes=Object.freeze({purchase:0,cashadvance:1,cashback:2,purchasegoods:4,purchaseservices:8,contactlesscashback:9,cashmanual:18,refund:32,chiponlypayment:80}),this.commandRespAvailable=!1}};function W(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var z=class extends q{constructor(e,t){super(e,t),W(this,"validateAmount",e=>(t,i,a)=>{switch(typeof t){case"number":return t.toString().length>12?e(F(["number of 12 digits or less","byte array representation of amount (6 bytes, n12 format)"],t)):this.convertNumToAmount(t);case"object":return 6===t.length?t:e(F(["12 digit or less number","byte array representation of amount (6 bytes, n12 format)"],i));case"undefined":return void 0===a?e(j(i)):a;default:return e($(["number of 12 digits or less","byte array representation of amount (6 bytes, n12 format)"],i))}}),W(this,"validateRequiredInputs",e=>new Promise((t,i)=>{for(let t=0;t<e.length;t++){let{prop:a,validTypes:s,validValues:r,condition:n,propName:o}=e[t];if(void 0===a&&n)return i(j(o));let c=!1;for(let e=0;e<s.length;e++)if(typeof a===s[e]){c=!0;break}if(!c)return i($(s,o));if(void 0!==r){let e=!1;for(let t=0;t<r.length;t++)if(a.toLowerCase()===r[t]){e=!0;break}if(!e)return i(F(r,o))}}return t(!0)}))}};function G(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var V=class extends z{constructor(e,t){super(e,t),G(this,"decimalToBinary",e=>{let t=(e>>>0).toString(2);return"00000000".substr(t.length)+t}),G(this,"stringNumToBool",e=>!!+e),G(this,"findNullTerminatedString",e=>{let t;for(let i=0;i<e.length;i++)if(0===e[i]&&0===e[i+1]&&0===e[i+2]){t=i;break}return t?this.convertArrayToHexString(e.slice(2,t)):this.convertArrayToHexString(e.slice(2))}),G(this,"findPinLength",(e,t)=>{let i=12,a=4;return e&&"number"==typeof e&&e<=12&&(i=e>=4?e:12),t&&"number"==typeof t&&t>=4&&(a=t<=i?t:4),parseInt(`${i.toString(16)}${a.toString(16)}`,16)}),G(this,"buildPinOptionsByte",(e,t,i,a)=>{const s=Object.freeze({disabled:"00",englishfrench:"01",allspecified:"10"}),r=`000${e=e&&s[e.toLowerCase()]||s.disabled}${(t="boolean"!=typeof t||t)?"1":"0"}${"boolean"!=typeof t||t?"1":"0"}${a=a&&"string"==typeof a?"iso0"===a.toLowerCase()?"0":"1":"0"}`;return this.logDeviceState(`[PinOptionsByte]: binary string representation: ${r} || byte result: ${parseInt(r,2)}`),parseInt(r,2)}),G(this,"buildN2Format",e=>{const t=e.toString(),i=2===t.length?t:`0${t}`;return parseInt(`0x${i[0]}${i[1]}`,16)})}};function K(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _=class extends V{constructor(e,t){super(e,t),K(this,"parseDeviceConfiguration",e=>({...this.firstDeviceControlByte(this.decimalToBinary(e[1])),...this.secondDeviceControlByte(this.decimalToBinary(e[2])),...this.maskConfigurationByte(this.decimalToBinary(e[3])),...this.msrConfigurationByte(this.decimalToBinary(e[4])),maskCharacter:this.findMaskCharacter(e[5]),leadingUnmaskedLength:parseInt(this.decimalToBinary(e[6]).slice(4),2),trailingUnmaskedLength:parseInt(this.decimalToBinary(e[6]).slice(0,4),2),emvL2IcsConfig:this.emvL2ConfigOptions[this.decimalToBinary(e[7]).slice(0,4)]||`${m}/Undocumented EMV L2 ICS ${u}`,...this.contactlessConfig(e[8])})),K(this,"contactlessConfig",e=>({contactlessSupport:this.enabledBrands[this.convertArrayToHexString([e])[0]],contactlessGuiControls:"1"===this.decimalToBinary(e)[5]?"Alternate":"Standard"})),K(this,"findMaskCharacter",e=>{if(48===e)return"ASCII: '0'";{const t=this.convertArrayToHexString([e]),i=this.hexToAscii(t);return i?`ASCII: '${i}'`:`Non-ASCII character in hex: '${t}'`}}),K(this,"firstDeviceControlByte",e=>({requireMutualAuth:this.stringNumToBool(e[0]),msrEncryptionVariant:"1"===e[1]?"DATA":"PIN",isClearTextEnabled:this.stringNumToBool(e[3]),isBeeperModeEnabled:this.stringNumToBool(e[4]),isBitmapLocked:this.stringNumToBool(e[6]),isConfigurationLocked:this.stringNumToBool(e[7])})),K(this,"secondDeviceControlByte",e=>({isArpcMacEnabled:this.stringNumToBool(e[1]),isFinancialIccCardTypeReportingEnabled:this.stringNumToBool(e[2]),arqcBatchDataOutputFormat:"1"===e[3]?"Reserved Format":"DynaPro Format"})),K(this,"maskConfigurationByte",e=>({isIsoMaskEnabled:this.stringNumToBool(e[7]),isCheckDigitEnabled:this.stringNumToBool(e[6]),isMs2Point0Enabled:"00"!==e.slice(4,6)})),K(this,"msrConfigurationByte",e=>({isAAMVAcardEnabled:this.stringNumToBool(e[7]),track3Data:this.trackDataOptions[e.slice(4,6)]||m,track2Data:this.trackDataOptions[e.slice(2,4)]||m,track1Data:this.trackDataOptions[e.slice(0,2)]||m})),this.trackDataOptions=Object.freeze({"00":"Disabled","01":"Enabled",11:"Required"}),this.emvL2ConfigOptions=Object.freeze({"0000":"No L2 Capability","0001":`${u} C1 (EMVCo certified)`,"0010":`${u} C2`,"0011":`${u} C3`,"0100":`${u} C4 (EMVCo certified)`,"0101":`${u} C5 (EMVCo certified)`,"0110":`${u} C6`,"0111":`${u} C7`}),this.enabledBrands=Object.freeze({0:"All contacless kernals enabled",1:"PayPass/MCL support disabled",2:"payWave support disabled",4:"Expresspay support disabled",8:"D-PAS support disabled"})}};function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var J=class extends _{constructor(e,t){super(e,t),Q(this,"findEmvCardholderStatus",e=>({emvCardholderStatus:this.cardholderStatusIds[e]||`${m}/Undocumented Cardholder Interaction Status ID: ${e}`})),Q(this,"findOperationStatus",e=>({operationStatus:this.operationStatus[e]||`${m} Operation Status`})),Q(this,"parseDisplayMessageDone",e=>this.findOperationStatus(e[2])),Q(this,"parseEmvCompletion",e=>(this.logDeviceState(`[EMV Completion]: ${this.convertArrayToHexString(e)}`),{emvCompletionResponse:e})),Q(this,"formatSerialNumber",e=>this.deviceSerialNumber=this.hexToAscii(this.findNullTerminatedString(e))),Q(this,"handleBigBlockBegin",e=>{switch(e[1]){case 164:this.arqcArriving=!0,this.arqcTotalLen=this.readTwoByteLength([e[5],e[4]]);break;case 171:this.batchDataArriving=!0,this.batchTotalLen=this.readTwoByteLength([e[5],e[4]]);break;case 24:case 32:case 33:break;default:this.transactionStatusCallback({bufferType:this.bufferTypes[e[1]]||"Buffer type not documented"})}}),Q(this,"handleArqcBigBlockFinish",()=>{const e=this.buildInitialDataArray(!1),t=this.convertArrayToHexString(e);return this.logDeviceState(`[ARQC]: ${t}`),this.cardDataObj={...this.cardDataObj,arqcData:t,arqcDataParsed:this.tlvParser(e.slice(2))},this.rawData={},this.arqcArriving=!1,this.isQuickChipTransaction?void 0:this.transactionCallback(this.cardDataObj)}),Q(this,"handleBatchBigBlockFinish",()=>{const e=this.buildInitialDataArray(!1),t=this.convertArrayToHexString(e);this.logDeviceState(`[BATCH DATA]: ${t}`),this.transactionHasStarted=!1,this.hasTip=!1;const i=this.tlvParser(e.slice(2)),a=i.find(e=>{let{tag:t}=e;return"DFDF40"===t});return this.cardDataObj=a?{...this.cardDataObj,batchData:t,batchDataParsed:i,signatureRequired:1===a}:{...this.cardDataObj,batchData:t,batchDataParsed:i},this.rawData={},this.batchDataArriving=!1,this.transactionCallback(this.cardDataObj)}),Q(this,"handleBigBlockFinish",()=>this.arqcArriving?this.handleArqcBigBlockFinish():this.batchDataArriving?this.handleBatchBigBlockFinish():void 0),Q(this,"parseEmvCardholderInteractionStatus",e=>{switch(e[1]){case 2:return{...this.findEmvCardholderStatus(e[1]),isAmountConfirmed:1===e[4]||2!==e[4]&&`${m}/Undocumented Amount Confirmed Status`};case 4:return{...this.findEmvCardholderStatus(e[1]),applicationOrLabelName:this.bufferToUtf8(e.slice(4))};case 10:return{...this.findEmvCardholderStatus(e[1]),methodSelected:1===e[4]?"Credit":2===e[4]?"Debit":`${m}/Undocumented payment method selected`};case 32:return{...this.findEmvCardholderStatus(e[1]),tlvData:this.convertArrayToHexString(e.slice(4)),parsedTlvData:this.tlvParser(e.slice(4))};default:return void 0===e[4]?this.findEmvCardholderStatus(e[1]):{...this.findEmvCardholderStatus(e[1]),undocumentedData:this.convertArrayToHexString(e.slice(4))}}}),Q(this,"parseCardStatusReport",e=>e.length<4?this.findOperationStatus(e[2]):{...this.findOperationStatus(e[2]),cardStatus:0===e[2]?"Ok":"Error",cardType:this.cardTypesEnum[e[3]]}),Q(this,"parseAckResponse",e=>({code:e[1],message:this.ACKSTS[e[1]],commandType:this.pinCommandIds[e[2]]||"Device error or command type not documented"})),Q(this,"parseDeviceStateReport",e=>({deviceState:this.deviceState[e[1]]||`${m}/Undocumented device state id: ${e[1]}`,sessionState:this.parseSessionState(this.decimalToBinary(e[2])),deviceStatus:this.parseDeviceStatus(this.decimalToBinary(e[3])),deviceCertStatus:this.parseCertStatus(this.decimalToBinary(e[4])),hardwareStatus:this.parseHardwareStatus(this.decimalToBinary(e[5])),additionalInfo:this.parseAdditionalInfo(this.decimalToBinary(e[6]))})),Q(this,"parseSessionState",e=>({powerDidChange:this.stringNumToBool(e[0]),cardDataIsAvailable:this.stringNumToBool(e[4]),panParsedFromCard:this.stringNumToBool(e[5]),externalPanSent:this.stringNumToBool(e[6]),amountWasSent:this.stringNumToBool(e[7])})),Q(this,"parseCertStatus",e=>({msrCrlCertExists:this.stringNumToBool(e[0]),pinCrlCertExists:this.stringNumToBool(e[1]),mfgUnbindCertExists:this.stringNumToBool(e[3]),msrCaCertExists:this.stringNumToBool(e[4]),pinCaCertExists:this.stringNumToBool(e[5]),deviceCaCertExists:this.stringNumToBool(e[6]),deviceCertExists:this.stringNumToBool(e[7])})),Q(this,"parseDeviceStatus",e=>"00000000"!==e?{pinKeyStatus:this.pinKeyStatusEnum[e.slice(6)],msrKeyStatus:this.msrKeyStatusEnum[e.slice(4,6)],tamperDetected:this.stringNumToBool(e[3]),isAuthenticated:this.stringNumToBool(e[1]),deviceErrorDetected:this.stringNumToBool(e[0])}:"Ok"),Q(this,"parseHardwareStatus",e=>({IE3_only:this.stringNumToBool(e[0]),SRED:this.stringNumToBool(e[1]),MagHeadIsProgrammed:this.stringNumToBool(e[6]),tamperSensorsAreActive:this.stringNumToBool(e[7])})),Q(this,"parseAdditionalInfo",e=>({ICC_AcquirerMasterKeyIsInjected:!this.stringNumToBool(e[7]),ICC_SessionKeyIsActive:!this.stringNumToBool(e[6]),CAPK_EmvDatabaseIsCorrupted:this.stringNumToBool(e[5]),EmvTerminalDatabaseIsCorrupted:this.stringNumToBool(e[4]),cardIsPresentInChipCardConnector:this.stringNumToBool(e[3])})),Q(this,"parseCardData",e=>{const t=this.cardDataIds[e[1]]||`trackName${m}`;if(0===e[2])switch(t){case"track1":this.cardDataObj={...this.cardDataObj,[t]:this.bufferToUtf8(e.slice(4))};break;case"track2":this.cardDataObj={...this.cardDataObj,[t]:this.bufferToUtf8(e.slice(4)),...this.formatExpPAN(e)};break;case"ksnAndMagnePrintStatus":this.cardDataObj={...this.cardDataObj,ksn:this.convertArrayToHexString(e.slice(4,14)),magnePrintStatus:this.convertArrayToHexString(e.slice(-4))};break;default:this.cardDataObj={...this.cardDataObj,[t]:this.convertArrayToHexString(e.slice(4))}}else this.cardDataObj={...this.cardDataObj,[t]:this.convertStatusToString[e[2]]}}),Q(this,"parsePinResponse",e=>(this.logDeviceState(`[PIN Response]: Response from PIN Entry: ${this.convertArrayToHexString(e)}`),e.length>2?{pinData:{...this.findOperationStatus(e[1]),pinKsn:this.convertArrayToHexString(e.slice(2,12)),encryptedPinBlock:this.convertArrayToHexString(e.slice(12,20))}}:this.findOperationStatus(e[1]))),Q(this,"parseCardholderResponse",e=>{const t=Object.freeze({113:"Left function key",114:"Middle function key",116:"Right function key",120:"Enter key"});return e.length>2?{...this.findOperationStatus(e[1]),keyPressed:t[e[2]]||`${m}/Undocumented Key`}:this.findOperationStatus(e[1])}),Q(this,"parseTipCashbackReport",e=>e.length>2?this.transactionCallback({tipCashbackReport:{...this.findOperationStatus(e[1]),reportMode:0===e[2]?"Tip":"Cashback",amount:e.slice(3,9),tax:e.slice(9,15),taxRate:e.slice(15,18),tipOrCashbackAmount:e.slice(18,24)}}):this.transactionCallback({tipCashbackReport:{...this.findOperationStatus(e[1])}})),this.operationStatus=Object.freeze({0:"Ok",1:"Cardholder Cancel",2:"Timeout",3:"Host Cancel",4:"Verify fail",5:"Keypad Security",6:"Calibration Done",7:"Write with duplicate RID and index",8:"Write with corrupted Key",9:"CA Public Key reached maximum capacity",10:"CA Public Key read with invalid RID or Index"}),this.ACKSTS=Object.freeze({0:"Ok",21:"RID error/Index not found",128:"Device Error: error, tamper, missing certificate or incorrect signature detected",129:"Device not idle",130:"Data Error or Bad Paramater(s)",131:"Length Error: data size is either too small, too large, incomplete, or OID of the cert doesn't match predefined OID",132:"PAN Exists",133:"Missing or Incorrect Key",134:"Device Busy",135:"Device Locked",136:"Auth required",137:"Bad Auth",138:"Device Not Available",139:"Amount Needed - If PIN amount is required, no amount has been set",140:"Battery is critically low",141:"Device is resetting",144:"Certificate does not exist",145:"Expired (Cert/CRL)",146:"Invalid (Cert/CRL/Message)",147:"Revoked (Cert/CRL)",148:"CRL does not exist",149:"Certificate exists",150:"Duplicate KSN/Key"}),this.pinCommandIds=Object.freeze({1:"responseACK",2:"clearSession",3:"swipe",4:"requestPinEntry",5:"cancelCommand",6:"requestCardholderSelection",7:"displayMessage",8:"requestDeviceStatus",9:"requestDeviceConfiguration",10:"requestMsrData",11:"getChallenge",7:"displayMessage",162:"emvTransactionStatus",171:"requestEmvData",48:"getKsn",5:"cancelCommand",26:"requestDeviceInfo",16:"sendBigBlockData",160:"requestTipOrCashback"}),this.cardTypesEnum=Object.freeze({0:"Other",1:"Financial",2:"AAMVA",3:"Manual",4:"Unknown",5:"ICC",6:"Contactless ICC - EMV",7:"Financial MSR + ICC",8:"Contactless ICC - MSD"}),this.deviceState=Object.freeze({0:"Idle",1:"Session",2:"Wait For Card",3:"Wait For PIN",4:"Wait For Selection",5:"Displaying Message",6:"Test (Reserved for future use)",7:"Manual Card Entry",9:"Wait Cardholder Entry",10:"Chip Card",11:"ICC Kernel Test",12:"EMV Transaction",13:"Show PAN",31:"Wait for Tip Selection"}),this.pinKeyStatusEnum=Object.freeze({"00":"PIN Key OK","01":"PIN Key Exhausted",10:"No PIN Key",11:"PIN Key Not Bound"}),this.msrKeyStatusEnum=Object.freeze({"00":"MSR Key OK","01":"MSR Key Exhausted",10:"No MSR Key",11:"MSR Key Not Bound"}),this.cardDataIds=Object.freeze({1:"track1",2:"track2",3:"track3",4:"encryptedTrack1",5:"encryptedTrack2",6:"encryptedTrack3",7:"magnePrint",64:"encryptedPanAndExp",65:"serialNumber",99:"ksnAndMagnePrintStatus",100:"CBC-MAC"}),this.cardholderStatusIds=Object.freeze({1:"Waiting for amount confirmation selection",2:"Amount confirmation selected",3:"Waiting for multi-payment ICC Application selection",4:"ICC Application selected",5:"Waiting for signature capture",6:"Signature captured",7:"Waiting for language selection",8:"Language selected",9:"Waiting for credit/debit selection",10:"Credit/Debit selected",11:"Waiting for Pin Entry for ICC",12:"PIN entered for ICC",13:"Waiting for Pin Entry for MSR",14:"PIN entered for MSR",15:"Waiting for tip selection",16:"Tip interaction selected"}),this.bufferTypes=Object.freeze({2:"Device Certificate",50:"Set BIN (MAC)",66:"CSR",161:"EMV data in TLV format, Tag Data (MAC)",162:"RESERVED",163:"RESERVED",164:"EMV data in TLV format, Authorization Request (ARQC)",165:"CA Public Key (MAC)",171:"EMV data in TLV format, Batch Data"}),this.cardDataObj={},this.arqcArriving=!1,this.batchDataArriving=!1,this.arqcTotalLen=0,this.batchTotalLen=0,this.convertStatusToString=Object.freeze({0:"Ok",1:"Empty",2:"Error",4:"Disabled"})}};function Y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var X=class extends J{constructor(e,t){super(e,t),Y(this,"buildSwipeCommand",e=>{let{timeout:t,isFallback:i,toneChoice:a,displayType:s}=e;return[1,3,t||60,!0===i?4:void 0!==s?this.displayTypes[s.toLowerCase()]:2,void 0!==a?this.toneChoice[a.toLowerCase()]:1]}),Y(this,"buildEmvCommand",e=>{let{timeout:t,pinTimeout:i,cardType:a,transactionType:s,cashBack:r,currencyCode:n,toneChoice:o,isQuickChip:c,authorizedAmount:h,emvOptions:d,taxAmount:l,taxPercent:u,tipAmount:m,balanceBeforeGenAC:p,balanceAfterGenAC:v,trxCategoryCode:g}=e;return new Promise((e,f)=>{this.isQuickChipTransaction=!1!==c,this.hasTip=this.hasTip||void 0!==m;const C=this.validateAmount(f);let b=[1,162,t||60,i||20,0,void 0!==o?this.toneChoice[o.toLowerCase()]:1,a?this.cardTypes(a.toLowerCase()):this.cardTypes("all"),void 0!==d?this.emvOptions[d.toLowerCase()]:0];const D=C(h,"authorizedAmount",[0,0,0,0,1,0]);if(void 0===D)return f(D);b=b.concat(D),b=void 0!==s?b.concat(this.transactionTypes[s.toLowerCase()]):b.concat(0);const S=C(r,"cashBack",this.newArrayPartial(0,6));if(void 0===S)return f(S);b=b.concat(S);const y=C(p,"balanceBeforeGenAC",this.newArrayPartial(0,6));if(void 0===y)return f(y);b=b.concat(y);const T=C(v,"balanceAfterGenAC",this.newArrayPartial(0,6));if(void 0===T)return f(T);b=b.concat(T),b=n?b.concat(this.currencyCode[n.toLowerCase()]||this.currencyCode.default):b.concat(this.currencyCode.dollar),b.push(void 0!==g?g:0),b.push(this.isQuickChipTransaction?1:0),b.push(this.hasTip?1:void 0!==r?2:0);const w=C(l,"taxAmount",this.newArrayPartial(0,6));if(void 0===w)return f(w);b=b.concat(w),b=void 0!==u?"number"==typeof u?b.concat(this.convertNumToAmount(u,6)):b.concat(u):b.concat(this.newArrayPartial(0,3)),b=b.concat(this.newArrayPartial(0,3));const A=C(m,"tipAmount",this.newArrayPartial(0,6));return void 0===A?f(A):(b=b.concat(A),b=b.concat(this.newArrayPartial(0,9)),e(b))})}),Y(this,"buildPinCommand",e=>{let{languageSelection:t,displayType:i,timeout:a,maxPinLength:s,minPinLength:r,toneChoice:n,waitMessage:o,verifyPin:c,pinBlockFormat:h}=e;const d=Object.freeze({enterpin:0,enterpinamount:1,reenterpinamount:2,reenterpin:3,verifypin:4});return[1,4,a||30,i&&d[i.toLowerCase()]||0,this.findPinLength(s,r),void 0!==n?this.toneChoice[n.toLowerCase()]:1,this.buildPinOptionsByte(t,o,c,h)]}),Y(this,"buildArpcCommand",(e,t)=>new Promise((i,a)=>{this.sendBigBlockData(164,e,t).then(()=>i([1,164,...this.newArrayPartial(0,10)])).catch(e=>a(e))})),Y(this,"buildTipOrCashbackCmd",e=>{let{timeout:t,commandType:i,toneChoice:a,transactionAmount:s,calculatedTaxAmount:r,taxRate:n,tipSelectionMode:o,leftButton:c,middleButton:h,rightButton:d}=e;return new Promise((e,l)=>{const u=this.validateAmount(l),m=[{prop:i,propName:"commandType",validTypes:["string"],condition:!0,validValues:["tip","cashback"]},{prop:o,propName:"tipSelectionMode",condition:i&&"cashback"!==i.toLowerCase(),validTypes:["string"],validValues:["percent","amount"]},{prop:n,propName:"taxRate",condition:!0,validTypes:["number","object"]}];this.validateRequiredInputs(m).then(()=>{let m=[1,160,void 0!==t?t:30,"tip"===i.toLowerCase()?0:1,"string"==typeof a?this.toneChoice[a.toLowerCase()]:this.toneChoice.onebeep];const p=u(s,"transactionAmount");if(void 0===p)return l(p);m=m.concat(p);const v=u(r,"calculatedTaxAmount");return void 0===v?l(v):(m=m.concat(v),m="number"==typeof n?m.concat(this.convertNumToAmount(n,6)):m.concat(n),m.push(void 0===o||"percent"===o?0:1),m.push(void 0!==c?this.buildN2Format(c):0),m.push(void 0!==h?this.buildN2Format(h):0),m.push(void 0!==d?this.buildN2Format(d):0),m=m.concat(this.newArrayPartial(0,25)),e(m))}).catch(e=>l(e))})}),Y(this,"buildDisplayCmd",e=>{let{displayTime:t,messageId:i}=e;return new Promise((e,a)=>void 0===i?a(missingRequiredFields("messageId")):e([1,7,void 0!==t?t:15,i]))}),this.toneChoice=Object.freeze({nosound:0,onebeep:1,twobeeps:2})}};function Z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ee=class extends X{constructor(e,t){super(e,t),Z(this,"getCardService",()=>new Promise((e,t)=>this.device?this.connectAndCache(2).then(e=>(this.logDeviceState(`[GATT]: Cache AppDataToHostLength Characteristic || ${new Date}`),e.getCharacteristic(this.deviceToHostLen))).then(e=>(this.logDeviceState(`[GATT]: Begin notifications on AppDataToHostLength Characteristic || ${new Date}`),e.startNotifications())).then(e=>(this.logDeviceState(`[GATT]: Add listener to notifications || ${new Date}`),e.removeEventListener("characteristicvaluechanged",this.dataWatcher),e.addEventListener("characteristicvaluechanged",this.dataWatcher),this.cardDataListener=e,this.logDeviceState(`[GATT]: Cache AppDataToHost Characteristic || ${new Date}`),this.cardService.getCharacteristic(this.deviceToHostData))).then(e=>(this.receiveDataChar=e,this.logDeviceState(`[GATT]: Cache AppDataFromHostLength Characteristic || ${new Date}`),this.cardService.getCharacteristic(this.deviceFromHostLen))).then(e=>(this.sendLenToDevice=e,this.logDeviceState(`[GATT]: Cache AppDataFromHost Characteristic || ${new Date}`),this.cardService.getCharacteristic(this.deviceFromHostData))).then(e=>(this.commandCharacteristic=e,window&&(window.removeEventListener("beforeunload",this.onDestroyHandler),window.addEventListener("beforeunload",this.onDestroyHandler)),this.logDeviceState(`[GATT]: Successfully cached all GATT services and characteristics. Returning successful pair to user || ${new Date}`),this.delayPromise(400))).then(()=>e({code:0,message:"Device Open"})).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(R)))),Z(this,"dataWatcher",e=>{let t=e.target.value.getUint8(0);return this.logDeviceState(`[NOTIFY: AppDataToHostLength]: ${this.convertArrayToHexString([t])} || ${new Date}`),this.commandSent&&3===t?(this.commandRespAvailable=!0,void(this.commandSent=!1)):this.readCommandResp()}),Z(this,"readCommandResp",()=>new Promise((e,t)=>this.receiveDataChar?this.receiveDataChar.readValue().then(e=>this.readValueHandler(e)).then(t=>e(t)).catch(i=>i.code===v.code&&i.message===v.message?(this.logDeviceState(`[INFO]: Read failed due to device being busy. Attempting read again || ${new Date}`),this.delayPromise(100).then(()=>e(this.readCommandResp()))):t(this.buildDeviceErr(i))):t(this.buildDeviceErr(x)))),Z(this,"readValueHandler",e=>new Promise(t=>{const i=this.readByteArray(e);if(this.logDeviceState(`[READ: AppDataToHost]: ${this.convertArrayToHexString(i)} || ${new Date}`),i.length)switch(i[0]){case this.reportIds.responseAck:return t(this.parseAckResponse(i));case this.reportIds.deviceStateReport:return t(this.handleDeviceStateReport(i));case this.reportIds.cardStatusReport:return t(this.handleCardStatusReport(i));case this.reportIds.cardDataReport:return t(this.handleCardDataReport(i));case this.reportIds.emvCardholderStatus:return t(this.handleCardholderStatusReport(i));case this.reportIds.emvCompletion:return t(this.handleEmvCompletion(i));case this.reportIds.bigBlockData:return t(this.handleBigBlockData(i));case this.reportIds.requestSn:return t(this.formatSerialNumber(i));case this.reportIds.deviceConfig:return t(this.parseDeviceConfiguration(i));case this.reportIds.pinResponse:return t(this.transactionCallback(this.parsePinResponse(pinResp)));case this.reportIds.selectionResponse:return t(this.parseCardholderResponse(i));case this.reportIds.displayResp:return t(this.transactionStatusCallback(this.findOperationStatus(i[1])));case this.reportIds.tipCashbackReport:return t(this.parseTipCashbackReport(i));default:return this.logDeviceState(`[Data Resp]: There is no parser for this data, returning to caller: ${this.convertArrayToHexString(i)} || ${new Date}`),t(this.transactionCallback(i))}else t(i)})),Z(this,"handleEmvCompletion",e=>(console.log("[!] EMV Completion: ",e),this.transactionStatusCallback(this.parseEmvCompletion(e)))),Z(this,"handleBigBlockData",e=>{switch(e[2]){case 0:this.handleBigBlockBegin(e);break;case 99:this.maxBlockId=Math.max(...Object.keys(this.rawData))+1,this.handleBigBlockFinish();break;default:this.rawData={...this.rawData,[e[2]]:e.slice(4)}}}),Z(this,"handleCardholderStatusReport",e=>this.transactionStatusCallback(this.parseEmvCardholderInteractionStatus(e))),Z(this,"handleCardStatusReport",e=>new Promise(t=>(this.transactionStatusCallback(this.parseCardStatusReport(e)),this.swipeHasBegun||this.transactionHasStarted?this.sendCommandWithResp(this.swipeHasBegun?[1,10,0]:[1,171,0]).then(e=>t(this.transactionStatusCallback(e))).catch(e=>this.sendErrToCallback(this.buildDeviceErr(e))):t()))),Z(this,"handleDeviceStateReport",e=>{this.dataGathered&&(this.dataGathered=!1,this.transactionCallback({swipeData:this.cardDataObj})),this.transactionStatusCallback(this.parseDeviceStateReport(e))}),Z(this,"handleCardDataReport",e=>{this.swipeHasBegun&&(this.swipeHasBegun=!1,this.dataGathered=!0),3!==e.length?this.parseCardData(e):(this.logDeviceState("[ERROR] Undocumented Card Data below"),this.logDeviceState(e))}),Z(this,"requestCardSwipe",e=>new Promise((t,i)=>(this.swipeHasBegun=!0,this.cardDataObj={},this.device.gatt.connected?this.sendCommandWithResp(this.clearSessionCmd).then(t=>(this.transactionStatusCallback(t),this.sendCommandWithResp(this.buildSwipeCommand(e||{})))).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(O))))),Z(this,"startTransaction",e=>new Promise((t,i)=>(this.transactionHasStarted=!0,this.cardDataObj={},this.logDeviceState(`[INFO]: EMV transaction begun || ${new Date}`),this.buildEmvCommand(e||{}).then(e=>this.sendCommandWithResp(e)).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e)))))),Z(this,"requestPinEntry",e=>new Promise((t,i)=>(this.logDeviceState(`[PIN]: Request for PIN entry start || ${new Date}`),console.log("pinoptions: ",e),this.device.gatt.connected?this.sendCommandWithResp(this.buildPinCommand(e||{})).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(O))))),Z(this,"sendBigBlockData",(e,t,i)=>new Promise((a,s)=>{let r=[1,16,e,0,255&t];if(t<60){r=r.concat(...this.newArrayPartial(0,60)),this.logDeviceState(`[Send Big Block Data Legacy]: ${this.convertArrayToHexString(r)}`);let n=[1,16,e,1,t,...i];return n.length<65&&(n=n.concat(...this.newArrayPartial(0,65-n.length))),this.sendPinCommand(r).then(()=>this.sendPinCommand(n)).then(()=>a()).catch(e=>s(this.buildDeviceErr(e)))}return r=r.concat([t>>8&255,t>>16&255,t>>24&255,1,...this.newArrayPartial(0,56)]),this.sendExtendedBigBlockData(e,t,i,r).then(()=>a())})),Z(this,"sendExtendedBigBlockData",(e,t,i,a)=>new Promise((s,r)=>{const n=Math.ceil(t/60);let o=!1,c=[];this.logDeviceState(`[Send Big Block Data Extended]: ${this.convertArrayToHexString(a)} || ${new Date}`);const h=()=>new Promise((e,t)=>{if(o)return this.delayPromise(500).then(()=>e(h()));const i=c.shift();return i?(o=!0,i.queuedPromise().then(()=>i.resolve()).then(()=>(o=!1,e(h()))).catch(e=>(o=!1,t(i.reject(e))))):e(!0)}),d=e=>new Promise((t,i)=>{c.push({queuedPromise:e,resolve:t,reject:i})});d(()=>new Promise(e=>this.sendPinCommand(a).then(()=>e())));for(let t=0,a=1;a<=n;a++){let s=i.slice(t,t+60),r=[1,16,e,a,s.length,...s];65!==r.length&&(r=r.concat(...this.newArrayPartial(0,65-r.length))),d(()=>new Promise(e=>this.sendPinCommand(r).then(()=>e())))}return this.logDeviceState(`[Send Big Block Data Extended]: Executing queue of ${c.length} commands || ${new Date}`),h().then(e=>s(e)).catch(e=>r(e))})),Z(this,"sendArpc",e=>new Promise((t,i)=>this.sendArpcBase(e).then(e=>this.delayPromise(200,e)).then(e=>(console.log("passed through command: ",e),this.sendCommandWithResp(e))).then(e=>(this.logDeviceState(`[Send ARPC Result]: ${this.convertArrayToHexString(e)}`),t(e))).catch(e=>i(this.buildDeviceErr(e))))),Z(this,"requestTipOrCashback",e=>new Promise((t,i)=>(this.hasTip=!0,this.buildTipOrCashbackCmd(e||{}).then(e=>(console.log("returned with this command:",e,this.convertArrayToHexString(e)),this.sendCommandWithResp(e))).then(e=>(console.log("tip-cashback resp: ",e),t(e))).catch(e=>i(this.buildDeviceErr(e)))))),Z(this,"setDisplayMessage",e=>new Promise((t,i)=>this.device&&this.device.gatt.connected?this.buildDisplayCmd(e||{}).then(e=>this.sendCommandWithResp(e)).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(O)))),Z(this,"sendPinCommand",e=>new Promise((t,i)=>(this.logDeviceState(`[AppFromHostLength]: ${this.convertArrayToHexString([e.length])} || ${new Date}`),this.sendLenToDevice?this.sendLenToDevice.writeValue(Uint8Array.of(e.length)).then(()=>(this.logDeviceState(`[AppFromHostData]: ${this.convertArrayToHexString(e)} || ${new Date}`),this.commandSent=!0,t(this.commandCharacteristic.writeValue(Uint8Array.from(e))))).catch(e=>(this.commandSent=!1,i(e))):i(this.buildDeviceErr(N))))),Z(this,"sendCommandWithResp",e=>new Promise((t,i)=>this.sendPinCommand(e).then(()=>this.commandRespAvailable?Promise.resolve(!0):this.waitForDeviceResponse(16)).then(t=>t?this.readCommandResp():this.tryCommandAgain(e)).then(e=>(this.commandRespAvailable=!1,t(e))).catch(e=>(this.commandRespAvailable=!1,i(this.buildDeviceErr(e)))))),Z(this,"tryCommandAgain",e=>new Promise((t,i)=>this.sendPinCommand(e).then(()=>this.waitForDeviceResponse(5)).then(e=>e?t(this.readCommandResp()):i(this.buildDeviceErr(L))))),Z(this,"getDeviceInfo",()=>new Promise((e,t)=>this.device.gatt.connected?this.gatherDeviceInfo().then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(O)))),Z(this,"gatherDeviceInfo",()=>new Promise((e,t)=>this.deviceSerialNumber?e({serialNumber:this.deviceSerialNumber,deviceName:this.device.name,deviceType:this.deviceType,isConnected:this.device.gatt.connected}):this.checkIfDeviceIdle().then(()=>this.getDeviceInfoProceed()).then(()=>e({serialNumber:this.deviceSerialNumber,deviceName:this.device.name,deviceType:this.deviceType,isConnected:this.device.gatt.connected})).catch(e=>t(e)))),Z(this,"getDeviceInfoProceed",()=>new Promise((e,t)=>{this.sendPinCommand([0,26,5]).then(()=>this.deviceSerialNumber?Promise.resolve(!0):this.waitForSn(7)).then(i=>i?e():t(this.buildDeviceErr(L))).catch(e=>t(e))})),Z(this,"checkIfDeviceIdle",()=>new Promise(e=>this.sendCommandWithResp([1,26,5]).then(t=>129===t.code?this.clearSession().then(()=>e(this.checkIfDeviceIdle())):(this.transactionStatusCallback(t),e())))),Z(this,"waitForSn",e=>new Promise(t=>{const i=a=>a<e?this.deviceSerialNumber?t(!0):setTimeout(()=>i(a+1),200):t(!1);i(0)})),Z(this,"cancelTransaction",()=>new Promise((e,t)=>this.commandCharacteristic?this.sendCommandWithResp([1,5,0]).then(t=>e(t)).catch(e=>t(e)):t(this.buildDeviceErr(B)))),Z(this,"clearSession",()=>new Promise((e,t)=>(this.logDeviceState(`[ClearSession]: Request to clear session || ${new Date}`),this.sendLenToDevice?this.sendCommandWithResp(this.clearSessionCmd).then(t=>(this.transactionStatusCallback(t),this.logDeviceState(`[ClearSession]: Received clear session response || ${new Date}`),this.clearInternalState(),e(t))).catch(e=>t(this.buildDeviceErr(e))):e(p)))),Z(this,"closePinDevice",()=>new Promise((e,t)=>this.cardDataListener?this.cardDataListener.stopNotifications().then(()=>(this.logDeviceState(`[Close Device]: GATT notifications stopped. Clearing JS cache || ${new Date}`),this.cardDataListener.removeEventListener("characteristicvaluechanged",this.dataWatcher),this.cardDataListener=null,this.clearGattCache(),e(this.disconnect()))).catch(e=>t(e)):this.disconnect().then(()=>(this.logDeviceState(`[Close Device]: Device Closed. Clearing JS cache || ${new Date}`),this.clearGattCache(),e())).catch(e=>t(e)))),Z(this,"closeDevice",()=>new Promise((e,t)=>this.device.gatt.connected?this.clearSession().then(()=>this.closePinDevice()).then(()=>e(g)).catch(e=>(this.disconnect(),t(this.buildDeviceErr(e)))):e(g))),Z(this,"clearInternalState",()=>{this.commandSent=!1,this.commandRespAvailable=!1,this.dataGathered=!1,this.isQuickChipTransaction=!0}),Z(this,"clearGattCache",()=>{this.transactionHasStarted=!1,this.receiveDataChar=null,this.commandCharacteristic=null,this.sendLenToDevice=null,this.clearInternalState(),this.hasTip=!1,this.swipeHasBegun=!1,this.transactionHasStarted=!1}),this.transactionCallback=t.transactionCallback||t,this.transactionStatusCallback=t.transactionStatusCallback,this.deviceFromHostLen="0508e6f8-ad82-898f-f843-e3410cb60220",this.deviceFromHostData="0508e6f8-ad82-898f-f843-e3410cb60221",this.deviceToHostLen="0508e6f8-ad82-898f-f843-e3410cb60222",this.deviceToHostData="0508e6f8-ad82-898f-f843-e3410cb60223",this.cardDataListener=null,this.receiveDataChar=null,this.commandCharacteristic=null,this.sendLenToDevice=null,this.commandSent=!1,this.swipeHasBegun=!1,this.transactionHasStarted=!1,this.dataGathered=!1,this.isQuickChipTransaction=!0,this.deviceSerialNumber=null,this.hasTip=!1,this.emvOptions=Object.freeze({normal:0,bypasspin:1,forceonline:2,acquirernotavailable:4}),this.displayTypes=Object.freeze({swipeidlealternate:0,swipecard:1,pleaseswipe:2,pleaseswipeagain:3,chiperroruseswipe:4}),this.reportIds=Object.freeze({responseAck:1,endSession:2,requestCardSwipe:3,cardStatusReport:34,deviceStateReport:32,cardDataReport:35,emvCardholderStatus:44,bigBlockData:41,emvCompletion:162,requestSn:26,deviceConfig:9,pinResponse:36,selectionResponse:37,displayResp:39,tipCashbackReport:48}),this.initialNotification=[0],this.clearSessionCmd=[1,2,0]}};var te=class extends ee{constructor(e,t){super(e,t),this.deviceType=l}};var ie=class extends ee{constructor(e,t){super(e,t),this.deviceType="dynaProGo"}};function ae(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var se=class extends q{constructor(e,t){super(e,t),ae(this,"trackIndices",e=>Object.freeze({track1DecodeStatus:e,track2DecodeStatus:e+1,track3DecodeStatus:e+2,track1Len:e+3,track2Len:e+4,track3Len:e+5,cardEncodeType:e+6,track1Start:e+7,track1End:e+118,track2Start:e+119,track2End:e+230,track3Start:e+231,track3End:e+342,cardStatus:e+343,magnePrintStatusStart:e+344,magnePrintStatusEnd:e+347,magnePrintLen:e+348,magnePrintStart:e+349,magnePrintEnd:e+476,serialNumberStart:e+477,serialNumberEnd:e+492,deviceEncStatusStart:e+493,deviceEncStatusEnd:e+494,ksnStart:e+495,ksnEnd:e+504,track1MaskedLen:e+505,track2MaskedLen:e+506,track3MaskedLen:e+507,track1MaskedStart:e+508,track1MaskedEnd:e+619,track2MaskedStart:e+620,track2MaskedEnd:e+731,track3MaskedStart:e+732,track3MaskedEnd:e+843,encSessionIdStart:e+844,encSessionIdEnd:e+851,track1AbsLen:e+852,track2AbsLen:e+853,track3AbsLen:e+854,magnePrintAbsLen:e+855})),ae(this,"parseHidData",e=>{let t=this.trackIndices(this.offset),i={};return this.dataNames.forEach(a=>{let s=e.slice(t[`${a}Start`],t[`${a}End`]+1);t.hasOwnProperty(`${a}Len`)&&(s=s.slice(0,e[t[`${a}Len`]])),i="track2Masked"===a?this.formatTrack2Masked(i,a,this.bufferToUtf8(s)):t.hasOwnProperty(`${a}DecodeStatus`)?this.formatTrackWithDecode(i,a,e[t[`${a}DecodeStatus`]],this.convertArrayToHexString(s)):"serialNumber"===a?this.formatSerialNumber(i,s):{...i,[a]:a.toLowerCase().includes("masked")?this.bufferToUtf8(s):this.convertArrayToHexString(s)}}),{swipeData:{...i}}}),ae(this,"formatSerialNumber",(e,t)=>({...e,serialNumber:this.bufferToUtf8(t.length>7?t.slice(0,7):t)})),ae(this,"formatTrack2Masked",(e,t,i)=>({...e,[t]:i,...this.formatExpPAN(i)})),ae(this,"formatTrackWithDecode",(e,t,i,a)=>({...e,[t]:a,[`${t}DecodeStatus`]:0===i?"Ok":"Error",[`${t}DecodeStatusCode`]:i})),this.dataNames=["track1","track2","track3","ksn","magnePrint","magnePrintStatus","serialNumber","encSessionId","track1Masked","track2Masked","track3Masked"],this.offset=3}};function re(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ne=class extends se{constructor(e,t){super(e,t),re(this,"parseTransactionStatus",e=>{let t=this.readTwoByteLength([e[1],e[2]]),i=e.slice(3);return i.length===t?this.parseNotifications(i):this.throwLenErr()}),re(this,"parseNotifications",e=>{let t=e.slice(6),i=this.readTwoByteLength([t[0],t[1]]),a=t.slice(2),s=a[0],r=a[2];return a.length===i?{transactionStatus:{statusCode:s,statusMsg:this.TrxStatusEnum[s]||"Status code message not documented",progressCode:r,progressMsg:this.TrxProgressIndicator[r]||"Progress code message not documented"}}:this.throwLenErr()}),this.TrxStatusEnum=Object.freeze({0:"Transaction Started and Idle",1:"Card is Inserted",2:"Error",3:"Transaction Progress Change",4:"Waiting for User Response",5:"Timed Out",6:"Transaction Complete",7:"Cancelled by Host",8:"Card Removed",9:"Contactless Token Detected, Powering Up Card",10:"MSR Swipe Detected"}),this.TrxProgressIndicator=Object.freeze({0:"No transaction in progress",1:"Waiting for cardholder to present payment",2:"Powering up the card",3:"Selecting the application",4:"Waiting for user language selection",5:"Waiting for user application selection",6:"Initiating application",7:"Reading application data",8:"Offline data authentication",9:"Process restrictions",10:"Cardholder verification",11:"Terminal risk management",12:"Terminal action analysis",13:"Generating first application cryptogram",14:"Card action analysis",15:"Online processing",16:"Waiting online processing response",17:"Transaction Complete",18:"Transaction Error",19:"Transaction Approved",20:"Transaction Declined",21:"Transaction Cancelled by MSR Swipe",22:"EMV error - Conditions Not Satisfied",23:"EMV error - Card Blocked",24:"Application selection failed",25:"EMV error - Card Not Accepted",26:"Empty Candidate List",27:"Application Blocked",41:"Contactless Remove Card",42:"Collision Detected",43:"Refer to Mobile Device Prompt",44:"Contactless Transaction Complete",45:"Request Switch to ICC/MSR - Kernel has refused contactless payment",46:"Wrong Card Type (MSD or EMV)",47:"No Application Interchange Profile (Tag 82) Received",49:"Magnetic stripe decoding error.",60:"Magnetic stripe decoding during Technical Fallback. Revert to MSR, powering up but not receiving an Answer to Reset from card.",61:"Magnetic stripe card decoded during MSR Fallback. Device reverted to MSR, but encountered fatal errors.",62:"Magnetic stripe card decoded during a No Fallback MSR read."})}};function oe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ce=class extends ne{constructor(e,t){super(e,t),oe(this,"parseEmvData",(e,t)=>t?{arqcData:this.convertArrayToHexString(e.slice(11)),arqcDataParsed:this.tlvParser(e.slice(13),!0)}:{signatureRequired:128===e[11]?"CBC-MAC checked in ARQC online response":1===e[11],batchData:this.convertArrayToHexString(e.slice(11)),batchDataParsed:this.tlvParser(e.slice(14),!0)}),oe(this,"parseEmvCommandResponse",e=>{const t=e.slice(4,6);return parseInt(t.join(""))?{code:parseInt(this.convertArrayToHexString(t),16),name:"StartTransactionError",message:this.emvResultCodes[t[1]]||"Transaction Error Message not yet documented"}:{code:0,message:"Success, transaction has started"}}),oe(this,"parseUserSelectionRequest",e=>({userSelectionRequest:{selectionType:0===e[0]?"Application Selection":"Language Selection",timeRemaining:e[1],menuItems:this.convertArrayToHexString(e.slice(2))}})),this.emvResultCodes=Object.freeze({129:"Failure, DUKPT scheme is not loaded",130:"Failure, DUKPT scheme is loaded but all of its keys have been used",131:"Failure, DUKPT scheme is not loaded (Security Level not 3 or 4)",132:"Invalid Total Transaction Time Field",133:"Invalid Card Type Field",134:"Invalid Options Field",135:"Invalid Amount Authorized Field",136:"Invalid Transaction Type Field",137:"Invalid Cash Back Field",138:"Invalid Transaction Currency Code Field",142:"Invalid Reporting Option",143:"Transaction Already In Progress",145:"Invalid Device Serial Number",150:"Invalid System Date and Time"})}};function he(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var de=class extends ce{constructor(e,t){super(e,t),he(this,"getCardServiceBase",e=>new Promise((t,i)=>this.device?this.connectAndCache(e).then(e=>e.getCharacteristic(this.cardDataNotification)).then(e=>(this.logDeviceState(`[GATT NOTIFICATIONS]: Request to cache characteristics, start notifications, and attach listeners. || ${new Date}`),e.startNotifications())).then(e=>(e.removeEventListener("characteristicvaluechanged",this.cardDataHandler),e.addEventListener("characteristicvaluechanged",this.cardDataHandler),this.cardDataListener=e,Promise.resolve())).then(()=>this.cardService.getCharacteristic(this.commandCharId)).then(e=>(this.commandCharacteristic=e,window&&(window.removeEventListener("beforeunload",this.onDestroyHandler),window.addEventListener("beforeunload",this.onDestroyHandler)),Promise.resolve())).then(()=>this.cardService.getCharacteristic(this.dataReadyId)).then(e=>e.startNotifications()).then(e=>(e.removeEventListener("characteristicvaluechanged",this.dataReadyHandler),e.addEventListener("characteristicvaluechanged",this.dataReadyHandler),this.dataReadyCharacteristic=e,Promise.resolve())).then(()=>this.cardService.getCharacteristic(this.dataReadStatusId)).then(e=>(this.dataReadStatusCharacteristic=e,this.logDeviceState(`[GATT NOTIFICATIONS]: Success! Cached characteristics, started notifications, and attached listeners. || ${new Date}`),t({code:0,message:"Device Open"}))).catch(e=>i(e)):i(this.buildDeviceErr(R)))),he(this,"dataReadyHandler",e=>{let t=e.target.value,i=this.readByteArray(t);this.logDeviceState(`dataReady listener: ${this.convertArrayToHexString(i)}`),this.commandSent&&(this.commandRespAvailable=!0,this.commandSent=!1)}),he(this,"cardDataHandler",e=>{let t=e.target.value;if(255!==t.getUint8(0)){let e=this.readByteArray(t);this.rawData={...this.rawData,[e[0]]:e.slice(1)}}else{if(this.maxBlockId=t.getUint8(1),this.checkNotificationLength()){if(this.initialNotification=this.rleFormats[this.rawData[0][0]]?this.decodeRLE(this.rawData[0]):this.rawData[0],this.logDeviceState(this.rawData),0===this.initialNotification[0]||1===this.initialNotification[0])return this.returnToUser(this.transactionCallback)(this.parseHidData(this.buildInitialDataArray(!0)));{let e=this.convertArrayToHexString([this.initialNotification[7],this.initialNotification[8]]);return this.findNotificationType(e)}}this.sendErrToCallback(this.throwLenErr())}}),he(this,"findNotificationType",e=>{let t=this.buildInitialDataArray(!0);switch(e){case"0300":return this.logDeviceState("==Transaction Status=="),this.returnToUser(this.transactionStatusCallback)(this.parseTransactionStatus(t));case"0301":return this.logDeviceState("==Display Message Request=="),this.returnToUser(this.displayCallback)({displayMessage:this.bufferToUtf8(t.slice(11))});case"0302":return this.logDeviceState("==User Selection Request=="),this.logDeviceState(this.convertArrayToHexString(t)),this.returnToUser(this.transactionStatusCallback)(this.parseUserSelectionRequest(buildNotification));case"0303":return this.logDeviceState("==ARQC Message=="),this.returnToUser(this.transactionCallback)(this.parseEmvData(t,!0));case"0304":return this.logDeviceState("==Batch Data Message=="),this.returnToUser(this.transactionCallback)(this.parseEmvData(t,!1));default:this.logDeviceState(`Undocumented Notification ID: ${e}`,t),this.logDeviceState(this.convertArrayToHexString(t))}}),he(this,"startTransaction",e=>new Promise((t,i)=>this.device.gatt.connected?this.sendCommandWithResp(this.buildEmvCommand(e||{})).then(a=>{let s=this.parseEmvCommandResponse(a);return this.logDeviceState(s),0===s.code?t(s):918!==s.code?i(this.buildDeviceErr(s)):this.setDeviceDateTime().then(()=>this.delayPromise(500)).then(()=>t(this.startTransaction(e)))}).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(O)))),he(this,"buildEmvCommand",e=>{let{timeout:t,cardType:i,transactionType:a,cashBack:s,currencyCode:r,reportVerbosity:n,emvOptions:o,authorizedAmount:c}=e;console.log(`timeout: ${t} || cardType: ${i} || transactionType: ${a} || emvOptions: ${o} || authorizedAmount: ${c} || cashBack: ${s} || currencyCode: ${r} || reportVerbosity: ${n}`);let h=[...this.emvCommandBase,t||60,i?this.cardTypes(i.toLowerCase()):3,void 0!==o?this.emvOptions[o.toLowerCase()]:128];return console.log("base command: ",h),h=c?h.concat(this.convertNumToAmount(c)):h.concat([0,0,0,0,1,0]),h=a?h.concat(this.transactionTypes[a.toLowerCase()]||0):h.concat(0),h=s?h.concat(this.convertNumToAmount(s)):h.concat(this.newArrayPartial(0,6)),h=r?h.concat(this.currencyCode[r.toLowerCase()]||this.currencyCode.default):h.concat([8,64]),h.push(n?this.statusVerbosity[n.toLowerCase()]||0:1),h}),he(this,"readCommandValue",()=>new Promise(e=>this.commandCharacteristic.readValue().then(t=>e(this.readByteArray(t))))),he(this,"readBatteryLevel",()=>new Promise(e=>this.sendCommandWithResp([69,0]).then(t=>e(t[2])))),he(this,"checkNotificationLength",()=>Math.max(...Object.keys(this.rawData))===this.maxBlockId-1),he(this,"sendCommandWithResp",e=>new Promise((t,i)=>this.commandCharacteristic?(this.logDeviceState(`Sending command: ${this.convertArrayToHexString(e)}`),this.commandSent=!0,this.commandCharacteristic.writeValue(Uint8Array.from(e)).then(()=>this.commandRespAvailable?Promise.resolve(!0):this.waitForDeviceResponse(15)).then(e=>(this.commandRespAvailable=!1,e?this.readCommandValue():i(this.buildDeviceErr(L)))).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e)))):i(this.buildDeviceErr(B)))),he(this,"returnToUser",e=>t=>(this.initialNotification=null,this.maxBlockId=null,this.rawData={},e(t))),he(this,"buildDateTimeCommand",e=>{let t=[73,34,0,0,3,12,0,28];t=t.concat(this.newArrayPartial(0,17));const i=e instanceof Date?e:new Date;return t.push(this.castDecToHex(i.getMonth()+1)),t.push(this.castDecToHex(i.getDate())),t.push(this.castDecToHex(i.getHours())),t.push(this.castDecToHex(i.getMinutes())),t.push(this.castDecToHex(i.getSeconds())),t.push(0),t.push(this.castDecToHex(i.getFullYear()-2008)),t=t.concat(this.newArrayPartial(0,4)),t}),he(this,"setDeviceDateTime",e=>new Promise((t,i)=>this.sendCommandWithResp(this.buildDateTimeCommand(e)).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e))))),he(this,"getKsn",()=>new Promise((e,t)=>this.device.gatt.connected?this.sendCommandWithResp([9,0]).then(e=>this.convertArrayToHexString(e.slice(2))).then(t=>e(t)):t(this.buildDeviceErr(I)))),he(this,"getDeviceSn",()=>new Promise(e=>this.sendCommandWithResp([0,1,3]).then(e=>this.bufferToUtf8(e.slice(2))).then(t=>e(t)))),he(this,"gatherDeviceInfo",()=>new Promise((e,t)=>{let i,a;this.readBatteryLevel().then(e=>(i=e,this.getDeviceSn())).then(t=>(a=t,e([i,a]))).catch(e=>t(e))})),he(this,"getDeviceInfo",()=>new Promise((e,t)=>this.device.gatt.connected?this.gatherDeviceInfo().then(t=>e({deviceName:this.device.name,deviceType:this.deviceType,batteryLevel:t[0],serialNumber:t[1],isConnected:this.device.gatt.connected})).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(O)))),he(this,"sendUserSelection",e=>new Promise((t,i)=>this.device.gatt.connected?this.sendCommandWithResp([73,8,0,0,3,2,0,2,0,e]).then(e=>(this.logDeviceState(`[User Selection Resp]: ${this.convertArrayToHexString(e)}`),t({userSelectionResponse:this.resultCodes[this.convertArrayToHexString(e.slice(4,6))]||"Unknown or undocumented result code"}))).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(O)))),he(this,"buildArpcCommand",(e,t)=>[73,e+6,0,0,3,3,0,e,...t]),he(this,"sendArpc",e=>new Promise((t,i)=>this.sendArpcBase(e).then(e=>this.sendCommandWithResp(e)).then(e=>{this.logDeviceState(`[Send ARPC Resp]: ${this.convertArrayToHexString(e)}`);const i=e.length>5?this.convertArrayToHexString(e.slice(4,6)):"";return t({sendArpcResponse:this.resultCodes[i]||"Unknown or undocumented result code"})}).catch(e=>i(this.buildDeviceErr(e))))),he(this,"clearGattCache",()=>{window&&window.removeEventListener("beforeunload",this.onDestroyHandler),this.maxBlockId=null,this.initialNotification=null,this.rawData={},this.dataReadStatusCharacteristic=null,this.dataReadyCharacteristic=null,this.commandCharacteristic=null,this.cardDataListener=null}),he(this,"ceaseNotifications",()=>new Promise(e=>this.cardDataListener?this.cardDataListener.stopNotifications().then(()=>(this.cardDataListener.removeEventListener("characteristicvaluechanged",this.cardDataHandler),this.dataReadStatusCharacteristic.stopNotifications())).then(()=>(this.dataReadyCharacteristic.removeEventListener("characteristicvaluechanged",this.dataReadyHandler),e())):e())),he(this,"cancelTransaction",()=>new Promise((e,t)=>this.commandCharacteristic?this.commandCharacteristic.writeValue(this.cancelEmvCommand).then(()=>e()).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(B)))),he(this,"closeDevice",()=>new Promise((e,t)=>this.device.gatt.connected?this.ceaseNotifications().then(()=>(this.clearGattCache(),this.disconnect())).then(()=>e({code:0,message:"Device Closed"})).catch(e=>t(this.buildDeviceErr(e))):e({code:0,message:"Device Closed"}))),he(this,"clearSession",()=>new Promise((e,t)=>this.device&&this.device.gatt.connected?e("SCRA devices do not carry a session"):t(this.buildDeviceErr(O)))),this.transactionCallback=t.transactionCallback||t,this.displayCallback=t.displayCallback,this.transactionStatusCallback=t.transactionStatusCallback,this.userSelectionCallback=t.userSelectionCallback,this.maxBlockId=null,this.initialNotification=null,this.rawData={},this.dataReadStatusCharacteristic=null,this.dataReadyCharacteristic=null,this.commandCharacteristic=null,this.cardDataListener=null,this.cardDataNotification="0508e6f8-ad82-898f-f843-e3410cb60201",this.commandCharId="0508e6f8-ad82-898f-f843-e3410cb60200",this.dataReadyId="0508e6f8-ad82-898f-f843-e3410cb60202",this.dataReadStatusId="0508e6f8-ad82-898f-f843-e3410cb60203",this.emvOptions=Object.freeze({normal:0,bypasspin:1,forceonline:2,quickchip:128,pinbypassquickchip:129,forceonlinequickchip:130}),this.resultCodes=Object.freeze({"0000":"Success","038B":"Invalid Selection Status","038C":"Invalid Selection Result","038D":"Failure, no transaction currently in progress","038F":"Failure, transaction already in progress"}),this.emvCommandBase=[73,25,0,0,3,0,0,19],this.cancelEmvCommand=Uint8Array.of(73,6,0,0,3,4,0,0)}};function le(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ue=class extends de{constructor(e,t){super(e,t),le(this,"getCardService",()=>new Promise((e,t)=>this.getCardServiceBase(1).then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))))),le(this,"requestCardSwipe",()=>new Promise((e,t)=>this.device.gatt.connected?e({code:0,message:d}):this.getCardServiceBase(1).then(()=>e({code:0,message:d})).catch(e=>t(this.buildDeviceErr(e))))),this.deviceType="eDynamo"}};function me(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var pe=class extends de{constructor(e,t){super(e,t),me(this,"getCardService",()=>new Promise((e,t)=>this.getCardServiceBase().then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))))),me(this,"requestCardSwipe",()=>new Promise((e,t)=>this.device.gatt.connected?this.sendCommandWithResp(this.setHeadAlwaysOn).then(i=>0===parseInt(i)?e({code:0,message:d}):t(this.buildDeviceErr(H))).catch(e=>t(e)):this.getCardServiceBase().then(()=>this.sendCommandWithResp(this.setHeadAlwaysOn)).then(i=>0===parseInt(i)?e({code:0,message:d}):t(this.buildDeviceErr(H))).catch(e=>t(e)))),this.setHeadAlwaysOn=[88,1,1],this.deviceType="tDynamo"}};const ve=e=>()=>Promise.resolve(`${e?"SCRA":"PinPad"} devices do not use this command`);class ge{constructor(e){let{getCardService:t,startTransaction:i,cancelTransaction:a,sendCommandWithResp:s,clearSession:r,closeDevice:n,getDeviceInfo:o,requestCardSwipe:c,isDeviceConnected:h,disconnect:d,requestPinEntry:l,setDisplayMessage:u,sendUserSelection:m,sendArpc:p,setDeviceDateTime:v,requestTipOrCashback:g}=e;this.openDevice=t,this.startTransaction=i,this.cancelTransaction=a,this.sendCommand=s,this.clearSession=r,this.closeDevice=n,this.deviceInfo=o,this.requestCardSwipe=c,this.isDeviceOpen=h,this.forceDisconnect=d,this.requestPinEntry=l||ve(!0),this.setDisplayMessage=u||ve(!0),this.sendUserSelection=m||ve(),this.sendArpcResponse=p||(()=>Promise.resolve("Feature Pending Completion")),this.setDeviceDateTime=v||ve(),this.requestTipOrCashback=g||ve(!0)}}const fe={eDynamo:(e,t)=>new ue(e,t),tDynamo:(e,t)=>new pe(e,t),dynaProGo:(e,t)=>new ie(e,t),[l]:(e,t)=>new te(e,t)},Ce=(e,t,i)=>({id:e.id,name:e.name,deviceType:i,deviceInterface:new ge(fe[i](e,t))}),be=new RegExp(/^eDynamo-/),De=new RegExp(/^tDynamo-/),Se=new RegExp(/^DPMini/),ye=new RegExp(/^DPG/),Te=(e,t)=>{if(t){const e=(e=>{const t=["dynaProGo",l,"eDynamo","tDynamo"];let i="";for(let a=0;a<t.length;a++)if(e.toLowerCase()===t[a].toLowerCase()){i=t[a];break}return i})(t);if(console.log("[!!]: ",e),e)return e}return i=e,De.test(i)?"tDynamo":be.test(i)?"eDynamo":ye.test(i)?"dynaProGo":Se.test(i)?l:"";var i},we=(e,t,i)=>new Promise((a,n)=>{if("object"==typeof e&&void 0===e.transactionCallback)return n("When providing multiple callbacks in an object, 'transactionCallback' must be provided");e=(e=>{const t="function"==typeof(e=e||(e=>{console.warn("Callback not provided to 'scanForDevices' function. Please provide at least one callback function to this method"),console.log("transactionCallback data: ",e)})),i=i=>e[i]?e[i]:t?e:e.transactionCallback;return e.errorCallback=e.errorCallback||(e=>console.error("[MagensaBluetooth Internal Error]: ",e)),e.transactionStatusCallback=e.transactionStatusCallback||i("transactionStatusCallback"),e.userSelectionCallback=e.userSelectionCallback||i("userSelectionCallback"),e.displayCallback=e.displayCallback||i("displayCallback"),e.disconnectHandler=e.disconnectHandler||i("transactionCallback"),e})(e);const o=t?(e=>({filters:[{namePrefix:e}],optionalServices:["0508e6f8-ad82-898f-f843-e3410cb60104","0508e6f8-ad82-898f-f843-e3410cb60103","0508e6f8-ad82-898f-f843-e3410cb60101","0508e6f8-ad82-898f-f843-e3410cb60202","device_information"],keepRepeatedDevices:!1,acceptAllAdvertisements:!1}))(t):r;return navigator.bluetooth.requestDevice(o).then(t=>{const s=Te(t.name,i);return s?a(Ce(t,e,s)):(r=t,new Promise((e,t)=>{let i;return r.gatt.connect().then(e=>e.getPrimaryService("device_information")).then(e=>e.getCharacteristic("model_number_string")).then(e=>e.readValue()).then(e=>(i=new TextDecoder("utf-8").decode(e).trim(),Promise.resolve(r.gatt.disconnect()))).then(()=>e(i)).catch(i=>i.code===P.errorCode&&i.name===P.errorName&&i.message.includes("0000180a-0000-1000-8000-00805f9b34fb")?r.gatt.connected?Promise.resolve(r.gatt.disconnect()).then(()=>e("dynaProGo")):e("dynaProGo"):t(i))})).then(i=>i?a(Ce(t,e,i)):n("Selected device is not supported")).catch(e=>n(e));var r}).catch(e=>n("object"==typeof e?new s(e):"Selected device is not supported"))})}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZXJyb3JIYW5kbGVyL2FwaUVycm9yLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2NvbmZpZ3VyYXRpb25zL2luZGV4LmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3BhcnNlcnMvc3dpcGVQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3BhcnNlcnMvZW12UGFyc2VyLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2Vycm9ySGFuZGxlci9sZW5ndGhFcnJvci5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9lcnJvckhhbmRsZXIvZGV2aWNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZXJyb3JIYW5kbGVyL2luZGV4LmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2Vycm9ySGFuZGxlci9lcnJDb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy9iYXNlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvdXRpbHMvcGluVmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy91dGlscy9waW5VdGlscy5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9wYXJzZXJzL3BpbkNvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvcGFyc2Vycy9waW5TdGF0dXNQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvY29tbWFuZEJ1aWxkZXJzL3BpbkNtZEJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy9waW5QYWQuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy9keW5hUHJvTWluaS5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9kZXZpY2VzL2R5bmFQcm9Hby5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9wYXJzZXJzL3NjcmFTd2lwZVBhcnNlci5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9wYXJzZXJzL3RyeFN0YXR1c1BhcnNlci5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9wYXJzZXJzL3NjcmFFbXZQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy9zY3JhLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2RldmljZXMvZUR5bmFtby5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9kZXZpY2VzL3REeW5hbW8uanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvdXRpbHMvaW5zdGFuY2lhdGVEZXZpY2UuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvdXRpbHMvaWRlbnRpZnlEZXZpY2UuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlRW50cnkuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkFwaUVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJjb2RlIiwic3VwZXIiLCJ0aGlzIiwiYWxsRGV2aWNlQ29uZmlnIiwiZmlsdGVycyIsInNlcnZpY2VzIiwib3B0aW9uYWxTZXJ2aWNlcyIsImtlZXBSZXBlYXRlZERldmljZXMiLCJhY2NlcHRBbGxBZHZlcnRpc2VtZW50cyIsIlV0aWxpdGllcyIsImxvZ0luZm8iLCJsb2dFdmVudCIsIkN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImRldGFpbCIsImRpc3BhdGNoRXZlbnQiLCJhcnJheSIsIkFycmF5IiwiZnJvbSIsImJ5dGUiLCJ0b1N0cmluZyIsInNsaWNlIiwiam9pbiIsInRvVXBwZXJDYXNlIiwidHdvQnl0ZXMiLCJhcnJheUJ1ZmZlciIsIlRleHREZWNvZGVyIiwiZGVjb2RlIiwiVWludDhBcnJheSIsIm51bSIsInBhcnNlSW50IiwicmVwZXRpdGlvbnMiLCJmaWxsIiwiZGF0YVZpZXciLCJ2YWx1ZUFycmF5IiwiYnl0ZUxlbmd0aCIsInB1c2giLCJnZXRVaW50OCIsImhleFN0cmluZyIsImFzY2lpUmVzcCIsImxlbmd0aCIsInN1YnN0ciIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInN1YnN0cmluZyIsInRyaW0iLCJoZXhTdHIiLCJieXRlcyIsImN1cnJlbnQiLCJhcnJheVNlZ21lbnQiLCJpbml0aWFsTGVuZ3RoIiwicmV0dXJuU2VnbWVudCIsIm5leHRJbmRleCIsIm5ld0FycmF5UGFydGlhbCIsImNoZWNrRm9yUmxlIiwicmV0dXJuQXJyYXkiLCJNYXRoIiwibWluIiwia2V5cyIsInJhd0RhdGEiLCJtYXhCbG9ja0lkIiwiY29uY2F0IiwiY2hlY2tSbGUiLCJybGVGb3JtYXRzIiwiaW5pdGlhbE5vdGlmaWNhdGlvbiIsImRlY29kZVJMRSIsImN1cnJlbmN5U3RyaW5nIiwiY3VycmVuY3kiLCJ0b0xvd2VyQ2FzZSIsIm9wdGlvbmFsTGVuIiwic3RyaW5nTnVtIiwicmV0dXJuQXJyIiwiZGVsYXkiLCJwYXNzZWRWYWx1ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImJ5dGVBcnJheSIsImNvbnZlcnRBcnJheVRvSGV4U3RyaW5nIiwiZnJlZXplIiwiMCIsIlN3aXBlUGFyc2VyIiwic3RyaW5nRGF0YSIsImJ1ZmZlclRvVXRmOCIsImluZGV4T2YiLCJmb3JtYXR0ZWRTdHJpbmciLCJzcGxpdEV4cFBBTiIsIm1hc2tlZFBBTiIsIkxhc3Q0IiwiZXhwaXJhdGlvbkRhdGUiLCJzZXJ2aWNlQ29kZSIsImV4cFBBTiIsInJlcGxhY2UiLCJzcGxpdCIsImV4cCIsImZvcm1hdHRlZEV4cCIsInN3aXBlTGlzdGVuaW5nIiwiZHBNaW5pIiwiY29uZmlnU3RyIiwidW5rbm93biIsIm5vU2Vzc2lvblRvQ2xlYXIiLCJnYXR0QnVzeSIsInN1Y2Nlc3NmdWxDbG9zZSIsImNhcmRUeXBlQWxsIiwiY2FyZFR5cGVzT2JqIiwiRW12UGFyc2VyIiwiZGF0YSIsImlzTXNyIiwiaVRhZyIsImJ5dGVWYWx1ZSIsImxlbmd0aFZhbHVlIiwiZGF0YUxlbmd0aCIsInJlc3VsdCIsImlUTFYiLCJiVGFnIiwidGFnQnl0ZXMiLCJUYWdCdWZmZXIiLCJiTW9yZVRhZ0J5dGVzIiwibW9yZVRhZ0J5dGVzRmxhZzEiLCJtb3JlVGFnQnl0ZXNGbGFnMiIsIm1vcmVMZW5ndGhGbGFnIiwibkxlbmd0aEJ5dGVzIiwib25lQnl0ZUxlbmd0aE1hc2siLCJpTGVuIiwidGFnQnl0ZSIsImxlbiIsInZhbHVlQnl0ZXMiLCJoZXhPckFzY2lpRm9ybWF0dGVyIiwiY29uc3RydWN0ZWRGbGFnIiwidHJ4U3RhdHVzVG9TdHJpbmciLCJoZXhUb0FzY2lpIiwiTGVuZ3RoRXJyb3IiLCJEZXZpY2VFcnJvciIsIkVycm9ySGFuZGxlciIsImNhbGxiYWNrcyIsImVyciIsIkRPTUV4Y2VwdGlvbiIsImVycm9yQ2FsbGJhY2siLCJub3RGb3VuZE9iaiIsImVycm9yQ29kZSIsImVycm9yTmFtZSIsImFwaU5ldHdvcmtFcnIiLCJkZXZpY2VOb3RGb3VuZCIsImdhdHRTZXJ2ZXJOb3RDb25uZWN0ZWQiLCJjb21tYW5kTm90U2VudCIsImRldmljZU5vdE9wZW4iLCJjb21tYW5kTm90U2VudEZyb21Ib3N0IiwicmVhZEZhaWxlZCIsInJlc3BvbnNlTm90UmVjZWl2ZWQiLCJnZXRTZXJ2aWNlRmFpbCIsImNvbW1hbmROb3RBY2NlcHRlZCIsIm1pc3NpbmdSZXF1aXJlZEZpZWxkcyIsImZpZWxkTmFtZSIsIndyb25nSW5wdXRUeXBlcyIsImFjY2VwdGFibGVUeXBlcyIsInByb3BlcnR5TmFtZSIsIndyb25nSW5wdXRWYWx1ZXMiLCJhY2NlcHRhYmxlVmFscyIsIkRldmljZUJhc2UiLCJkZXZpY2UiLCJjYXJkVHlwZVN0ciIsImRldmljZVR5cGUiLCJyZWplY3QiLCJsb2dEZXZpY2VTdGF0ZSIsIkRhdGUiLCJnYXR0IiwiY29ubmVjdCIsInRoZW4iLCJzZXJ2ZXIiLCJnYXR0U2VydmVyIiwiYnVpbGREZXZpY2VFcnIiLCJjb25uZWN0ZWQiLCJkaXNjb25uZWN0Iiwic2VydmljZUluZGV4IiwiZmluZFByaW1hcnlTZXJ2aWNlIiwic2VydmljZSIsImNhdGNoIiwiZ2V0UHJpbWFyeVNlcnZpY2UiLCJkZXZpY2VVVUlEcyIsImNhcmRTZXJ2aWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2Nvbm5lY3RIYW5kbGVyIiwib3B0aW9uYWxJbmRleCIsInRyeVRvQ29ubmVjdCIsInRyeUNvdW50IiwiaW5uZXJSZXNvbHZlIiwiaW5uZXJSZWplY3QiLCJjYWNoZUNhcmRTZXJ2aWNlQmFzZSIsImNhY2hlU2VydmljZVJlc3AiLCJjbGVhckdhdHRDYWNoZSIsImFycGNSZXNwIiwiZGF0YUxlbiIsImlucHV0RGF0YSIsImhleFRvQnl0ZXMiLCJidWlsZEFycGNDb21tYW5kIiwibWF4VHJpZXMiLCJ3YWl0Rm9yUmVzcG9uc2UiLCJ0cnlOdW1iZXIiLCJjb21tYW5kUmVzcEF2YWlsYWJsZSIsImV2ZW50IiwiZGlzY29ubmVjdENhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0YXR1c1ZlcmJvc2l0eSIsImN1cnJlbmN5Q29kZSIsInRyYW5zYWN0aW9uVHlwZXMiLCJQaW5WYWxpZGF0aW9uIiwiY2FsbEJhY2tzIiwicGFyZW50UmVqZWN0IiwiYW1vdW50IiwicHJvcE5hbWUiLCJkZWZhdWx0VmFsIiwiY29udmVydE51bVRvQW1vdW50IiwidmFsaWRhdGlvbkNvbmZpZyIsInByb3AiLCJ2YWxpZFR5cGVzIiwidmFsaWRWYWx1ZXMiLCJjb25kaXRpb24iLCJ0eXBlSXNWYWxpZCIsImluZHgiLCJ2YWxzQXJlVmFsaWQiLCJpbmRleCIsIlBpblV0aWxzIiwiYmluYXJ5TnVtIiwibnVsbFRlcm1pbmF0ZWRBcnJheSIsInRhcmdldEluZGV4IiwibWF4TGVuIiwibWluTGVuIiwibWF4TGVuZ3RoIiwibWluTGVuZ3RoIiwibGFuZ3VhZ2VTZWxlY3Rpb24iLCJ3YWl0TWVzc2FnZSIsInZlcmlmeVBpbiIsInBpbkJsb2NrRm9ybWF0IiwibGFuZ3VhZ2VQcm9tcHRzIiwiYmluYXJ5UmVzdWx0IiwiZGlzYWJsZWQiLCJoZXhOdW0iLCJQYXJzZVBpbkNvbmZpZyIsImNvbmZpZ0FyciIsImZpcnN0RGV2aWNlQ29udHJvbEJ5dGUiLCJkZWNpbWFsVG9CaW5hcnkiLCJzZWNvbmREZXZpY2VDb250cm9sQnl0ZSIsIm1hc2tDb25maWd1cmF0aW9uQnl0ZSIsIm1zckNvbmZpZ3VyYXRpb25CeXRlIiwibWFza0NoYXJhY3RlciIsImZpbmRNYXNrQ2hhcmFjdGVyIiwibGVhZGluZ1VubWFza2VkTGVuZ3RoIiwidHJhaWxpbmdVbm1hc2tlZExlbmd0aCIsImVtdkwySWNzQ29uZmlnIiwiZW12TDJDb25maWdPcHRpb25zIiwiY29udGFjdGxlc3NDb25maWciLCJjb250YWN0bGVzc0J5dGUiLCJjb250YWN0bGVzc1N1cHBvcnQiLCJlbmFibGVkQnJhbmRzIiwiY29udGFjdGxlc3NHdWlDb250cm9scyIsIm51bUNoYXIiLCJudW1DaGFyVG9IZXgiLCJudW1DaGFyVG9Bc2NpaSIsImRldmljZUNvbnRyb2xCeXRlIiwicmVxdWlyZU11dHVhbEF1dGgiLCJzdHJpbmdOdW1Ub0Jvb2wiLCJtc3JFbmNyeXB0aW9uVmFyaWFudCIsImlzQ2xlYXJUZXh0RW5hYmxlZCIsImlzQmVlcGVyTW9kZUVuYWJsZWQiLCJpc0JpdG1hcExvY2tlZCIsImlzQ29uZmlndXJhdGlvbkxvY2tlZCIsImRldmljZUN0cmxCeXRlIiwiaXNBcnBjTWFjRW5hYmxlZCIsImlzRmluYW5jaWFsSWNjQ2FyZFR5cGVSZXBvcnRpbmdFbmFibGVkIiwiYXJxY0JhdGNoRGF0YU91dHB1dEZvcm1hdCIsIm1hc2tDb25maWdCeXRlIiwiaXNJc29NYXNrRW5hYmxlZCIsImlzQ2hlY2tEaWdpdEVuYWJsZWQiLCJpc01zMlBvaW50MEVuYWJsZWQiLCJtc3JDb25maWdCeXRlIiwiaXNBQU1WQWNhcmRFbmFibGVkIiwidHJhY2szRGF0YSIsInRyYWNrRGF0YU9wdGlvbnMiLCJ0cmFjazJEYXRhIiwidHJhY2sxRGF0YSIsIlBpblN0YXR1c1BhcnNlciIsImNhcmRIb2xkZXJTdGF0dXNCeXRlIiwiZW12Q2FyZGhvbGRlclN0YXR1cyIsImNhcmRob2xkZXJTdGF0dXNJZHMiLCJzdGF0dXNJZCIsIm9wZXJhdGlvblN0YXR1cyIsImRpc3BsYXlTdGF0dXMiLCJmaW5kT3BlcmF0aW9uU3RhdHVzIiwiY29tbWFuZFJlc3AiLCJlbXZDb21wbGV0aW9uUmVzcG9uc2UiLCJkZXZpY2VTZXJpYWxOdW1iZXIiLCJmaW5kTnVsbFRlcm1pbmF0ZWRTdHJpbmciLCJiaWdCbG9ja0RhdGEiLCJhcnFjQXJyaXZpbmciLCJhcnFjVG90YWxMZW4iLCJyZWFkVHdvQnl0ZUxlbmd0aCIsImJhdGNoRGF0YUFycml2aW5nIiwiYmF0Y2hUb3RhbExlbiIsInRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2siLCJidWZmZXJUeXBlIiwiYnVmZmVyVHlwZXMiLCJhcnFjIiwiYnVpbGRJbml0aWFsRGF0YUFycmF5IiwiZGF0YUZvckFycWMiLCJjYXJkRGF0YU9iaiIsImFycWNEYXRhIiwiYXJxY0RhdGFQYXJzZWQiLCJ0bHZQYXJzZXIiLCJpc1F1aWNrQ2hpcFRyYW5zYWN0aW9uIiwidHJhbnNhY3Rpb25DYWxsYmFjayIsImJhdGNoIiwiZGF0YUZvckJhdGNoIiwidHJhbnNhY3Rpb25IYXNTdGFydGVkIiwiaGFzVGlwIiwicGFyc2VkQmF0Y2hEYXRhIiwiaXNTaWduYXR1cmVSZXF1aXJlZCIsImZpbmQiLCJ0YWciLCJiYXRjaERhdGEiLCJiYXRjaERhdGFQYXJzZWQiLCJzaWduYXR1cmVSZXF1aXJlZCIsImhhbmRsZUFycWNCaWdCbG9ja0ZpbmlzaCIsImhhbmRsZUJhdGNoQmlnQmxvY2tGaW5pc2giLCJjYXJkaG9sZGVyUmVzcCIsImZpbmRFbXZDYXJkaG9sZGVyU3RhdHVzIiwiaXNBbW91bnRDb25maXJtZWQiLCJhcHBsaWNhdGlvbk9yTGFiZWxOYW1lIiwibWV0aG9kU2VsZWN0ZWQiLCJ0bHZEYXRhIiwicGFyc2VkVGx2RGF0YSIsInVuZG9jdW1lbnRlZERhdGEiLCJjYXJkU3RhdHVzIiwiY2FyZFR5cGUiLCJjYXJkVHlwZXNFbnVtIiwiYWNrUmVzcCIsIkFDS1NUUyIsImNvbW1hbmRUeXBlIiwicGluQ29tbWFuZElkcyIsImRldmljZVJlc3AiLCJkZXZpY2VTdGF0ZSIsInNlc3Npb25TdGF0ZSIsInBhcnNlU2Vzc2lvblN0YXRlIiwiZGV2aWNlU3RhdHVzIiwicGFyc2VEZXZpY2VTdGF0dXMiLCJkZXZpY2VDZXJ0U3RhdHVzIiwicGFyc2VDZXJ0U3RhdHVzIiwiaGFyZHdhcmVTdGF0dXMiLCJwYXJzZUhhcmR3YXJlU3RhdHVzIiwiYWRkaXRpb25hbEluZm8iLCJwYXJzZUFkZGl0aW9uYWxJbmZvIiwiYmluYXJ5U3RyaW5nIiwicG93ZXJEaWRDaGFuZ2UiLCJjYXJkRGF0YUlzQXZhaWxhYmxlIiwicGFuUGFyc2VkRnJvbUNhcmQiLCJleHRlcm5hbFBhblNlbnQiLCJhbW91bnRXYXNTZW50IiwibXNyQ3JsQ2VydEV4aXN0cyIsInBpbkNybENlcnRFeGlzdHMiLCJtZmdVbmJpbmRDZXJ0RXhpc3RzIiwibXNyQ2FDZXJ0RXhpc3RzIiwicGluQ2FDZXJ0RXhpc3RzIiwiZGV2aWNlQ2FDZXJ0RXhpc3RzIiwiZGV2aWNlQ2VydEV4aXN0cyIsInBpbktleVN0YXR1cyIsInBpbktleVN0YXR1c0VudW0iLCJtc3JLZXlTdGF0dXMiLCJtc3JLZXlTdGF0dXNFbnVtIiwidGFtcGVyRGV0ZWN0ZWQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJkZXZpY2VFcnJvckRldGVjdGVkIiwiSUUzX29ubHkiLCJTUkVEIiwiTWFnSGVhZElzUHJvZ3JhbW1lZCIsInRhbXBlclNlbnNvcnNBcmVBY3RpdmUiLCJJQ0NfQWNxdWlyZXJNYXN0ZXJLZXlJc0luamVjdGVkIiwiSUNDX1Nlc3Npb25LZXlJc0FjdGl2ZSIsIkNBUEtfRW12RGF0YWJhc2VJc0NvcnJ1cHRlZCIsIkVtdlRlcm1pbmFsRGF0YWJhc2VJc0NvcnJ1cHRlZCIsImNhcmRJc1ByZXNlbnRJbkNoaXBDYXJkQ29ubmVjdG9yIiwicGFydGlhbE5vdGlmaWNhdGlvbiIsInRyYWNrS2V5IiwiY2FyZERhdGFJZHMiLCJmb3JtYXRFeHBQQU4iLCJrc24iLCJtYWduZVByaW50U3RhdHVzIiwiY29udmVydFN0YXR1c1RvU3RyaW5nIiwicGluUmVzcCIsInBpbkRhdGEiLCJwaW5Lc24iLCJlbmNyeXB0ZWRQaW5CbG9jayIsInNlbGVjdGlvblJlc3AiLCJkZXZpY2VLZXlzIiwia2V5UHJlc3NlZCIsInJlcG9ydCIsInRpcENhc2hiYWNrUmVwb3J0IiwicmVwb3J0TW9kZSIsInRheCIsInRheFJhdGUiLCJ0aXBPckNhc2hiYWNrQW1vdW50IiwiUGluQ21kQnVpbGRlciIsInRpbWVvdXQiLCJpc0ZhbGxiYWNrIiwidG9uZUNob2ljZSIsImRpc3BsYXlUeXBlIiwiZGlzcGxheVR5cGVzIiwicGluVGltZW91dCIsInRyYW5zYWN0aW9uVHlwZSIsImNhc2hCYWNrIiwiaXNRdWlja0NoaXAiLCJhdXRob3JpemVkQW1vdW50IiwiZW12T3B0aW9ucyIsInRheEFtb3VudCIsInRheFBlcmNlbnQiLCJ0aXBBbW91bnQiLCJiYWxhbmNlQmVmb3JlR2VuQUMiLCJiYWxhbmNlQWZ0ZXJHZW5BQyIsInRyeENhdGVnb3J5Q29kZSIsInZhbGlkYXRvciIsInZhbGlkYXRlQW1vdW50IiwiY29tbWFuZCIsImNhcmRUeXBlcyIsImF1dGhBbW91bnQiLCJjYXNoYmFja0FtbnQiLCJiYWxhbmNlQmVmb3JlQW1udCIsImJhbGFuY2VBZnRlckFtbnQiLCJkb2xsYXIiLCJ0YXhBbW50IiwidGlwQW1udCIsIm1heFBpbkxlbmd0aCIsIm1pblBpbkxlbmd0aCIsInBpbkRpc3BsYXlPcHRpb25zIiwiZmluZFBpbkxlbmd0aCIsImJ1aWxkUGluT3B0aW9uc0J5dGUiLCJzZW5kQmlnQmxvY2tEYXRhIiwidHJhbnNhY3Rpb25BbW91bnQiLCJjYWxjdWxhdGVkVGF4QW1vdW50IiwidGlwU2VsZWN0aW9uTW9kZSIsImxlZnRCdXR0b24iLCJtaWRkbGVCdXR0b24iLCJyaWdodEJ1dHRvbiIsInByb3BzVG9WYWxpZGF0ZSIsInZhbGlkYXRlUmVxdWlyZWRJbnB1dHMiLCJ0aXBDYXNoYmFja0NtZCIsIm9uZWJlZXAiLCJ0cnhBbW50IiwiY2FsY1RheEFtbnQiLCJidWlsZE4yRm9ybWF0IiwiZGlzcGxheVRpbWUiLCJtZXNzYWdlSWQiLCJQaW5QYWQiLCJwYXJlbnRSZXNvbHZlIiwiY29ubmVjdEFuZENhY2hlIiwiZ2V0Q2hhcmFjdGVyaXN0aWMiLCJkZXZpY2VUb0hvc3RMZW4iLCJjaGFyYWN0ZXJpc3RpYyIsInN0YXJ0Tm90aWZpY2F0aW9ucyIsImRhdGFXYXRjaGVyIiwiY2FyZERhdGFMaXN0ZW5lciIsImRldmljZVRvSG9zdERhdGEiLCJyZWNlaXZlRGF0YUNoYXIiLCJkZXZpY2VGcm9tSG9zdExlbiIsInNlbmRMZW5Ub0RldmljZSIsImRldmljZUZyb21Ib3N0RGF0YSIsImNvbW1hbmRDaGFyYWN0ZXJpc3RpYyIsIm9uRGVzdHJveUhhbmRsZXIiLCJkZWxheVByb21pc2UiLCJkYXRhRXZlbnQiLCJ0YXJnZXQiLCJjb21tYW5kU2VudCIsInJlYWRDb21tYW5kUmVzcCIsInJlYWRWYWx1ZSIsInJlYWRWYWx1ZUhhbmRsZXIiLCJyZWFkQnl0ZUFycmF5IiwicmVwb3J0SWRzIiwicmVzcG9uc2VBY2siLCJwYXJzZUFja1Jlc3BvbnNlIiwiZGV2aWNlU3RhdGVSZXBvcnQiLCJoYW5kbGVEZXZpY2VTdGF0ZVJlcG9ydCIsImNhcmRTdGF0dXNSZXBvcnQiLCJoYW5kbGVDYXJkU3RhdHVzUmVwb3J0IiwiY2FyZERhdGFSZXBvcnQiLCJoYW5kbGVDYXJkRGF0YVJlcG9ydCIsImhhbmRsZUNhcmRob2xkZXJTdGF0dXNSZXBvcnQiLCJlbXZDb21wbGV0aW9uIiwiaGFuZGxlRW12Q29tcGxldGlvbiIsImhhbmRsZUJpZ0Jsb2NrRGF0YSIsInJlcXVlc3RTbiIsImZvcm1hdFNlcmlhbE51bWJlciIsImRldmljZUNvbmZpZyIsInBhcnNlRGV2aWNlQ29uZmlndXJhdGlvbiIsInBpblJlc3BvbnNlIiwicGFyc2VQaW5SZXNwb25zZSIsInNlbGVjdGlvblJlc3BvbnNlIiwicGFyc2VDYXJkaG9sZGVyUmVzcG9uc2UiLCJkaXNwbGF5UmVzcCIsInBhcnNlVGlwQ2FzaGJhY2tSZXBvcnQiLCJjb25zb2xlIiwibG9nIiwicGFyc2VFbXZDb21wbGV0aW9uIiwiaGFuZGxlQmlnQmxvY2tCZWdpbiIsIm1heCIsImhhbmRsZUJpZ0Jsb2NrRmluaXNoIiwicGFyc2VFbXZDYXJkaG9sZGVySW50ZXJhY3Rpb25TdGF0dXMiLCJwYXJzZUNhcmRTdGF0dXNSZXBvcnQiLCJzd2lwZUhhc0JlZ3VuIiwic2VuZENvbW1hbmRXaXRoUmVzcCIsInNlbmRFcnJUb0NhbGxiYWNrIiwiZGF0YUdhdGhlcmVkIiwic3dpcGVEYXRhIiwicGFyc2VEZXZpY2VTdGF0ZVJlcG9ydCIsInBhcnNlQ2FyZERhdGEiLCJzd2lwZU9wdGlvbnMiLCJjbGVhclNlc3Npb25DbWQiLCJidWlsZFN3aXBlQ29tbWFuZCIsInJlc3AiLCJidWlsZEVtdkNvbW1hbmQiLCJlbXZDb21tbWFuZCIsInBpbk9wdGlvbnMiLCJidWlsZFBpbkNvbW1hbmQiLCJkYXRhVHlwZSIsImJsb2NrWmVybyIsImxlZ2FjeURhdGEiLCJzZW5kUGluQ29tbWFuZCIsInNlbmRFeHRlbmRlZEJpZ0Jsb2NrRGF0YSIsIm51bWJlck9mQmxvY2tzIiwiY2VpbCIsIndvcmtpbmdPblByb21pc2UiLCJjb21tYW5kQmxvY2tzIiwiYmVnaW5RdWV1ZSIsImJlZ2luUXVldWVSZXNvbHZlIiwiYmVnaW5RdWV1ZVJlamVjdCIsImRhdGFCbG9jayIsInNoaWZ0IiwicXVldWVkUHJvbWlzZSIsImVucXVldWUiLCJibG9jayIsImRhdGFGb3JCbG9jayIsImJsb2NrQ21kIiwiYmVnaW5RdWVSZXNwIiwic2VuZEFycGNCYXNlIiwiYXJwY0NtZCIsImNtZCIsInRpcENhc2hiYWNrT3B0aW9ucyIsImJ1aWxkVGlwT3JDYXNoYmFja0NtZCIsImRpc3BsYXlPcHRpb25zIiwiYnVpbGREaXNwbGF5Q21kIiwid3JpdGVDb21tYW5kIiwid3JpdGVWYWx1ZSIsIm9mIiwid2FpdEZvckRldmljZVJlc3BvbnNlIiwid2FpdFJlc3AiLCJ0cnlDb21tYW5kQWdhaW4iLCJyZXNwb25zZSIsImdhdGhlckRldmljZUluZm8iLCJkZXZpY2VJbmZvIiwic2VyaWFsTnVtYmVyIiwiZGV2aWNlTmFtZSIsImlzQ29ubmVjdGVkIiwiY2hlY2tJZkRldmljZUlkbGUiLCJnZXREZXZpY2VJbmZvUHJvY2VlZCIsIndhaXRGb3JTbiIsImNsZWFyU2Vzc2lvbiIsImNsZWFySW50ZXJuYWxTdGF0ZSIsInN0b3BOb3RpZmljYXRpb25zIiwiY2xvc2VQaW5EZXZpY2UiLCJlbmRTZXNzaW9uIiwicmVxdWVzdENhcmRTd2lwZSIsIkRwTWluaSIsIkR5bmFQcm9HbyIsIlNjcmFTd2lwZVBhcnNlciIsIm9mZnNldCIsInRyYWNrMURlY29kZVN0YXR1cyIsInRyYWNrMkRlY29kZVN0YXR1cyIsInRyYWNrM0RlY29kZVN0YXR1cyIsInRyYWNrMUxlbiIsInRyYWNrMkxlbiIsInRyYWNrM0xlbiIsImNhcmRFbmNvZGVUeXBlIiwidHJhY2sxU3RhcnQiLCJ0cmFjazFFbmQiLCJ0cmFjazJTdGFydCIsInRyYWNrMkVuZCIsInRyYWNrM1N0YXJ0IiwidHJhY2szRW5kIiwibWFnbmVQcmludFN0YXR1c1N0YXJ0IiwibWFnbmVQcmludFN0YXR1c0VuZCIsIm1hZ25lUHJpbnRMZW4iLCJtYWduZVByaW50U3RhcnQiLCJtYWduZVByaW50RW5kIiwic2VyaWFsTnVtYmVyU3RhcnQiLCJzZXJpYWxOdW1iZXJFbmQiLCJkZXZpY2VFbmNTdGF0dXNTdGFydCIsImRldmljZUVuY1N0YXR1c0VuZCIsImtzblN0YXJ0Iiwia3NuRW5kIiwidHJhY2sxTWFza2VkTGVuIiwidHJhY2syTWFza2VkTGVuIiwidHJhY2szTWFza2VkTGVuIiwidHJhY2sxTWFza2VkU3RhcnQiLCJ0cmFjazFNYXNrZWRFbmQiLCJ0cmFjazJNYXNrZWRTdGFydCIsInRyYWNrMk1hc2tlZEVuZCIsInRyYWNrM01hc2tlZFN0YXJ0IiwidHJhY2szTWFza2VkRW5kIiwiZW5jU2Vzc2lvbklkU3RhcnQiLCJlbmNTZXNzaW9uSWRFbmQiLCJ0cmFjazFBYnNMZW4iLCJ0cmFjazJBYnNMZW4iLCJ0cmFjazNBYnNMZW4iLCJtYWduZVByaW50QWJzTGVuIiwidHJhY2tQb3NpdGlvbnMiLCJ0cmFja0luZGljZXMiLCJ0cmFja0luZm8iLCJkYXRhTmFtZXMiLCJmb3JFYWNoIiwiZGF0YVByb3AiLCJ0cmFja0RhdGEiLCJmb3JtYXRUcmFjazJNYXNrZWQiLCJmb3JtYXRUcmFja1dpdGhEZWNvZGUiLCJpbmNsdWRlcyIsInRyYWNrMk1hc2tlZCIsImRlY29kZVN0YXR1c1ZhbHVlIiwidHJhY2tWYWx1ZSIsIlRyeFN0YXR1c1BhcnNlciIsIm5vdGlmaWNhdGlvbiIsIm5ld05vdGlmaWNhdGlvbiIsInBhcnNlTm90aWZpY2F0aW9ucyIsInRocm93TGVuRXJyIiwibm90aWZpY2F0aW9uU2xpY2UiLCJuZXdOb3RpZmljYXRpb25TbGljZSIsIm5vdGlmaWNhdGlvbkxlbmd0aCIsIm5vdGlmaWNhdGlvbkNvbnRlbnQiLCJ0cnhTdGF0dXNDb2RlIiwidHJ4UHJvZ3Jlc3NDb2RlIiwidHJhbnNhY3Rpb25TdGF0dXMiLCJzdGF0dXNDb2RlIiwic3RhdHVzTXNnIiwiVHJ4U3RhdHVzRW51bSIsInByb2dyZXNzQ29kZSIsInByb2dyZXNzTXNnIiwiVHJ4UHJvZ3Jlc3NJbmRpY2F0b3IiLCJTY3JhRW12UGFyc2VyIiwiZW12RGF0YSIsImlzQXJxYyIsInJlc3VsdENvZGUiLCJlbXZSZXN1bHRDb2RlcyIsInNlbGVjdGlvblJlcXVlc3QiLCJ1c2VyU2VsZWN0aW9uUmVxdWVzdCIsInNlbGVjdGlvblR5cGUiLCJ0aW1lUmVtYWluaW5nIiwibWVudUl0ZW1zIiwiZHVrcHRGYWlsdXJlQmFzZSIsImludmFsaWRCYXNlIiwiU2NyYSIsImNhcmREYXRhTm90aWZpY2F0aW9uIiwiY2FyZERhdGFIYW5kbGVyIiwiY29tbWFuZENoYXJJZCIsImRhdGFSZWFkeUlkIiwiZGF0YVJlYWR5SGFuZGxlciIsImRhdGFSZWFkeUNoYXJhY3RlcmlzdGljIiwiZGF0YVJlYWRTdGF0dXNJZCIsImRhdGFSZWFkU3RhdHVzQ2hhcmFjdGVyaXN0aWMiLCJldmVudFZhbHVlIiwiZm9ybWF0dGVkRXZlbnRWYWx1ZSIsIm5vdGlmaWNhdGlvbkFycmF5IiwiY2hlY2tOb3RpZmljYXRpb25MZW5ndGgiLCJyZXR1cm5Ub1VzZXIiLCJwYXJzZUhpZERhdGEiLCJub3RpZmljYXRpb25JZCIsImZpbmROb3RpZmljYXRpb25UeXBlIiwiYnVpbHROb3RpZmljYXRpb24iLCJwYXJzZVRyYW5zYWN0aW9uU3RhdHVzIiwiZGlzcGxheUNhbGxiYWNrIiwiZGlzcGxheU1lc3NhZ2UiLCJwYXJzZVVzZXJTZWxlY3Rpb25SZXF1ZXN0IiwiYnVpbGROb3RpZmljYXRpb24iLCJwYXJzZUVtdkRhdGEiLCJwYXJzZUVtdkNvbW1hbmRSZXNwb25zZSIsInNldERldmljZURhdGVUaW1lIiwic3RhcnRUcmFuc2FjdGlvbiIsInJlcG9ydFZlcmJvc2l0eSIsImVtdkNvbW1hbmRCYXNlIiwicmVhZENvbW1hbmRWYWx1ZSIsInNwZWNpZmllZENhbGxiYWNrIiwicmV0dXJuT2JqIiwic3BlY2lmaWNUaW1lIiwiZGF0ZVRpbWVDb21tYW5kIiwiY2FzdERlY1RvSGV4IiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldEZ1bGxZZWFyIiwiYnVpbGREYXRlVGltZUNvbW1hbmQiLCJmb3JtYXR0ZWRWYWx1ZSIsImJhdHRlcnkiLCJzZXJpYWxOdW0iLCJyZWFkQmF0dGVyeUxldmVsIiwicmVzcEJhdHRlcnkiLCJnZXREZXZpY2VTbiIsInJlc3BTbiIsImJhdHRlcnlMZXZlbCIsInNlbGVjdGlvblJlc3VsdCIsInVzZXJTZWxlY3Rpb25SZXNwb25zZSIsInJlc3VsdENvZGVzIiwic2VuZEFycGNSZXNwb25zZSIsImNhbmNlbEVtdkNvbW1hbmQiLCJjZWFzZU5vdGlmaWNhdGlvbnMiLCJ1c2VyU2VsZWN0aW9uQ2FsbGJhY2siLCJFRHluYW1vIiwiZ2V0Q2FyZFNlcnZpY2VCYXNlIiwiVER5bmFtbyIsInNldEhlYWRBbHdheXNPbiIsInNldEhlYWRPcGVuUmVzcCIsImNvbW1hbmROb3RVc2VkIiwiaXNTY3JhIiwiRGV2aWNlSW50ZXJmYWNlIiwiZ2V0Q2FyZFNlcnZpY2UiLCJjYW5jZWxUcmFuc2FjdGlvbiIsImNsb3NlRGV2aWNlIiwiZ2V0RGV2aWNlSW5mbyIsImlzRGV2aWNlQ29ubmVjdGVkIiwicmVxdWVzdFBpbkVudHJ5Iiwic2V0RGlzcGxheU1lc3NhZ2UiLCJzZW5kVXNlclNlbGVjdGlvbiIsInNlbmRBcnBjIiwicmVxdWVzdFRpcE9yQ2FzaGJhY2siLCJvcGVuRGV2aWNlIiwic2VuZENvbW1hbmQiLCJpc0RldmljZU9wZW4iLCJmb3JjZURpc2Nvbm5lY3QiLCJuZXdEZXZpY2VJbnN0YW5jZSIsIkR5blByb0dvIiwiYnVpbGREZXZpY2VPYmplY3QiLCJkZXZpY2VUeXBlU3RyaW5nIiwiaWQiLCJkZXZpY2VJbnRlcmZhY2UiLCJlRHluYW1vUGF0dGVybiIsIlJlZ0V4cCIsInREeW5hbW9QYXR0ZXJuIiwiZHBNaW5pUGF0dGVybiIsImRwR29QYXR0ZXJuIiwiZmluZERldmljZVR5cGVTdHJpbmciLCJuYW1lU3RyIiwidHlwZVN0ciIsImZvcm1hdHRlZFN0ciIsImRldmljZVR5cGVTdHIiLCJkZXZpY2VUeXBlQXJyIiwicmV0dXJuU3RyIiwiZm9ybWF0VHlwZVN0cmluZyIsInRlc3QiLCJzY2FuRm9yRGV2aWNlcyIsImlzRnVuY1R5cGUiLCJkYXRhT2JqIiwid2FybiIsInByb3BBc3NpZ25tZW50IiwiZXJyT2JqIiwiZXJyb3IiLCJhcnJhbmdlQ2FsbGJhY2tzIiwib3B0aW9ucyIsIm5hbWVQcmVmaXgiLCJmaW5kRGV2aWNlQnlEZXZpY2VOYW1lIiwibmF2aWdhdG9yIiwiYmx1ZXRvb3RoIiwicmVxdWVzdERldmljZSIsImRldmljZVR5cGVOYW1lIiwic2VsZWN0ZWREZXZpY2UiLCJtb2RlbE5hbWVTdHJpbmciXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJ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QUFLTyxnQkFDN0NMLEtBQU0sSUFBTTVGLEVBQVNxckIsSUFDdEJobEIsTUFBTXpDLEdBQ0FBLEVBQUl2SSxPQUFTMEksRUFBWUMsV0FDekJKLEVBQUlwSyxPQUFTdUssRUFBWUUsV0FDekJMLEVBQUl4SSxRQUFRNG1CLFNBQVMsd0NBQ25Cb0osRUFBZTFsQixLQUFLTSxVQUNwQmpHLFFBQVFDLFFBQVNvckIsRUFBZTFsQixLQUFLTyxjQUFlTCxLQUFLLElBQU01RixFdEJ2RDNELGNzQnNENkJBLEV0QnREN0IsYXNCd0RSdUYsRUFBTzNCLE9DakIrQmdDLEtBQzVCd2pCLEdBQXNCQSxFQUVoQnBwQixFQUFTbXBCLEdBQWtCL2pCLEVBQVErQyxFQUFXaWhCLElBRGhEN2pCLEVBQU8scUNBRWJjLE1BQU16QyxHQUFPMkIsRUFBTzNCLElESkN3bkIsUUNLNUIva0IsTUFBTXpDLEdBQ0wyQixFQUQ0QixpQkFBUjNCLEVBQ1osSUFBSTNJLEVBQVMySSxHQUNkIiwiZmlsZSI6Im1hZ2Vuc2EtYmx1ZXRvb3RoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibWFnZW5zYS1ibHVldG9vdGhcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibWFnZW5zYS1ibHVldG9vdGhcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNsYXNzIEFwaUVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoeyBtZXNzYWdlLCBjb2RlLCBuYW1lIH0pIHtcclxuICAgICAgICBzdXBlciggKG1lc3NhZ2UgfHwgXCJXZWIgQmx1ZXRvb3RoIEFQSSB0aHJldyBhbiB1bmtub3duLCBvciB1bmRvY3VtZW50ZWQgZXJyb3JcIiApKTtcclxuICAgICAgICB0aGlzLmNvZGUgPSAoY29kZSB8fCAxMDAwKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSAobmFtZSB8fCBcIldlYkJsdWV0b290aEVycm9yXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwaUVycm9yOyIsImNvbnN0IGFsbERldmljZUNvbmZpZyA9IHtcclxuICAgIGZpbHRlcnM6IFtcclxuICAgICAgICB7IHNlcnZpY2VzOiBbXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDRcIl0gfSxcclxuICAgICAgICB7IHNlcnZpY2VzOiBbXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDFcIl0gfSwgXHJcbiAgICAgICAgeyBzZXJ2aWNlczogW1wiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTAzXCJdIH1cclxuICAgIF0sXHJcbiAgICBvcHRpb25hbFNlcnZpY2VzOiBbXHJcbiAgICAgICAgXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDRcIiwgXHJcbiAgICAgICAgXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDNcIiwgXHJcbiAgICAgICAgXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDFcIiwgXHJcbiAgICAgICAgXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMDJcIixcclxuICAgICAgICAnZGV2aWNlX2luZm9ybWF0aW9uJ1xyXG4gICAgXSxcclxuICAgIGtlZXBSZXBlYXRlZERldmljZXM6IGZhbHNlLFxyXG4gICAgYWNjZXB0QWxsQWR2ZXJ0aXNlbWVudHM6IGZhbHNlXHJcbn1cclxuXHJcbmNvbnN0IGZpbmREZXZpY2VCeURldmljZU5hbWUgPSBkZXZpY2VOYW1lID0+ICh7XHJcbiAgICBmaWx0ZXJzOiBbXHJcbiAgICAgICAgeyBuYW1lUHJlZml4OiBkZXZpY2VOYW1lIH1cclxuICAgIF0sXHJcbiAgICBvcHRpb25hbFNlcnZpY2VzOiBbXHJcbiAgICAgICAgXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDRcIiwgXHJcbiAgICAgICAgXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDNcIiwgXHJcbiAgICAgICAgXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDFcIixcclxuICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIwMlwiLFxyXG4gICAgICAgICdkZXZpY2VfaW5mb3JtYXRpb24nXHJcbiAgICBdLFxyXG4gICAga2VlcFJlcGVhdGVkRGV2aWNlczogZmFsc2UsXHJcbiAgICBhY2NlcHRBbGxBZHZlcnRpc2VtZW50czogZmFsc2VcclxufSk7XHJcblxyXG5cclxuZXhwb3J0IHtcclxuICAgIGFsbERldmljZUNvbmZpZyxcclxuICAgIGZpbmREZXZpY2VCeURldmljZU5hbWVcclxufSIsImNsYXNzIFV0aWxpdGllcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5ybGVGb3JtYXRzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IGZhbHNlLCAgICAvL05vcm1hbFxyXG4gICAgICAgICAgICAweDAxOiB0cnVlLCAgICAgLy9STEUgZm9ybWF0XHJcbiAgICAgICAgICAgIDB4MDI6IGZhbHNlLCAgICAvL05vdGlmeSBVbmNvbXByZXNzZWRcclxuICAgICAgICAgICAgMHgwMzogdHJ1ZSAgICAgIC8vTm90aWZ5IFJMRSBmb3JtYXRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgfTtcclxuXHJcbiAgICAgbG9nRGV2aWNlU3RhdGUgPSBsb2dJbmZvID0+IHtcclxuICAgICAgICBsZXQgbG9nRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJkZXZpY2VMb2dcIiwgeyBcclxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcclxuICAgICAgICAgICAgZGV0YWlsOiBsb2dJbmZvIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChsb2dFdmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29udmVydEFycmF5VG9IZXhTdHJpbmcgPSBhcnJheSA9PlxyXG4gICAgICAgIEFycmF5LmZyb20oYXJyYXksIGJ5dGUgPT5cclxuICAgICAgICAgICAgKCcwJyArIChieXRlICYgMHhGRikudG9TdHJpbmcoMTYpKS5zbGljZSgtMilcclxuICAgICAgICApLmpvaW4oJycpLnRvVXBwZXJDYXNlKClcclxuICAgIFxyXG4gICAgcmVhZFR3b0J5dGVMZW5ndGggPSB0d29CeXRlcyA9PiAodHdvQnl0ZXNbMF0gPDwgOCkgfCB0d29CeXRlc1sxXTtcclxuXHJcbiAgICBidWZmZXJUb1V0ZjggPSBhcnJheUJ1ZmZlciA9PlxyXG4gICAgICAgIG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKS5kZWNvZGUoVWludDhBcnJheS5mcm9tKGFycmF5QnVmZmVyKSk7XHJcblxyXG4gICAgY2FzdERlY1RvSGV4ID0gbnVtID0+IHBhcnNlSW50KCBudW0udG9TdHJpbmcoMTYpLCAxNik7XHJcblxyXG4gICAgbmV3QXJyYXlQYXJ0aWFsID0gKG51bSwgcmVwZXRpdGlvbnMpID0+IG5ldyBBcnJheShyZXBldGl0aW9ucykuZmlsbChudW0pO1xyXG5cclxuICAgIHJlYWRCeXRlQXJyYXkgPSBkYXRhVmlldyA9PiB7XHJcbiAgICAgICAgbGV0IHZhbHVlQXJyYXkgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFWaWV3LmJ5dGVMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YWx1ZUFycmF5LnB1c2goZGF0YVZpZXcuZ2V0VWludDgoaSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlQXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgaGV4VG9Bc2NpaSA9IGhleFN0cmluZyA9PiB7XHJcbiAgICAgICAgbGV0IGFzY2lpUmVzcCA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyAoaSA8IGhleFN0cmluZy5sZW5ndGggJiYgaGV4U3RyaW5nLnN1YnN0cihpLCAyKSAhPT0gJzAwJyk7IGkgKz0gMikge1xyXG4gICAgICAgICAgICBhc2NpaVJlc3AgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGhleFN0cmluZy5zdWJzdHJpbmcoaSwgKGkgKyAyKSksIDE2KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXNjaWlSZXNwLnRyaW0oKTtcclxuICAgIH1cclxuXHJcbiAgICBoZXhUb0J5dGVzID0gaGV4U3RyID0+IHtcclxuICAgICAgICBsZXQgYnl0ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBjdXJyZW50ID0gMDsgY3VycmVudCA8IGhleFN0ci5sZW5ndGg7IGN1cnJlbnQgKz0gMilcclxuICAgICAgICAgICAgYnl0ZXMucHVzaCggcGFyc2VJbnQoaGV4U3RyLnN1YnN0cmluZyhjdXJyZW50LCAoY3VycmVudCArIDIpKSwgMTYpICk7XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gYnl0ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlUkxFID0gYXJyYXlTZWdtZW50ID0+IHtcclxuICAgICAgICBjb25zdCBpbml0aWFsTGVuZ3RoID0gYXJyYXlTZWdtZW50Lmxlbmd0aDtcclxuICAgICAgICBsZXQgcmV0dXJuU2VnbWVudCA9IFsgYXJyYXlTZWdtZW50WzBdIF07XHJcbiAgICAgICAgbGV0IG5leHRJbmRleCA9IDA7XHJcbiAgICBcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGluaXRpYWxMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBuZXh0SW5kZXggPSBpICsgMTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAobmV4dEluZGV4ICsgMSA8IGluaXRpYWxMZW5ndGgpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGFycmF5U2VnbWVudFtpXSA9PT0gYXJyYXlTZWdtZW50W25leHRJbmRleF0pIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblNlZ21lbnQucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5uZXdBcnJheVBhcnRpYWwoYXJyYXlTZWdtZW50W2ldLCBhcnJheVNlZ21lbnRbbmV4dEluZGV4ICsgMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRqdXN0IGluZGV4IGFjY29yZGluZ2x5LCBwcmlvciB0byBiZWluZyBpbmNyZW1lbnRlZCBieSB0aGUgaXRlcmF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgIGkgPSBuZXh0SW5kZXggKyAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSByZXR1cm5TZWdtZW50LnB1c2goYXJyYXlTZWdtZW50W2ldKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuU2VnbWVudC5wdXNoKGFycmF5U2VnbWVudFtpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmV0dXJuU2VnbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZEluaXRpYWxEYXRhQXJyYXkgPSBjaGVja0ZvclJsZSA9PiB7XHJcbiAgICAgICAgbGV0IHJldHVybkFycmF5ID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSBNYXRoLm1pbiguLi5PYmplY3Qua2V5cyh0aGlzLnJhd0RhdGEpKTsgaSA8IHRoaXMubWF4QmxvY2tJZDsgaSsrKVxyXG4gICAgICAgICAgICByZXR1cm5BcnJheSA9IHJldHVybkFycmF5LmNvbmNhdCguLi50aGlzLnJhd0RhdGFbaV0pXHJcblxyXG4gICAgICAgIHJldHVybiAoIWNoZWNrRm9yUmxlKSA/IHJldHVybkFycmF5IDogdGhpcy5jaGVja1JsZShyZXR1cm5BcnJheSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tSbGUgPSByZXR1cm5BcnJheSA9PiAodGhpcy5ybGVGb3JtYXRzWyB0aGlzLmluaXRpYWxOb3RpZmljYXRpb25bMF0gXSkgPyB0aGlzLmRlY29kZVJMRShyZXR1cm5BcnJheSkgOiByZXR1cm5BcnJheTtcclxuXHJcbiAgICBjb252ZXJ0Q3VycmVuY3lDb2RlID0gY3VycmVuY3lTdHJpbmcgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gY3VycmVuY3lTdHJpbmcudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChjdXJyZW5jeSA9PT0gJ3VzJykgPyBbMHgwOCwgMHg0MF0gOiBcclxuICAgICAgICAgICAgKGN1cnJlbmN5ID09PSAnZXVybycpID8gWzB4MDksIDB4NzhdIDogWzB4MDAsIDB4MDBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQ29udmVydCBudW1iZXIgdG8gNiBieXRlIGFycmF5LlxyXG4gICAgY29udmVydE51bVRvQW1vdW50ID0gKG51bSwgb3B0aW9uYWxMZW4pID0+IHtcclxuICAgICAgICBvcHRpb25hbExlbiA9IG9wdGlvbmFsTGVuIHx8IDEyO1xyXG5cclxuICAgICAgICBsZXQgc3RyaW5nTnVtID0gbnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IHJldHVybkFyciA9IFtdO1xyXG5cclxuICAgICAgICB3aGlsZSAoc3RyaW5nTnVtLmxlbmd0aCA8IG9wdGlvbmFsTGVuKVxyXG4gICAgICAgICAgICBzdHJpbmdOdW0gPSBcIjBcIiArIHN0cmluZ051bTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdOdW0ubGVuZ3RoOyBpICs9IDIpXHJcbiAgICAgICAgICAgIHJldHVybkFyci5wdXNoKFxyXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoc3RyaW5nTnVtLnN1YnN0cmluZyhpLCAoaSArIDIpKSwgMTYpXHJcbiAgICAgICAgICAgIClcclxuICAgIFxyXG4gICAgICAgIHJldHVybiByZXR1cm5BcnI7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsYXlQcm9taXNlID0gKGRlbGF5LCBwYXNzZWRWYWx1ZSkgPT5cclxuICAgICAgICBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXksIHBhc3NlZFZhbHVlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBieXRlQXJyYXlUb051bWJlciA9IGJ5dGVBcnJheSA9PiBwYXJzZUludCh0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKGJ5dGVBcnJheSksIDEwKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXRpbGl0aWVzO1xyXG4iLCJpbXBvcnQgVXRpbGl0aWVzIGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY2xhc3MgU3dpcGVQYXJzZXIgZXh0ZW5kcyBVdGlsaXRpZXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JtYXRFeHBQQU4gPSByYXdEYXRhID0+IHtcclxuICAgICAgICBsZXQgc3RyaW5nRGF0YSA9ICh0eXBlb2YgcmF3RGF0YSA9PT0gJ29iamVjdCcpID8gdGhpcy5idWZmZXJUb1V0ZjgocmF3RGF0YS5zbGljZSg0KSkgOiByYXdEYXRhO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKHN0cmluZ0RhdGEuaW5kZXhPZignOycpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBsZXQgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy5zcGxpdEV4cFBBTihzdHJpbmdEYXRhKTtcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbWFza2VkUEFOOiBmb3JtYXR0ZWRTdHJpbmdbMF0sXHJcbiAgICAgICAgICAgICAgICBMYXN0NDogZm9ybWF0dGVkU3RyaW5nWzFdLFxyXG4gICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IGZvcm1hdHRlZFN0cmluZ1syXSxcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VDb2RlOiBmb3JtYXR0ZWRTdHJpbmdbM11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1hc2tlZFBBTjogXCJcIixcclxuICAgICAgICAgICAgTGFzdDQ6IFwiXCIsXHJcbiAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlOiBcIlwiLFxyXG4gICAgICAgICAgICBzZXJ2aWNlQ29kZTogXCJcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzcGxpdEV4cFBBTiA9IHN0cmluZ0RhdGEgPT4ge1xyXG4gICAgICAgIGlmIChzdHJpbmdEYXRhLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICAgICAgbGV0IGV4cFBBTiA9IHN0cmluZ0RhdGEucmVwbGFjZSgnOycsJycpLnJlcGxhY2UoJz8nLCcnKS5zcGxpdCgnPScpO1xyXG4gICAgICAgICAgICBsZXQgZXhwID0gZXhwUEFOWzFdLnNsaWNlKDAsIDQpO1xyXG4gICAgICAgICAgICBsZXQgc2VydmljZUNvZGUgPSBleHBQQU5bMV0uc2xpY2UoNCwgNyk7XHJcbiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWRFeHAgPSBleHAuc2xpY2UoLTIpICsgJy8nICsgZXhwLnNsaWNlKDAsIDIpO1xyXG4gICAgICAgICAgICBsZXQgbWFza2VkUEFOID0gZXhwUEFOWzBdO1xyXG4gICAgICAgICAgICBsZXQgbGFzdEZvdXIgPSBleHBQQU5bMF0uc2xpY2UoLTQpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFttYXNrZWRQQU4sIGxhc3RGb3VyLCBmb3JtYXR0ZWRFeHAsIHNlcnZpY2VDb2RlXVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBbXCJOb3QgRm91bmRcIiwgXCJOb3QgRm91bmRcIiwgXCJOb3QgRm91bmRcIiwgXCJOb3QgRm91bmRcIl1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN3aXBlUGFyc2VyOyIsImNvbnN0IG9wZW5TdWNjZXNzID0gXCJEZXZpY2UgT3BlblwiO1xyXG5jb25zdCBjbG9zZVN1Y2Nlc3MgPSBcIkRldmljZSBDbG9zZWRcIlxyXG5jb25zdCBzdWNjZXNzQ29kZSA9IDA7XHJcbmNvbnN0IHN3aXBlTGlzdGVuaW5nID0gXCJTdWNjZXNzLCBsaXN0ZW5pbmcgZm9yIHN3aXBlXCJcclxuY29uc3QgZGV2aWNlTm90SWRsZSA9IFwiRGV2aWNlIG5vdCBpZGxlXCI7XHJcbmNvbnN0IHREeW5hbW8gPSBcInREeW5hbW9cIjtcclxuY29uc3QgZUR5bmFtbyA9IFwiZUR5bmFtb1wiO1xyXG5jb25zdCBkeW5hUHJvR28gPSBcImR5bmFQcm9Hb1wiO1xyXG5jb25zdCBkcE1pbmkgPSBcIkR5bmFQcm8gTWluaVwiO1xyXG5cclxuY29uc3QgY29uZmlnU3RyID0gXCJDb25maWd1cmF0aW9uXCI7XHJcbmNvbnN0IHVua25vd24gPSBcIlVua25vd25cIjtcclxuY29uc3QgYXNjaWkgPSBcIkFTQ0lJXCI7XHJcblxyXG5jb25zdCBub1Nlc3Npb25Ub0NsZWFyID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAwLFxyXG4gICAgbWVzc2FnZTogXCJTdWNjZXNzLCB0aGVyZSB3YXMgbm8gc2Vzc2lvbiB0byBjbGVhclwiXHJcbn0pO1xyXG5cclxuY29uc3QgZ2F0dEJ1c3kgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDE5LCBcclxuICAgIG1lc3NhZ2U6IFwiR0FUVCBvcGVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcy5cIlxyXG59KTtcclxuXHJcbmNvbnN0IHN1Y2Nlc3NmdWxDbG9zZSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICBtZXNzYWdlOiBjbG9zZVN1Y2Nlc3NcclxufSk7XHJcblxyXG5jb25zdCBjYXJkVHlwZUFsbCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgW2VEeW5hbW9dOiAweDAzLFxyXG4gICAgW3REeW5hbW9dOiAweDA3LFxyXG4gICAgW2RwTWluaV06IDB4MDMsXHJcbiAgICBbZHluYVByb0dvXTogMHgwN1xyXG59KTtcclxuXHJcbmNvbnN0IGNhcmRUeXBlc09iaiA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgJ21zcic6IDB4MDEsXHJcbiAgICAnY2hpcCc6IDB4MDIsXHJcbiAgICAnY2hpcG1zcic6IDB4MDMsXHJcbiAgICAnY29udGFjdGxlc3MnOiAweDA0LFxyXG4gICAgJ2NvbnRhY3RsZXNzbXNyJzogMHgwNSxcclxuICAgICdjb250YWN0bGVzc2NoaXAnOjB4MDYsXHJcbiAgICAnYWxsJzogMHgwN1xyXG59KTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBvcGVuU3VjY2VzcyxcclxuICAgIHN1Y2Nlc3NDb2RlLFxyXG4gICAgc3dpcGVMaXN0ZW5pbmcsXHJcbiAgICBkZXZpY2VOb3RJZGxlLFxyXG4gICAgY2xvc2VTdWNjZXNzLFxyXG4gICAgbm9TZXNzaW9uVG9DbGVhcixcclxuICAgIHREeW5hbW8sXHJcbiAgICBlRHluYW1vLFxyXG4gICAgZHluYVByb0dvLFxyXG4gICAgZHBNaW5pLFxyXG4gICAgY2FyZFR5cGVBbGwsXHJcbiAgICBjYXJkVHlwZXNPYmosXHJcbiAgICBnYXR0QnVzeSxcclxuICAgIHN1Y2Nlc3NmdWxDbG9zZSxcclxuICAgIGNvbmZpZ1N0cixcclxuICAgIHVua25vd24sXHJcbiAgICBhc2NpaVxyXG59XHJcbiIsImltcG9ydCBTd2lwZVBhcnNlciBmcm9tICcuL3N3aXBlUGFyc2VyJztcclxuaW1wb3J0IHsgZHluYVByb0dvIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIEVtdlBhcnNlciBleHRlbmRzIFN3aXBlUGFyc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMubW9yZVRhZ0J5dGVzRmxhZzEgPSAweDFGO1xyXG4gICAgICAgIHRoaXMubW9yZVRhZ0J5dGVzRmxhZzIgPSAweDgwO1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0ZWRGbGFnID0gMHgyMDtcclxuICAgICAgICB0aGlzLm1vcmVMZW5ndGhGbGFnID0gMHg4MDtcclxuICAgICAgICB0aGlzLm9uZUJ5dGVMZW5ndGhNYXNrID0gMHg3RjtcclxuXHJcbiAgICAgICAgdGhpcy50cnhTdGF0dXNUb1N0cmluZyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIkFwcHJvdmVkXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiRGVjbGluZWRcIixcclxuICAgICAgICAgICAgMHgwMjogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICAweDEwOiBcIkNhbmNlbGxlZCBCeSBIb3N0XCIsXHJcbiAgICAgICAgICAgIDB4MTE6IFwiQ29uZmlybSBBbW91bnQgTm9cIixcclxuICAgICAgICAgICAgMHgxMjogXCJDb25maXJtIEFtb3VudCBUaW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MTM6IFwiQ29uZmlybSBBbW91bnQgQ2FuY2VsXCIsXHJcbiAgICAgICAgICAgIDB4MTQ6IFwiTVNSIFNlbGVjdCBEZWJpdFwiLFxyXG4gICAgICAgICAgICAweDE1OiBcIk1TUiBTZWxlY3QgRGViaXRcIixcclxuICAgICAgICAgICAgMHgxNjogXCJNU1IgU2VsZWN0IENyZWRpdC9EZWJpdCB0aW1vdXRcIixcclxuICAgICAgICAgICAgMHgxNzogXCJNU1IgU2VsZWN0IENyZWRpdC9EZWJpdCBjYW5jZWxcIixcclxuICAgICAgICAgICAgMHgxODogXCJTaWduYXR1cmUgQ2FwdHVyZSBDYW5jZWxsZWQgYnkgSG9zdCAoU0MtUyBPbmx5IHwgU0MtRiBvbmx5KVwiLFxyXG4gICAgICAgICAgICAweDE5OiBcIlNpZ25hdHVyZSBDYXB0dXJlIFRpbWVvdXQgKFNDLVMgT25seSB8IFNDLUYgT25seSlcIixcclxuICAgICAgICAgICAgMHgxQTogXCJTaWduYXR1cmUgQ2FwdHVyZSBDYW5jZWxsZWQgYnkgQ2FyZGhvbGRlciAoU0MtUyBPbmx5IHwgU0MtRiBPbmx5KVwiLFxyXG4gICAgICAgICAgICAweDFCOiBcIlBJTiBFbnRyeSBDYW5jZWxsZWQgYnkgSG9zdFwiLFxyXG4gICAgICAgICAgICAweDFDOiBcIlBJTiBlbnRyeSB0aW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MUQ6IFwiUElOIGVudHJ5IENhbmNlbGxlZCBieSBDYXJkaG9sZGVyXCIsXHJcbiAgICAgICAgICAgIDB4MUU6IFwiTWFudWFsIFNlbGVjdGVkIENhbmNlbGxlZCBieSBIb3N0XCIsXHJcbiAgICAgICAgICAgIDB4MUY6IFwiTWFudWFsIFNlbGVjdGlvbiBUaW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MjA6IFwiTWFudWFsIFNlbGN0aW9uIENhbmNlbGxlZCBieSBDYXJkaG9sZGVyXCIsXHJcbiAgICAgICAgICAgIDB4MjE6IFwiV2FpdGluZyBmb3IgQ2FyZCBDYW5jZWxsZWQgYnkgSG9zdFwiLFxyXG4gICAgICAgICAgICAweDIyOiBcIldhaXRpbmcgZm9yIENhcmQgVGltZW91dFwiLFxyXG4gICAgICAgICAgICAweDIzOiBcIkNhbmNlbGxlZCBieSBDYXJkIFN3aXBlIChNU1IpIFtTQ1JBXSB8fCBXYWl0aW5nIGZvciBDYXJkIENhbmNlbGxlZCBieSBDYXJkaG9sZGVyIFtQSU5dXCIsXHJcbiAgICAgICAgICAgIDB4MjQ6IFwiV2FpdGluZyBmb3IgQ2FyZCBJQ0MgU2VhdGVkXCIsXHJcbiAgICAgICAgICAgIDB4MjU6IFwiV2FpdGluZyBmb3IgQ2FyZCBNU1IgU3dpcGVkXCIsXHJcbiAgICAgICAgICAgIDB4RkY6IFwiVW5rbm93biBUcmFuc2FjdGlvbiBTdGF0dXNcIixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0bHZQYXJzZXIgPSAoZGF0YSwgaXNNc3IpID0+IHtcclxuICAgICAgICBsZXQgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcclxuICAgICAgICBsZXQgaVRMViA9IDA7XHJcbiAgICAgICAgbGV0IGlUYWc7XHJcbiAgICAgICAgbGV0IGJUYWcgPSB0cnVlO1xyXG4gICAgICAgIGxldCBieXRlVmFsdWU7XHJcbiAgICAgICAgbGV0IGxlbmd0aFZhbHVlO1xyXG4gICAgICAgIGxldCB0YWdCeXRlcyA9IG51bGw7XHJcbiAgICAgICAgbGV0IFRhZ0J1ZmZlciA9IFtdO1xyXG5cclxuICAgICAgICB3aGlsZSAoaVRMViA8IGRhdGFMZW5ndGgpIHtcclxuICAgICAgICAgICAgYnl0ZVZhbHVlID0gZGF0YVtpVExWXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChiVGFnKSB7XHJcbiAgICAgICAgICAgICAgICBpVGFnID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBiTW9yZVRhZ0J5dGVzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYnl0ZVZhbHVlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9GaXJzdCBieXRlIG9mIHRhZyBjYW5ub3QgYmUgemVyby5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoYk1vcmVUYWdCeXRlcyAmJiAoaVRMViA8IGRhdGFMZW5ndGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnl0ZVZhbHVlID0gZGF0YVtpVExWXTtcclxuICAgICAgICAgICAgICAgICAgICBpVExWKys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFRhZ0J1ZmZlcltpVGFnXSA9IGJ5dGVWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYk1vcmVUYWdCeXRlcyA9IChpVGFnID09PSAwKSA/ICgoYnl0ZVZhbHVlICYgdGhpcy5tb3JlVGFnQnl0ZXNGbGFnMSkgPT0gdGhpcy5tb3JlVGFnQnl0ZXNGbGFnMSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGJ5dGVWYWx1ZSAmIHRoaXMubW9yZVRhZ0J5dGVzRmxhZzIpID09IHRoaXMubW9yZVRhZ0J5dGVzRmxhZzIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpVGFnKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGFnQnl0ZXMgPSB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKFRhZ0J1ZmZlci5zbGljZSgwLCBpVGFnKSk7XHJcbiAgICAgICAgICAgICAgICBiVGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZW5ndGhWYWx1ZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChieXRlVmFsdWUgJiB0aGlzLm1vcmVMZW5ndGhGbGFnKSA9PSB0aGlzLm1vcmVMZW5ndGhGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5MZW5ndGhCeXRlcyA9IGJ5dGVWYWx1ZSAmIHRoaXMub25lQnl0ZUxlbmd0aE1hc2s7XHJcbiAgICAgICAgICAgICAgICAgICAgaVRMVisrO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpTGVuID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChpTGVuIDwgbkxlbmd0aEJ5dGVzKSAmJiAoaVRMViA8IGRhdGFMZW5ndGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVWYWx1ZSA9IGRhdGFbaVRMVl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlUTFYrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoVmFsdWUgPSAoKGxlbmd0aFZhbHVlICYgMHgwMDAwMDBGRikgPDwgOCkgKyBieXRlVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlMZW4rKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZW5ndGhWYWx1ZSA9IGJ5dGVWYWx1ZSAmIHRoaXMub25lQnl0ZUxlbmd0aE1hc2s7XHJcbiAgICAgICAgICAgICAgICAgICAgaVRMVisrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0YWdCeXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWdCeXRlID0gVGFnQnVmZmVyWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kSW5kZXggPSAoKGlUTFYgKyBsZW5ndGhWYWx1ZSkgPiBkYXRhTGVuZ3RoKSA/IGRhdGFMZW5ndGggOiBpVExWICsgbGVuZ3RoVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsZW4gPSBlbmRJbmRleCAtIGlUTFY7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlQnl0ZXMgPSAobGVuID4gMCkgPyB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKGRhdGEuc2xpY2UoaVRMViwgaVRMViArIGxlbikpIDogXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRhZ1wiOiB0YWdCeXRlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YWdMZW5ndGhcIjogKCFsZW5ndGhWYWx1ZSkgPyAodmFsdWVCeXRlcy5sZW5ndGggKyAxIC8gMikgOiBsZW5ndGhWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YWdWYWx1ZVwiOiB0aGlzLmhleE9yQXNjaWlGb3JtYXR0ZXIodGFnQnl0ZXMsIHZhbHVlQnl0ZXMsIGlzTXNyKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICEoKHRhZ0J5dGUgJiB0aGlzLmNvbnN0cnVjdGVkRmxhZykgPT0gdGhpcy5jb25zdHJ1Y3RlZEZsYWcpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpVExWICs9IGxlbmd0aFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBiVGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGhleE9yQXNjaWlGb3JtYXR0ZXIgPSAodGFnQnl0ZXMsIHZhbHVlQnl0ZXMsIGlzTXNyKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoKHRhZ0J5dGVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJERkRGMUFcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZUJ5dGVzfSAke3RoaXMudHJ4U3RhdHVzVG9TdHJpbmdbIHBhcnNlSW50KHZhbHVlQnl0ZXMsIDE2KSBdfWBcclxuICAgICAgICAgICAgY2FzZSBcIkRGREY0RFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiNUYyMFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGV4VG9Bc2NpaSh2YWx1ZUJ5dGVzKTtcclxuICAgICAgICAgICAgY2FzZSBcIkRGREYyNVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChpc01zcikgPyB0aGlzLmhleFRvQXNjaWkoICh2YWx1ZUJ5dGVzID8gdmFsdWVCeXRlcy5zdWJzdHJpbmcoMCwgMTQpIDogdmFsdWVCeXRlcykgKSA6IHZhbHVlQnl0ZXM7XHJcbiAgICAgICAgICAgIGNhc2UgXCJERkRGNDBcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAodmFsdWVCeXRlcyA9PT0gMHg4MCkgPyBgJHt2YWx1ZUJ5dGVzfSAgQ0JDLU1BQyBjaGVja2VkIGluIEFSUUMgb25saW5lIHJlc3BvbnNlYCA6ICh2YWx1ZUJ5dGVzID09PSAweDAxKTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZUJ5dGVzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRW12UGFyc2VyOyIsImNsYXNzIExlbmd0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoXCJEZXZpY2UgY29tbXVuaWNhdGlvbiBlcnJvci4gTGVuZ3RoIGRvZXMgbm90IG1hdGNoIGRhdGFcIik7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJCbGVUcmFuc21pc3Npb25FcnJvclwiO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IDEwMTI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExlbmd0aEVycm9yOyIsImNsYXNzIERldmljZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoeyBjb2RlLCBuYW1lLCBtZXNzYWdlIH0pIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSAobmFtZSB8fCBcIkRldmljZUVycm9yXCIpO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IChjb2RlIHx8IDEwMDApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERldmljZUVycm9yOyIsImltcG9ydCBFbXZQYXJzZXIgZnJvbSAnLi4vcGFyc2Vycy9lbXZQYXJzZXInXHJcbmltcG9ydCBBcGlFcnJvciBmcm9tICcuL2FwaUVycm9yJztcclxuaW1wb3J0IExlbmd0aEVycm9yIGZyb20gJy4vbGVuZ3RoRXJyb3InO1xyXG5pbXBvcnQgRGV2aWNlRXJyb3IgZnJvbSAnLi9kZXZpY2VFcnJvcic7XHJcblxyXG5jbGFzcyBFcnJvckhhbmRsZXIgZXh0ZW5kcyBFbXZQYXJzZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrID0gY2FsbGJhY2tzLmVycm9yQ2FsbGJhY2s7XHJcbiAgICB9O1xyXG5cclxuICAgIGJ1aWxkRGV2aWNlRXJyID0gZXJyID0+IChlcnIgaW5zdGFuY2VvZiBET01FeGNlcHRpb24pID8gXHJcbiAgICAgICAgbmV3IEFwaUVycm9yKGVycikgOiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpID8gXHJcbiAgICAgICAgICAgIGVyciA6IG5ldyBEZXZpY2VFcnJvcihlcnIpO1xyXG5cclxuICAgIHRocm93TGVuRXJyID0gKCkgPT4gbmV3IExlbmd0aEVycm9yKCk7XHJcblxyXG4gICAgc2VuZEVyclRvQ2FsbGJhY2sgPSBlcnIgPT4ge1xyXG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayhlcnIpO1xyXG4gICAgICAgIHJldHVybiBlcnI7XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFcnJvckhhbmRsZXI7IiwiY29uc3Qgbm90Rm91bmRPYmogPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGVycm9yQ29kZTogOCxcclxuICAgIGVycm9yTmFtZTogXCJOb3RGb3VuZEVycm9yXCJcclxufSk7XHJcblxyXG5jb25zdCBhcGlOZXR3b3JrRXJyID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxOSxcclxuICAgIG5hbWU6ICdOZXR3b3JrRXJyb3InXHJcbn0pO1xyXG5cclxuY29uc3QgZGV2aWNlTm90Rm91bmQgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDIsXHJcbiAgICBuYW1lOiAnRGV2aWNlTm90Rm91bmQnLFxyXG4gICAgbWVzc2FnZTogXCJQbGVhc2Ugc2VsZWN0IGRldmljZSB0byBjb25uZWN0XCJcclxufSk7XHJcblxyXG5jb25zdCBnYXR0U2VydmVyTm90Q29ubmVjdGVkID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDAzLFxyXG4gICAgbmFtZTogXCJHYXR0U2VydmVyTm90Q29ubmVjdGVkXCIsXHJcbiAgICBtZXNzYWdlOiBcIlBsZWFzZSBjb25uZWN0IGRlc2lyZWQgZGV2aWNlXCJcclxufSk7XHJcblxyXG5jb25zdCBjb21tYW5kTm90U2VudCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAwNCwgXHJcbiAgICBuYW1lOiBcIkNvbW1hbmROb3RTZW50XCIsIFxyXG4gICAgbWVzc2FnZTogXCJDb21tYW5kIGNoYXJhY3RlcmlzdGljIG5vdCBmb3VuZCwgZGV2aWNlIG5vdCBvcGVuZWRcIlxyXG59KTtcclxuXHJcbmNvbnN0IGRldmljZU5vdE9wZW4gPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDUsIFxyXG4gICAgbmFtZTogXCJDb21tYW5kTm90U2VudFwiLCBcclxuICAgIG1lc3NhZ2U6IFwiRGV2aWNlIG5vdCBvcGVuZWRcIlxyXG59KTtcclxuXHJcbmNvbnN0IGNvbW1hbmROb3RTZW50RnJvbUhvc3QgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDYsIFxyXG4gICAgbmFtZTogXCJDb21tYW5kTm90U2VudFwiLCBcclxuICAgIG1lc3NhZ2U6IFwiQXBwbGljYXRpb24gRnJvbSBIb3N0IG5vdCBmb3VuZC4gIERldmljZSBub3QgY29ubmVjdGVkXCJcclxufSk7XHJcblxyXG5jb25zdCByZWFkRmFpbGVkID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDA3LCBcclxuICAgIG5hbWU6IFwiUmVhZEZhaWxlZFwiLCBcclxuICAgIG1lc3NhZ2U6IFwiVW5hYmxlIHRvIHJlYWQgZGF0YSBmcm9tIGRldmljZS4gQ29tbXVuaWNhdGlvbiBlcnJvclwiXHJcbn0pO1xyXG5cclxuY29uc3QgcmVzcG9uc2VOb3RSZWNlaXZlZCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAwOCwgXHJcbiAgICBuYW1lOiAnUmVzcG9uc2VOb3RSZWNlaXZlZCcsIFxyXG4gICAgbWVzc2FnZTogXCJDb21tYW5kIHdhcyBzZW50LCBidXQgcmVzcG9uc2Ugd2FzIG5vdCByZWNlaXZlZCBmcm9tIGRldmljZVwiXHJcbn0pO1xyXG5cclxuY29uc3QgZ2V0U2VydmljZUZhaWwgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDksIFxyXG4gICAgbmFtZTogXCJHZXRTZXJ2aWNlRmFpbFwiLCBcclxuICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHJldHJpZXZlIHByaW1hcnkgR0FUVCBzZXJ2aWNlLiBQbGVhc2UgY29ubmVjdCBkZXZpY2VcIlxyXG59KTtcclxuXHJcbmNvbnN0IGNvbW1hbmROb3RBY2NlcHRlZCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAxMyxcclxuICAgIG5hbWU6IFwiQ29tbWFuZE5vdEFjY2VwdGVkXCIsXHJcbiAgICBtZXNzYWdlOiBcIkRldmljZSBkaWQgbm90IGFjY2VwdCBjb21tYW5kXCJcclxufSk7XHJcblxyXG5jb25zdCBtaXNzaW5nUmVxdWlyZWRGaWVsZHMgPSBmaWVsZE5hbWUgPT4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDE0LFxyXG4gICAgbmFtZTogXCJNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJcIixcclxuICAgIG1lc3NhZ2U6IGAnJHtmaWVsZE5hbWV9JyBpcyByZXF1aXJlZCB0byBjYWxsIHRoaXMgZnVuY3Rpb24uYFxyXG59KTtcclxuXHJcbmNvbnN0IHdyb25nSW5wdXRUeXBlcyA9IChhY2NlcHRhYmxlVHlwZXMsIHByb3BlcnR5TmFtZSkgPT4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDE1LFxyXG4gICAgbmFtZTogXCJJbmNvcnJlY3RJbnB1dFR5cGVcIixcclxuICAgIG1lc3NhZ2U6IGBQYXJhbWV0ZXIgdHlwZSBmb3IgJHtwcm9wZXJ0eU5hbWV9IHdhcyBub3QgY29ycmVjdCwgYWNjZXB0YWJsZSB0eXBlKHMpIGFyZTogJHthY2NlcHRhYmxlVHlwZXMuam9pbihcIiwgXCIpfWBcclxufSk7XHJcblxyXG5jb25zdCB3cm9uZ0lucHV0VmFsdWVzID0gKGFjY2VwdGFibGVWYWxzLCBwcm9wZXJ0eU5hbWUpID0+IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAxNSxcclxuICAgIG5hbWU6IFwiSW5jb3JyZWN0SW5wdXRWYWx1ZVwiLFxyXG4gICAgbWVzc2FnZTogYFBhcmFtZXRlciB2YWx1ZSBmb3IgJHtwcm9wZXJ0eU5hbWV9IHdhcyBub3QgY29ycmVjdCwgYWNjZXB0YWJsZSB2YWx1ZShzKSBhcmU6ICR7YWNjZXB0YWJsZVZhbHMuam9pbihcIiwgXCIpfWBcclxufSk7XHJcblxyXG5leHBvcnQge1xyXG4gICAgY29tbWFuZE5vdEFjY2VwdGVkLFxyXG4gICAgY29tbWFuZE5vdFNlbnQsXHJcbiAgICByZXNwb25zZU5vdFJlY2VpdmVkLFxyXG4gICAgZGV2aWNlTm90Rm91bmQsXHJcbiAgICBkZXZpY2VOb3RPcGVuLFxyXG4gICAgZ2F0dFNlcnZlck5vdENvbm5lY3RlZCxcclxuICAgIHJlYWRGYWlsZWQsXHJcbiAgICBjb21tYW5kTm90U2VudEZyb21Ib3N0LFxyXG4gICAgZ2V0U2VydmljZUZhaWwsXHJcbiAgICBub3RGb3VuZE9iaixcclxuICAgIGFwaU5ldHdvcmtFcnIsXHJcbiAgICBtaXNzaW5nUmVxdWlyZWRGaWVsZHMsXHJcbiAgICB3cm9uZ0lucHV0VHlwZXMsXHJcbiAgICB3cm9uZ0lucHV0VmFsdWVzXHJcbn1cclxuIiwiaW1wb3J0IEVycm9ySGFuZGxlciBmcm9tICcuLi9lcnJvckhhbmRsZXInO1xyXG5pbXBvcnQgeyBcclxuICAgIGRldmljZU5vdEZvdW5kLCBcclxuICAgIGdhdHRTZXJ2ZXJOb3RDb25uZWN0ZWQsXHJcbiAgICBnZXRTZXJ2aWNlRmFpbCxcclxuICAgIG5vdEZvdW5kT2JqLFxyXG4gICAgZGV2aWNlTm90T3BlbixcclxuICAgIGFwaU5ldHdvcmtFcnIsXHJcbiAgICB3cm9uZ0lucHV0VHlwZXNcclxufSBmcm9tICcuLi9lcnJvckhhbmRsZXIvZXJyQ29uc3RhbnRzJztcclxuaW1wb3J0IHsgY2FyZFR5cGVBbGwsIGNhcmRUeXBlc09iaiwgc3VjY2Vzc2Z1bENsb3NlIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIERldmljZUJhc2UgZXh0ZW5kcyBFcnJvckhhbmRsZXIge1xyXG4gICAgY29uc3RydWN0b3IoZGV2aWNlLCBjYWxsYmFja3MpIHtcclxuICAgICAgICBzdXBlcihjYWxsYmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLmRldmljZSA9IGRldmljZTtcclxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RDYWxsYmFjayA9IGNhbGxiYWNrcy5kaXNjb25uZWN0SGFuZGxlcjtcclxuICAgICAgICB0aGlzLmdhdHRTZXJ2ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FyZFNlcnZpY2UgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmRldmljZVVVSURzID0gW1xyXG4gICAgICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwNFwiLFxyXG4gICAgICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwM1wiLCBcclxuICAgICAgICAgICAgXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAxMDFcIlxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdHVzVmVyYm9zaXR5ID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwibWluaW11bVwiOiAweDAwLFxyXG4gICAgICAgICAgICAnbWVkaXVtJzogMHgwMSxcclxuICAgICAgICAgICAgJ3ZlcmJvc2UnOiAweDAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVuY3lDb2RlID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgICdkb2xsYXInOiBbMHgwOCwgMHg0MF0sXHJcbiAgICAgICAgICAgICdldXJvJzogWzB4MDksIDB4NzhdLFxyXG4gICAgICAgICAgICAncG91bmQnOiBbMHgwOCwgMHgyNl0sXHJcbiAgICAgICAgICAgICdkZWZhdWx0JzogWzB4MDAsIDB4MDBdIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uVHlwZXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgJ3B1cmNoYXNlJzogMHgwMCxcclxuICAgICAgICAgICAgJ2Nhc2hhZHZhbmNlJzogMHgwMSxcclxuICAgICAgICAgICAgJ2Nhc2hiYWNrJzogMHgwMixcclxuICAgICAgICAgICAgJ3B1cmNoYXNlZ29vZHMnOiAweDA0LFxyXG4gICAgICAgICAgICAncHVyY2hhc2VzZXJ2aWNlcyc6IDB4MDgsXHJcbiAgICAgICAgICAgICdjb250YWN0bGVzc2Nhc2hiYWNrJzogMHgwOSxcclxuICAgICAgICAgICAgJ2Nhc2htYW51YWwnOiAweDEyLFxyXG4gICAgICAgICAgICAncmVmdW5kJzogMHgyMCwgXHJcbiAgICAgICAgICAgICdjaGlwb25seXBheW1lbnQnOiAweDUwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjYXJkVHlwZXMgPSBjYXJkVHlwZVN0ciA9PiAoY2FyZFR5cGVTdHIgIT09ICdhbGwnKSA/IFxyXG4gICAgICAgIChjYXJkVHlwZXNPYmpbIGNhcmRUeXBlU3RyIF0gfHwgMHgwMykgOiAoY2FyZFR5cGVBbGxbIHRoaXMuZGV2aWNlVHlwZSBdIHx8IDB4MDMpO1xyXG4gICAgICAgIFxyXG5cclxuICAgIGNvbm5lY3QgPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogRGV2aWNlIENvbm5lY3Rpb24gUmVxdWVzdCB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgIHJldHVybiAodGhpcy5kZXZpY2UpID9cclxuICAgICAgICAgICAgdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0KClcclxuICAgICAgICAgICAgICAgIC50aGVuKHNlcnZlciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBEZXZpY2UgY29ubmVjdGVkIC0gR0FUVCBTZXJ2ZXIgcmV0cmlldmVkIHN1Y2Nlc3NmdWxseSB8fCAke25ldyBEYXRlKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXR0U2VydmVyID0gc2VydmVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90Rm91bmQpIClcclxuICAgIH0pO1xyXG5cclxuICAgIGRpc2Nvbm5lY3QgPSAoKSA9PiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiAge1xyXG4gICAgICAgIGlmICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHN1Y2Nlc3NmdWxDbG9zZSApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRldmljZS5nYXR0LmRpc2Nvbm5lY3QoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggc3VjY2Vzc2Z1bENsb3NlIClcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYWNoZUNhcmRTZXJ2aWNlQmFzZSA9IHNlcnZpY2VJbmRleCA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHNlcnZpY2VJbmRleCA9IHNlcnZpY2VJbmRleCB8fCAwO1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogQ2FjaGUgQ2FyZCBTZXJ2aWNlIFJlcXVlc3QgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICByZXR1cm4gKCF0aGlzLmdhdHRTZXJ2ZXIpID8gXHJcbiAgICAgICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihnYXR0U2VydmVyTm90Q29ubmVjdGVkKSApXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgdGhpcy5maW5kUHJpbWFyeVNlcnZpY2Uoc2VydmljZUluZGV4KVxyXG4gICAgICAgICAgICAudGhlbihzZXJ2aWNlID0+IHJlc29sdmUoc2VydmljZSkpXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpXHJcbiAgICB9KTtcclxuXHJcbiAgICBmaW5kUHJpbWFyeVNlcnZpY2UgPSBzZXJ2aWNlSW5kZXggPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+XHJcbiAgICAgICAgdGhpcy5nYXR0U2VydmVyLmdldFByaW1hcnlTZXJ2aWNlKHRoaXMuZGV2aWNlVVVJRHNbc2VydmljZUluZGV4XSlcclxuICAgICAgICAudGhlbihzZXJ2aWNlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYXJkU2VydmljZSA9IHNlcnZpY2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IFN1Y2Nlc3MhIEdBVFQgQ2FyZCBTZXJ2aWNlIHJldHJpZXZlZCBhbmQgY2FjaGVkIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlLmFkZEV2ZW50TGlzdGVuZXIoJ2dhdHRzZXJ2ZXJkaXNjb25uZWN0ZWQnLCB0aGlzLmRpc2Nvbm5lY3RIYW5kbGVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHNlcnZpY2UgKTtcclxuICAgICAgICB9KS5jYXRjaCggZXJyID0+IHtcclxuICAgICAgICAgICAgaWYgKGVyci5jb2RlID09PSBub3RGb3VuZE9iai5lcnJvckNvZGUgJiYgZXJyLm5hbWUgPT09IG5vdEZvdW5kT2JqLmVycm9yTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiggdGhpcy5kZXZpY2VVVUlEc1tzZXJ2aWNlSW5kZXggKyAxXSAhPT0gXCJ1bmRlZmluZWRcIiApKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBbRVJST1JdOiBGYWlsZWQgdG8gY29ubmVjdC4gVVVJRDogJHt0aGlzLmRldmljZVVVSURzWyBzZXJ2aWNlSW5kZXggXX0gaXMgbm90IHZhbGlkIGZvciB0aGlzIGRldmljZS4gVHJ5aW5nIGFnYWluIHdpdGggVVVJRDogJHt0aGlzLmRldmljZVVVSURzWyBzZXJ2aWNlSW5kZXggKyAxIF19IHx8ICR7bmV3IERhdGUoKX1gXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuZmluZFByaW1hcnlTZXJ2aWNlKHNlcnZpY2VJbmRleCArIDEpICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbRVJST1JdOiBGYWlsZWQgdG8gcmV0cmlldmUgQ2FyZCBTZXJ2aWNlIC0gVVVJRDogJHt0aGlzLmRldmljZVVVSURzWyBzZXJ2aWNlSW5kZXggXX0gaXMgbm90IHZhbGlkIGZvciB0aGlzIGRldmljZS4gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoIGVyciApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgY29ubmVjdEFuZENhY2hlID0gb3B0aW9uYWxJbmRleCA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgdHJ5VG9Db25uZWN0ID0gdHJ5Q291bnQgPT4gbmV3IFByb21pc2UoIChpbm5lclJlc29sdmUsIGlubmVyUmVqZWN0KSA9PiAodHJ5Q291bnQgPCA0KSA/IFxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuY2FjaGVDYXJkU2VydmljZUJhc2Uob3B0aW9uYWxJbmRleCkgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oIGNhY2hlU2VydmljZVJlc3AgPT4gaW5uZXJSZXNvbHZlKCBjYWNoZVNlcnZpY2VSZXNwIClcclxuICAgICAgICAgICAgICAgICkuY2F0Y2goIGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5jb2RlID09PSBhcGlOZXR3b3JrRXJyLmNvZGUgJiYgZXJyLm5hbWUgPT09IGFwaU5ldHdvcmtFcnIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dCggKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0VSUk9SXTogRXJyb3IgY2FjaGluZyBHQVRUIFNlcnZpY2UgLSBDbGVhcmluZyBjYWNoZSBhbmQgdHJ5aW5nIGFnYWluLiB8fCAke25ldyBEYXRlKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyR2F0dENhY2hlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJSZXNvbHZlKCB0cnlUb0Nvbm5lY3QoIHRyeUNvdW50ICsgMSApICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtFUlJPUl06IEZhaWxlZCB0byBjYWNoZSBHQVRUIFNlcnZpY2UgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJSZWplY3QoIGVyciApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICBpbm5lclJlamVjdCggdGhpcy5idWlsZERldmljZUVycihnZXRTZXJ2aWNlRmFpbCkgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnlUb0Nvbm5lY3QoMCkudGhlbihcclxuICAgICAgICAgICAgY2FjaGVTZXJ2aWNlUmVzcCA9PiByZXNvbHZlKCBjYWNoZVNlcnZpY2VSZXNwKVxyXG4gICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNlbmRBcnBjQmFzZSA9IGFycGNSZXNwID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdE9wZW4pICk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgYXJwY1Jlc3AgIT09ICdzdHJpbmcnICYmIHR5cGVvZiBhcnBjUmVzcCAhPT0gJ29iamVjdCcpXHJcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoIHdyb25nSW5wdXRUeXBlcyhbJ3N0cmluZycsICdhcnJheSBvZiBudW1iZXJzJ10sIFwiQVJQQ1wiKSApICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGFMZW4gPSAodHlwZW9mIGFycGNSZXNwID09PSAnc3RyaW5nJykgPyAoYXJwY1Jlc3AubGVuZ3RoIC8gMikgOiBhcnBjUmVzcC5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgaW5wdXREYXRhID0gKHR5cGVvZiBhcnBjUmVzcCA9PT0gJ3N0cmluZycpID8gdGhpcy5oZXhUb0J5dGVzKGFycGNSZXNwKSA6IGFycGNSZXNwO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzb2x2ZShcclxuICAgICAgICAgICAgdGhpcy5idWlsZEFycGNDb21tYW5kKGRhdGFMZW4sIGlucHV0RGF0YSlcclxuICAgICAgICApXHJcbiAgICB9KTtcclxuXHJcbiAgICBvbkRlc3Ryb3lIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRldmljZSAmJiB0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRldmljZS5nYXR0LmRpc2Nvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICB3YWl0Rm9yRGV2aWNlUmVzcG9uc2UgPSBtYXhUcmllcyA9PiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcblxyXG4gICAgICAgIGxldCB3YWl0Rm9yUmVzcG9uc2UgPSB0cnlOdW1iZXIgPT4gXHJcbiAgICAgICAgICAgICh0cnlOdW1iZXIgPCBtYXhUcmllcykgPyBcclxuICAgICAgICAgICAgICAgICh0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlKSA/IHJlc29sdmUoIHRydWUgKSA6IHNldFRpbWVvdXQoKCkgPT4gd2FpdEZvclJlc3BvbnNlKHRyeU51bWJlciArIDEpLCAyMDApXHJcbiAgICAgICAgICAgIDogcmVzb2x2ZSggZmFsc2UgKTtcclxuXHJcbiAgICAgICAgd2FpdEZvclJlc3BvbnNlKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGlzY29ubmVjdEhhbmRsZXIgPSBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5nYXR0U2VydmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNhcmRTZXJ2aWNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0Rpc2Nvbm5lY3RlZF06IERpc2Nvbm5lY3QgZXZlbnQuIFJldHVybmluZyBldmVudCB0byB1c2VyLCByZW1vdmluZyBkZXZpY2UgbGlzdGVuZXIgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RDYWxsYmFjayhldmVudCk7XHJcbiAgICAgICAgdGhpcy5kZXZpY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZ2F0dHNlcnZlcmRpc2Nvbm5lY3RlZCcsIHRoaXMuZGlzY29ubmVjdEhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRGV2aWNlQ29ubmVjdGVkID0gKCkgPT4gKHRoaXMuZGV2aWNlLmdhdHQpID8gdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQgOiBmYWxzZTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGV2aWNlQmFzZTsiLCJpbXBvcnQgRGV2aWNlQmFzZSBmcm9tICcuLi9kZXZpY2VzL2Jhc2VDbGFzcyc7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgbWlzc2luZ1JlcXVpcmVkRmllbGRzLFxyXG4gICAgd3JvbmdJbnB1dFR5cGVzLFxyXG4gICAgd3JvbmdJbnB1dFZhbHVlc1xyXG59IGZyb20gJy4uL2Vycm9ySGFuZGxlci9lcnJDb25zdGFudHMnO1xyXG5cclxuY2xhc3MgUGluVmFsaWRhdGlvbiBleHRlbmRzIERldmljZUJhc2Uge1xyXG4gICAgY29uc3RydWN0b3IoZGV2aWNlLCBjYWxsQmFja3MpIHtcclxuICAgICAgICBzdXBlcihkZXZpY2UsIGNhbGxCYWNrcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVBbW91bnQgPSBwYXJlbnRSZWplY3QgPT4gKGFtb3VudCwgcHJvcE5hbWUsIGRlZmF1bHRWYWwpID0+IHtcclxuICAgICAgICBzd2l0Y2godHlwZW9mKGFtb3VudCkpIHtcclxuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoYW1vdW50LnRvU3RyaW5nKCkubGVuZ3RoID4gMTIpID8gcGFyZW50UmVqZWN0KHdyb25nSW5wdXRWYWx1ZXMoWydudW1iZXIgb2YgMTIgZGlnaXRzIG9yIGxlc3MnLCAnYnl0ZSBhcnJheSByZXByZXNlbnRhdGlvbiBvZiBhbW91bnQgKDYgYnl0ZXMsIG4xMiBmb3JtYXQpJ10sIGFtb3VudCkpIFxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5jb252ZXJ0TnVtVG9BbW91bnQoYW1vdW50KTtcclxuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoYW1vdW50Lmxlbmd0aCA9PT0gNikgPyBhbW91bnQgXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwYXJlbnRSZWplY3Qod3JvbmdJbnB1dFZhbHVlcyhbJzEyIGRpZ2l0IG9yIGxlc3MgbnVtYmVyJywgJ2J5dGUgYXJyYXkgcmVwcmVzZW50YXRpb24gb2YgYW1vdW50ICg2IGJ5dGVzLCBuMTIgZm9ybWF0KSddLCBwcm9wTmFtZSkpO1xyXG4gICAgICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YoZGVmYXVsdFZhbCkgPT09ICd1bmRlZmluZWQnKSA/IHBhcmVudFJlamVjdChtaXNzaW5nUmVxdWlyZWRGaWVsZHMocHJvcE5hbWUpKSA6IGRlZmF1bHRWYWw7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50UmVqZWN0KHdyb25nSW5wdXRUeXBlcyhbJ251bWJlciBvZiAxMiBkaWdpdHMgb3IgbGVzcycsICdieXRlIGFycmF5IHJlcHJlc2VudGF0aW9uIG9mIGFtb3VudCAoNiBieXRlcywgbjEyIGZvcm1hdCknXSwgcHJvcE5hbWUpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdmFsaWRhdGVSZXF1aXJlZElucHV0cyA9IHZhbGlkYXRpb25Db25maWcgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsaWRhdGlvbkNvbmZpZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgeyBwcm9wLCB2YWxpZFR5cGVzLCB2YWxpZFZhbHVlcywgY29uZGl0aW9uLCBwcm9wTmFtZSB9ID0gdmFsaWRhdGlvbkNvbmZpZ1tpXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YocHJvcCkgPT09ICd1bmRlZmluZWQnICYmIGNvbmRpdGlvbilcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobWlzc2luZ1JlcXVpcmVkRmllbGRzKHByb3BOYW1lKSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdHlwZUlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaW5keCA9IDA7IGluZHggPCB2YWxpZFR5cGVzLmxlbmd0aDsgaW5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHByb3ApID09PSB2YWxpZFR5cGVzW2luZHhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZUlzVmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXR5cGVJc1ZhbGlkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh3cm9uZ0lucHV0VHlwZXModmFsaWRUeXBlcywgcHJvcE5hbWUpKTsgXHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mKHZhbGlkVmFsdWVzKSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxzQXJlVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB2YWxpZFZhbHVlcy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcC50b0xvd2VyQ2FzZSgpID09PSB2YWxpZFZhbHVlc1tpbmRleF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsc0FyZVZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdmFsc0FyZVZhbGlkKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Qod3JvbmdJbnB1dFZhbHVlcyh2YWxpZFZhbHVlcywgcHJvcE5hbWUpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGluVmFsaWRhdGlvbjsiLCJpbXBvcnQgUGluVmFsaWRhdGlvbiBmcm9tICcuL3BpblZhbGlkYXRpb24nO1xyXG5cclxuY2xhc3MgUGluVXRpbHMgZXh0ZW5kcyBQaW5WYWxpZGF0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY2ltYWxUb0JpbmFyeSA9IG51bSA9PiB7XHJcbiAgICAgICAgbGV0IGJpbmFyeU51bSA9IChudW0gPj4+IDApLnRvU3RyaW5nKDIpO1xyXG4gICAgICAgIHJldHVybiBcIjAwMDAwMDAwXCIuc3Vic3RyKGJpbmFyeU51bS5sZW5ndGgpICsgYmluYXJ5TnVtO1xyXG4gICAgfVxyXG5cclxuICAgIHN0cmluZ051bVRvQm9vbCA9IHN0cmluZ051bSA9PiAhIStzdHJpbmdOdW07XHJcblxyXG4gICAgZmluZE51bGxUZXJtaW5hdGVkU3RyaW5nID0gbnVsbFRlcm1pbmF0ZWRBcnJheSA9PiB7XHJcbiAgICAgICAgbGV0IHRhcmdldEluZGV4O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bGxUZXJtaW5hdGVkQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG51bGxUZXJtaW5hdGVkQXJyYXlbaV0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChudWxsVGVybWluYXRlZEFycmF5W2kgKyAxXSA9PT0gMCAmJiBudWxsVGVybWluYXRlZEFycmF5W2kgKyAyXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICh0YXJnZXRJbmRleCkgPyBcclxuICAgICAgICAgICAgdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhudWxsVGVybWluYXRlZEFycmF5LnNsaWNlKDIsIHRhcmdldEluZGV4KSApIFxyXG4gICAgICAgICAgICA6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcobnVsbFRlcm1pbmF0ZWRBcnJheS5zbGljZSgyKSApO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRQaW5MZW5ndGggPSAobWF4TGVuLCBtaW5MZW4pID0+IHtcclxuICAgICAgICBsZXQgbWF4TGVuZ3RoID0gMTI7XHJcbiAgICAgICAgbGV0IG1pbkxlbmd0aCA9IDQ7XHJcblxyXG4gICAgICAgIGlmIChtYXhMZW4pIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXhMZW4gPT09ICdudW1iZXInICYmIG1heExlbiA8PSAxMilcclxuICAgICAgICAgICAgICAgIG1heExlbmd0aCA9IChtYXhMZW4gPj0gNCkgPyBtYXhMZW4gOiAxMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtaW5MZW4pIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5MZW4gPT09ICdudW1iZXInICYmIG1pbkxlbiA+PTQpXHJcbiAgICAgICAgICAgICAgICBtaW5MZW5ndGggPSAobWluTGVuIDw9IG1heExlbmd0aCkgPyBtaW5MZW4gOiA0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGAke21heExlbmd0aC50b1N0cmluZygxNil9JHttaW5MZW5ndGgudG9TdHJpbmcoMTYpfWAsIDE2KTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZFBpbk9wdGlvbnNCeXRlID0gKGxhbmd1YWdlU2VsZWN0aW9uLCB3YWl0TWVzc2FnZSwgdmVyaWZ5UGluLCBwaW5CbG9ja0Zvcm1hdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxhbmd1YWdlUHJvbXB0cyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBcImRpc2FibGVkXCI6IFwiMDBcIixcclxuICAgICAgICAgICAgXCJlbmdsaXNoZnJlbmNoXCI6IFwiMDFcIixcclxuICAgICAgICAgICAgXCJhbGxzcGVjaWZpZWRcIjogXCIxMFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxhbmd1YWdlU2VsZWN0aW9uID0gKGxhbmd1YWdlU2VsZWN0aW9uKSA/IChsYW5ndWFnZVByb21wdHNbIGxhbmd1YWdlU2VsZWN0aW9uLnRvTG93ZXJDYXNlKCkgXSB8fCBsYW5ndWFnZVByb21wdHMuZGlzYWJsZWQpIDogbGFuZ3VhZ2VQcm9tcHRzLmRpc2FibGVkO1xyXG4gICAgICAgIHdhaXRNZXNzYWdlID0gKHR5cGVvZiB3YWl0TWVzc2FnZSA9PT0gJ2Jvb2xlYW4nKSA/IHdhaXRNZXNzYWdlIDogdHJ1ZTtcclxuICAgICAgICB2ZXJpZnlQaW4gPSAodHlwZW9mIHdhaXRNZXNzYWdlID09PSAnYm9vbGVhbicpID8gd2FpdE1lc3NhZ2UgOiB0cnVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBpbkJsb2NrRm9ybWF0ID0gKHBpbkJsb2NrRm9ybWF0ICYmIHR5cGVvZihwaW5CbG9ja0Zvcm1hdCkgPT09ICdzdHJpbmcnKSA/IFxyXG4gICAgICAgICAgICAgICAgKHBpbkJsb2NrRm9ybWF0LnRvTG93ZXJDYXNlKCkgPT09ICdpc28wJykgPyAnMCcgOiAnMScgXHJcbiAgICAgICAgICAgIDogJzAnO1xyXG5cclxuICAgICAgICBjb25zdCBiaW5hcnlSZXN1bHQgPSBgMDAwJHtsYW5ndWFnZVNlbGVjdGlvbn0keygod2FpdE1lc3NhZ2UpID8gJzEnIDogJzAnKX0keygodmVyaWZ5UGluKSA/ICcxJyA6ICcwJyl9JHtwaW5CbG9ja0Zvcm1hdH1gO1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtQaW5PcHRpb25zQnl0ZV06IGJpbmFyeSBzdHJpbmcgcmVwcmVzZW50YXRpb246ICR7YmluYXJ5UmVzdWx0fSB8fCBieXRlIHJlc3VsdDogJHtwYXJzZUludChiaW5hcnlSZXN1bHQsIDIpfWApXHJcblxyXG4gICAgICAgIHJldHVybiBwYXJzZUludChiaW5hcnlSZXN1bHQsIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkTjJGb3JtYXQgPSBudW0gPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0cmluZ051bSA9IG51bS50b1N0cmluZygpO1xyXG4gICAgICAgIGNvbnN0IGhleE51bSA9IChzdHJpbmdOdW0ubGVuZ3RoID09PSAyKSA/IHN0cmluZ051bSA6IGAwJHtzdHJpbmdOdW19YDtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBwYXJzZUludChgMHgke2hleE51bVswXX0ke2hleE51bVsxXX1gLCAxNik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBpblV0aWxzOyIsImltcG9ydCBQaW5VdGlscyBmcm9tICcuLi91dGlscy9waW5VdGlscyc7XHJcbmltcG9ydCB7IGNvbmZpZ1N0ciwgdW5rbm93biwgYXNjaWkgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY2xhc3MgUGFyc2VQaW5Db25maWcgZXh0ZW5kcyBQaW5VdGlscyB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFja0RhdGFPcHRpb25zID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwiMDBcIjogXCJEaXNhYmxlZFwiLFxyXG4gICAgICAgICAgICBcIjAxXCI6IFwiRW5hYmxlZFwiLFxyXG4gICAgICAgICAgICBcIjExXCI6IFwiUmVxdWlyZWRcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVtdkwyQ29uZmlnT3B0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBcIjAwMDBcIjogXCJObyBMMiBDYXBhYmlsaXR5XCIsXHJcbiAgICAgICAgICAgIFwiMDAwMVwiOiBgJHtjb25maWdTdHJ9IEMxIChFTVZDbyBjZXJ0aWZpZWQpYCxcclxuICAgICAgICAgICAgXCIwMDEwXCI6IGAke2NvbmZpZ1N0cn0gQzJgLFxyXG4gICAgICAgICAgICBcIjAwMTFcIjogYCR7Y29uZmlnU3RyfSBDM2AsXHJcbiAgICAgICAgICAgIFwiMDEwMFwiOiBgJHtjb25maWdTdHJ9IEM0IChFTVZDbyBjZXJ0aWZpZWQpYCxcclxuICAgICAgICAgICAgXCIwMTAxXCI6IGAke2NvbmZpZ1N0cn0gQzUgKEVNVkNvIGNlcnRpZmllZClgLFxyXG4gICAgICAgICAgICBcIjAxMTBcIjogYCR7Y29uZmlnU3RyfSBDNmAsXHJcbiAgICAgICAgICAgIFwiMDExMVwiOiBgJHtjb25maWdTdHJ9IEM3YFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVuYWJsZWRCcmFuZHMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgXCIwXCI6IFwiQWxsIGNvbnRhY2xlc3Mga2VybmFscyBlbmFibGVkXCIsXHJcbiAgICAgICAgICAgIFwiMVwiOiBcIlBheVBhc3MvTUNMIHN1cHBvcnQgZGlzYWJsZWRcIixcclxuICAgICAgICAgICAgXCIyXCI6IFwicGF5V2F2ZSBzdXBwb3J0IGRpc2FibGVkXCIsXHJcbiAgICAgICAgICAgIFwiNFwiOiBcIkV4cHJlc3NwYXkgc3VwcG9ydCBkaXNhYmxlZFwiLFxyXG4gICAgICAgICAgICBcIjhcIjogXCJELVBBUyBzdXBwb3J0IGRpc2FibGVkXCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZURldmljZUNvbmZpZ3VyYXRpb24gPSBjb25maWdBcnIgPT4gKHtcclxuICAgICAgICAuLi50aGlzLmZpcnN0RGV2aWNlQ29udHJvbEJ5dGUoIHRoaXMuZGVjaW1hbFRvQmluYXJ5KGNvbmZpZ0FyclsxXSkgKSxcclxuICAgICAgICAuLi50aGlzLnNlY29uZERldmljZUNvbnRyb2xCeXRlKCB0aGlzLmRlY2ltYWxUb0JpbmFyeShjb25maWdBcnJbMl0pICksXHJcbiAgICAgICAgLi4udGhpcy5tYXNrQ29uZmlndXJhdGlvbkJ5dGUoIHRoaXMuZGVjaW1hbFRvQmluYXJ5KGNvbmZpZ0FyclszXSkgKSxcclxuICAgICAgICAuLi50aGlzLm1zckNvbmZpZ3VyYXRpb25CeXRlKCB0aGlzLmRlY2ltYWxUb0JpbmFyeShjb25maWdBcnJbNF0pICksXHJcbiAgICAgICAgbWFza0NoYXJhY3RlcjogdGhpcy5maW5kTWFza0NoYXJhY3Rlcihjb25maWdBcnJbNV0pLFxyXG4gICAgICAgIGxlYWRpbmdVbm1hc2tlZExlbmd0aDogcGFyc2VJbnQodGhpcy5kZWNpbWFsVG9CaW5hcnkoIGNvbmZpZ0Fycls2XSkuc2xpY2UoNCksIDIpLFxyXG4gICAgICAgIHRyYWlsaW5nVW5tYXNrZWRMZW5ndGg6IHBhcnNlSW50KHRoaXMuZGVjaW1hbFRvQmluYXJ5KCBjb25maWdBcnJbNl0pLnNsaWNlKDAsIDQpLCAyKSxcclxuICAgICAgICBlbXZMMkljc0NvbmZpZzogKHRoaXMuZW12TDJDb25maWdPcHRpb25zWyB0aGlzLmRlY2ltYWxUb0JpbmFyeShjb25maWdBcnJbN10pLnNsaWNlKDAsIDQpIF0gfHwgYCR7dW5rbm93bn0vVW5kb2N1bWVudGVkIEVNViBMMiBJQ1MgJHtjb25maWdTdHJ9YCksXHJcbiAgICAgICAgLi4udGhpcy5jb250YWN0bGVzc0NvbmZpZyggY29uZmlnQXJyWzhdIClcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnRhY3RsZXNzQ29uZmlnID0gY29udGFjdGxlc3NCeXRlID0+ICh7XHJcbiAgICAgICAgY29udGFjdGxlc3NTdXBwb3J0OiB0aGlzLmVuYWJsZWRCcmFuZHNbIHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoW2NvbnRhY3RsZXNzQnl0ZV0pWzBdIF0sXHJcbiAgICAgICAgY29udGFjdGxlc3NHdWlDb250cm9sczogKHRoaXMuZGVjaW1hbFRvQmluYXJ5KGNvbnRhY3RsZXNzQnl0ZSlbNV0gPT09IFwiMVwiKSA/IFwiQWx0ZXJuYXRlXCIgOiBcIlN0YW5kYXJkXCJcclxuICAgIH0pXHJcblxyXG4gICAgZmluZE1hc2tDaGFyYWN0ZXIgPSBudW1DaGFyID0+IHtcclxuICAgICAgICBpZiAobnVtQ2hhciA9PT0gNDgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke2FzY2lpfTogJzAnYFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgbnVtQ2hhclRvSGV4ID0gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhbbnVtQ2hhcl0pO1xyXG4gICAgICAgICAgICBjb25zdCBudW1DaGFyVG9Bc2NpaSA9IHRoaXMuaGV4VG9Bc2NpaSggbnVtQ2hhclRvSGV4ICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKG51bUNoYXJUb0FzY2lpKSA/IGAke2FzY2lpfTogJyR7bnVtQ2hhclRvQXNjaWl9J2AgXHJcbiAgICAgICAgICAgICAgICA6IGBOb24tJHthc2NpaX0gY2hhcmFjdGVyIGluIGhleDogJyR7bnVtQ2hhclRvSGV4fSdgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpcnN0RGV2aWNlQ29udHJvbEJ5dGUgPSBkZXZpY2VDb250cm9sQnl0ZSA9PiAoe1xyXG4gICAgICAgIHJlcXVpcmVNdXR1YWxBdXRoOiB0aGlzLnN0cmluZ051bVRvQm9vbChkZXZpY2VDb250cm9sQnl0ZVswXSksXHJcbiAgICAgICAgbXNyRW5jcnlwdGlvblZhcmlhbnQ6IChkZXZpY2VDb250cm9sQnl0ZVsxXSA9PT0gXCIxXCIpID8gXCJEQVRBXCIgOiBcIlBJTlwiLFxyXG4gICAgICAgIGlzQ2xlYXJUZXh0RW5hYmxlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woZGV2aWNlQ29udHJvbEJ5dGVbM10pLFxyXG4gICAgICAgIGlzQmVlcGVyTW9kZUVuYWJsZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKGRldmljZUNvbnRyb2xCeXRlWzRdKSxcclxuICAgICAgICBpc0JpdG1hcExvY2tlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woZGV2aWNlQ29udHJvbEJ5dGVbNl0pLFxyXG4gICAgICAgIGlzQ29uZmlndXJhdGlvbkxvY2tlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woZGV2aWNlQ29udHJvbEJ5dGVbN10pXHJcbiAgICB9KTtcclxuXHJcbiAgICBzZWNvbmREZXZpY2VDb250cm9sQnl0ZSA9IGRldmljZUN0cmxCeXRlID0+ICh7XHJcbiAgICAgICAgaXNBcnBjTWFjRW5hYmxlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woZGV2aWNlQ3RybEJ5dGVbMV0pLFxyXG4gICAgICAgIGlzRmluYW5jaWFsSWNjQ2FyZFR5cGVSZXBvcnRpbmdFbmFibGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbChkZXZpY2VDdHJsQnl0ZVsyXSksXHJcbiAgICAgICAgYXJxY0JhdGNoRGF0YU91dHB1dEZvcm1hdDogKGRldmljZUN0cmxCeXRlWzNdID09PSBcIjFcIikgPyBcIlJlc2VydmVkIEZvcm1hdFwiIDogXCJEeW5hUHJvIEZvcm1hdFwiXHJcbiAgICB9KTtcclxuXHJcbiAgICBtYXNrQ29uZmlndXJhdGlvbkJ5dGUgPSBtYXNrQ29uZmlnQnl0ZSA9PiAoe1xyXG4gICAgICAgIGlzSXNvTWFza0VuYWJsZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKG1hc2tDb25maWdCeXRlWzddKSxcclxuICAgICAgICBpc0NoZWNrRGlnaXRFbmFibGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbChtYXNrQ29uZmlnQnl0ZVs2XSksXHJcbiAgICAgICAgaXNNczJQb2ludDBFbmFibGVkOiAoIG1hc2tDb25maWdCeXRlLnNsaWNlKDQsIDYpICE9PSBcIjAwXCIpXHJcbiAgICB9KTtcclxuXHJcbiAgICBtc3JDb25maWd1cmF0aW9uQnl0ZSA9IG1zckNvbmZpZ0J5dGUgPT4gKHtcclxuICAgICAgICBpc0FBTVZBY2FyZEVuYWJsZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKG1zckNvbmZpZ0J5dGVbN10pLFxyXG4gICAgICAgIHRyYWNrM0RhdGE6ICggdGhpcy50cmFja0RhdGFPcHRpb25zWyBtc3JDb25maWdCeXRlLnNsaWNlKDQsIDYpIF0gfHwgdW5rbm93biApLFxyXG4gICAgICAgIHRyYWNrMkRhdGE6ICggdGhpcy50cmFja0RhdGFPcHRpb25zWyBtc3JDb25maWdCeXRlLnNsaWNlKDIsIDQpIF0gfHwgdW5rbm93biApLFxyXG4gICAgICAgIHRyYWNrMURhdGE6ICggdGhpcy50cmFja0RhdGFPcHRpb25zWyBtc3JDb25maWdCeXRlLnNsaWNlKDAsIDIpIF0gfHwgdW5rbm93biApLFxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFyc2VQaW5Db25maWc7XHJcbiIsImltcG9ydCBQYXJzZVBpbkNvbmZpZyBmcm9tICcuL3BpbkNvbmZpZ3VyYXRpb24nO1xyXG5pbXBvcnQgeyB1bmtub3duIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIFBpblN0YXR1c1BhcnNlciBleHRlbmRzIFBhcnNlUGluQ29uZmlnIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLm9wZXJhdGlvblN0YXR1cyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIk9rXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiQ2FyZGhvbGRlciBDYW5jZWxcIixcclxuICAgICAgICAgICAgMHgwMjogXCJUaW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MDM6IFwiSG9zdCBDYW5jZWxcIixcclxuICAgICAgICAgICAgMHgwNDogXCJWZXJpZnkgZmFpbFwiLFxyXG4gICAgICAgICAgICAweDA1OiBcIktleXBhZCBTZWN1cml0eVwiLFxyXG4gICAgICAgICAgICAweDA2OiBcIkNhbGlicmF0aW9uIERvbmVcIixcclxuICAgICAgICAgICAgMHgwNzogXCJXcml0ZSB3aXRoIGR1cGxpY2F0ZSBSSUQgYW5kIGluZGV4XCIsXHJcbiAgICAgICAgICAgIDB4MDg6IFwiV3JpdGUgd2l0aCBjb3JydXB0ZWQgS2V5XCIsXHJcbiAgICAgICAgICAgIDB4MDk6IFwiQ0EgUHVibGljIEtleSByZWFjaGVkIG1heGltdW0gY2FwYWNpdHlcIixcclxuICAgICAgICAgICAgMHgwQTogXCJDQSBQdWJsaWMgS2V5IHJlYWQgd2l0aCBpbnZhbGlkIFJJRCBvciBJbmRleFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuQUNLU1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IFwiT2tcIixcclxuICAgICAgICAgICAgMHgxNTogXCJSSUQgZXJyb3IvSW5kZXggbm90IGZvdW5kXCIsXHJcbiAgICAgICAgICAgIDB4ODA6IFwiRGV2aWNlIEVycm9yOiBlcnJvciwgdGFtcGVyLCBtaXNzaW5nIGNlcnRpZmljYXRlIG9yIGluY29ycmVjdCBzaWduYXR1cmUgZGV0ZWN0ZWRcIixcclxuICAgICAgICAgICAgMHg4MTogXCJEZXZpY2Ugbm90IGlkbGVcIixcclxuICAgICAgICAgICAgMHg4MjogXCJEYXRhIEVycm9yIG9yIEJhZCBQYXJhbWF0ZXIocylcIixcclxuICAgICAgICAgICAgMHg4MzogXCJMZW5ndGggRXJyb3I6IGRhdGEgc2l6ZSBpcyBlaXRoZXIgdG9vIHNtYWxsLCB0b28gbGFyZ2UsIGluY29tcGxldGUsIG9yIE9JRCBvZiB0aGUgY2VydCBkb2Vzbid0IG1hdGNoIHByZWRlZmluZWQgT0lEXCIsXHJcbiAgICAgICAgICAgIDB4ODQ6IFwiUEFOIEV4aXN0c1wiLFxyXG4gICAgICAgICAgICAweDg1OiBcIk1pc3Npbmcgb3IgSW5jb3JyZWN0IEtleVwiLFxyXG4gICAgICAgICAgICAweDg2OiBcIkRldmljZSBCdXN5XCIsXHJcbiAgICAgICAgICAgIDB4ODc6IFwiRGV2aWNlIExvY2tlZFwiLFxyXG4gICAgICAgICAgICAweDg4OiBcIkF1dGggcmVxdWlyZWRcIixcclxuICAgICAgICAgICAgMHg4OTogXCJCYWQgQXV0aFwiLFxyXG4gICAgICAgICAgICAweDhBOiBcIkRldmljZSBOb3QgQXZhaWxhYmxlXCIsXHJcbiAgICAgICAgICAgIDB4OEI6IFwiQW1vdW50IE5lZWRlZCAtIElmIFBJTiBhbW91bnQgaXMgcmVxdWlyZWQsIG5vIGFtb3VudCBoYXMgYmVlbiBzZXRcIixcclxuICAgICAgICAgICAgMHg4QzogXCJCYXR0ZXJ5IGlzIGNyaXRpY2FsbHkgbG93XCIsXHJcbiAgICAgICAgICAgIDB4OEQ6IFwiRGV2aWNlIGlzIHJlc2V0dGluZ1wiLFxyXG4gICAgICAgICAgICAweDkwOiBcIkNlcnRpZmljYXRlIGRvZXMgbm90IGV4aXN0XCIsXHJcbiAgICAgICAgICAgIDB4OTE6IFwiRXhwaXJlZCAoQ2VydC9DUkwpXCIsXHJcbiAgICAgICAgICAgIDB4OTI6IFwiSW52YWxpZCAoQ2VydC9DUkwvTWVzc2FnZSlcIixcclxuICAgICAgICAgICAgMHg5MzogXCJSZXZva2VkIChDZXJ0L0NSTClcIixcclxuICAgICAgICAgICAgMHg5NDogXCJDUkwgZG9lcyBub3QgZXhpc3RcIixcclxuICAgICAgICAgICAgMHg5NTogXCJDZXJ0aWZpY2F0ZSBleGlzdHNcIixcclxuICAgICAgICAgICAgMHg5NjogXCJEdXBsaWNhdGUgS1NOL0tleVwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGluQ29tbWFuZElkcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAxOiBcInJlc3BvbnNlQUNLXCIsXHJcbiAgICAgICAgICAgIDB4MDI6IFwiY2xlYXJTZXNzaW9uXCIsXHJcbiAgICAgICAgICAgIDB4MDM6IFwic3dpcGVcIixcclxuICAgICAgICAgICAgMHgwNDogXCJyZXF1ZXN0UGluRW50cnlcIixcclxuICAgICAgICAgICAgMHgwNTogXCJjYW5jZWxDb21tYW5kXCIsXHJcbiAgICAgICAgICAgIDB4MDY6IFwicmVxdWVzdENhcmRob2xkZXJTZWxlY3Rpb25cIixcclxuICAgICAgICAgICAgMHgwNzogXCJkaXNwbGF5TWVzc2FnZVwiLFxyXG4gICAgICAgICAgICAweDA4OiBcInJlcXVlc3REZXZpY2VTdGF0dXNcIixcclxuICAgICAgICAgICAgMHgwOTogXCJyZXF1ZXN0RGV2aWNlQ29uZmlndXJhdGlvblwiLFxyXG4gICAgICAgICAgICAweDBBOiBcInJlcXVlc3RNc3JEYXRhXCIsXHJcbiAgICAgICAgICAgIDB4MEI6IFwiZ2V0Q2hhbGxlbmdlXCIsXHJcbiAgICAgICAgICAgIDB4MDc6IFwiZGlzcGxheU1lc3NhZ2VcIixcclxuICAgICAgICAgICAgMHhBMjogXCJlbXZUcmFuc2FjdGlvblN0YXR1c1wiLFxyXG4gICAgICAgICAgICAweEFCOiBcInJlcXVlc3RFbXZEYXRhXCIsXHJcbiAgICAgICAgICAgIDB4MzA6IFwiZ2V0S3NuXCIsXHJcbiAgICAgICAgICAgIDB4MDU6IFwiY2FuY2VsQ29tbWFuZFwiLFxyXG4gICAgICAgICAgICAweDFBOiBcInJlcXVlc3REZXZpY2VJbmZvXCIsXHJcbiAgICAgICAgICAgIDB4MTA6IFwic2VuZEJpZ0Jsb2NrRGF0YVwiLFxyXG4gICAgICAgICAgICAweEEwOiBcInJlcXVlc3RUaXBPckNhc2hiYWNrXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkVHlwZXNFbnVtID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IFwiT3RoZXJcIixcclxuICAgICAgICAgICAgMHgwMTogXCJGaW5hbmNpYWxcIixcclxuICAgICAgICAgICAgMHgwMjogXCJBQU1WQVwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIk1hbnVhbFwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIlVua25vd25cIixcclxuICAgICAgICAgICAgMHgwNTogXCJJQ0NcIixcclxuICAgICAgICAgICAgMHgwNjogXCJDb250YWN0bGVzcyBJQ0MgLSBFTVZcIixcclxuICAgICAgICAgICAgMHgwNzogXCJGaW5hbmNpYWwgTVNSICsgSUNDXCIsXHJcbiAgICAgICAgICAgIDB4MDg6IFwiQ29udGFjdGxlc3MgSUNDIC0gTVNEXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXZpY2VTdGF0ZSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIklkbGVcIixcclxuICAgICAgICAgICAgMHgwMTogXCJTZXNzaW9uXCIsXHJcbiAgICAgICAgICAgIDB4MDI6IFwiV2FpdCBGb3IgQ2FyZFwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIldhaXQgRm9yIFBJTlwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIldhaXQgRm9yIFNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDA1OiBcIkRpc3BsYXlpbmcgTWVzc2FnZVwiLFxyXG4gICAgICAgICAgICAweDA2OiBcIlRlc3QgKFJlc2VydmVkIGZvciBmdXR1cmUgdXNlKVwiLFxyXG4gICAgICAgICAgICAweDA3OiBcIk1hbnVhbCBDYXJkIEVudHJ5XCIsXHJcbiAgICAgICAgICAgIDB4MDk6IFwiV2FpdCBDYXJkaG9sZGVyIEVudHJ5XCIsXHJcbiAgICAgICAgICAgIDB4MEE6IFwiQ2hpcCBDYXJkXCIsXHJcbiAgICAgICAgICAgIDB4MEI6IFwiSUNDIEtlcm5lbCBUZXN0XCIsXHJcbiAgICAgICAgICAgIDB4MEM6IFwiRU1WIFRyYW5zYWN0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MEQ6IFwiU2hvdyBQQU5cIixcclxuICAgICAgICAgICAgMHgxRjogXCJXYWl0IGZvciBUaXAgU2VsZWN0aW9uXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waW5LZXlTdGF0dXNFbnVtID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwiMDBcIjogXCJQSU4gS2V5IE9LXCIsXHJcbiAgICAgICAgICAgIFwiMDFcIjogXCJQSU4gS2V5IEV4aGF1c3RlZFwiLFxyXG4gICAgICAgICAgICBcIjEwXCI6IFwiTm8gUElOIEtleVwiLFxyXG4gICAgICAgICAgICBcIjExXCI6IFwiUElOIEtleSBOb3QgQm91bmRcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1zcktleVN0YXR1c0VudW0gPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgXCIwMFwiOiBcIk1TUiBLZXkgT0tcIixcclxuICAgICAgICAgICAgXCIwMVwiOiBcIk1TUiBLZXkgRXhoYXVzdGVkXCIsXHJcbiAgICAgICAgICAgIFwiMTBcIjogXCJObyBNU1IgS2V5XCIsXHJcbiAgICAgICAgICAgIFwiMTFcIjogXCJNU1IgS2V5IE5vdCBCb3VuZFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZERhdGFJZHMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHgwMTogXCJ0cmFjazFcIixcclxuICAgICAgICAgICAgMHgwMjogXCJ0cmFjazJcIixcclxuICAgICAgICAgICAgMHgwMzogXCJ0cmFjazNcIixcclxuICAgICAgICAgICAgMHgwNDogXCJlbmNyeXB0ZWRUcmFjazFcIixcclxuICAgICAgICAgICAgMHgwNTogXCJlbmNyeXB0ZWRUcmFjazJcIixcclxuICAgICAgICAgICAgMHgwNjogXCJlbmNyeXB0ZWRUcmFjazNcIixcclxuICAgICAgICAgICAgMHgwNzogXCJtYWduZVByaW50XCIsXHJcbiAgICAgICAgICAgIDB4NDA6IFwiZW5jcnlwdGVkUGFuQW5kRXhwXCIsXHJcbiAgICAgICAgICAgIDB4NDE6IFwic2VyaWFsTnVtYmVyXCIsXHJcbiAgICAgICAgICAgIDB4NjM6IFwia3NuQW5kTWFnbmVQcmludFN0YXR1c1wiLFxyXG4gICAgICAgICAgICAweDY0OiBcIkNCQy1NQUNcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNhcmRob2xkZXJTdGF0dXNJZHMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHgwMTogXCJXYWl0aW5nIGZvciBhbW91bnQgY29uZmlybWF0aW9uIHNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDAyOiBcIkFtb3VudCBjb25maXJtYXRpb24gc2VsZWN0ZWRcIixcclxuICAgICAgICAgICAgMHgwMzogXCJXYWl0aW5nIGZvciBtdWx0aS1wYXltZW50IElDQyBBcHBsaWNhdGlvbiBzZWxlY3Rpb25cIixcclxuICAgICAgICAgICAgMHgwNDogXCJJQ0MgQXBwbGljYXRpb24gc2VsZWN0ZWRcIixcclxuICAgICAgICAgICAgMHgwNTogXCJXYWl0aW5nIGZvciBzaWduYXR1cmUgY2FwdHVyZVwiLFxyXG4gICAgICAgICAgICAweDA2OiBcIlNpZ25hdHVyZSBjYXB0dXJlZFwiLFxyXG4gICAgICAgICAgICAweDA3OiBcIldhaXRpbmcgZm9yIGxhbmd1YWdlIHNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDA4OiBcIkxhbmd1YWdlIHNlbGVjdGVkXCIsXHJcbiAgICAgICAgICAgIDB4MDk6IFwiV2FpdGluZyBmb3IgY3JlZGl0L2RlYml0IHNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDBBOiBcIkNyZWRpdC9EZWJpdCBzZWxlY3RlZFwiLFxyXG4gICAgICAgICAgICAweDBCOiBcIldhaXRpbmcgZm9yIFBpbiBFbnRyeSBmb3IgSUNDXCIsXHJcbiAgICAgICAgICAgIDB4MEM6IFwiUElOIGVudGVyZWQgZm9yIElDQ1wiLFxyXG4gICAgICAgICAgICAweDBEOiBcIldhaXRpbmcgZm9yIFBpbiBFbnRyeSBmb3IgTVNSXCIsXHJcbiAgICAgICAgICAgIDB4MEU6IFwiUElOIGVudGVyZWQgZm9yIE1TUlwiLFxyXG4gICAgICAgICAgICAweDBGOiBcIldhaXRpbmcgZm9yIHRpcCBzZWxlY3Rpb25cIixcclxuICAgICAgICAgICAgMHgxMDogXCJUaXAgaW50ZXJhY3Rpb24gc2VsZWN0ZWRcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJ1ZmZlclR5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDI6IFwiRGV2aWNlIENlcnRpZmljYXRlXCIsXHJcbiAgICAgICAgICAgIDB4MzI6IFwiU2V0IEJJTiAoTUFDKVwiLFxyXG4gICAgICAgICAgICAweDQyOiBcIkNTUlwiLFxyXG4gICAgICAgICAgICAweEExOiBcIkVNViBkYXRhIGluIFRMViBmb3JtYXQsIFRhZyBEYXRhIChNQUMpXCIsXHJcbiAgICAgICAgICAgIDB4QTI6IFwiUkVTRVJWRURcIixcclxuICAgICAgICAgICAgMHhBMzogXCJSRVNFUlZFRFwiLFxyXG4gICAgICAgICAgICAweEE0OiBcIkVNViBkYXRhIGluIFRMViBmb3JtYXQsIEF1dGhvcml6YXRpb24gUmVxdWVzdCAoQVJRQylcIixcclxuICAgICAgICAgICAgMHhBNTogXCJDQSBQdWJsaWMgS2V5IChNQUMpXCIsXHJcbiAgICAgICAgICAgIDB4QUI6IFwiRU1WIGRhdGEgaW4gVExWIGZvcm1hdCwgQmF0Y2ggRGF0YVwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnFjQXJyaXZpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJhdGNoRGF0YUFycml2aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuYXJxY1RvdGFsTGVuID0gMDtcclxuICAgICAgICB0aGlzLmJhdGNoVG90YWxMZW4gPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnZlcnRTdGF0dXNUb1N0cmluZyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIk9rXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiRW1wdHlcIixcclxuICAgICAgICAgICAgMHgwMjogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIkRpc2FibGVkXCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kRW12Q2FyZGhvbGRlclN0YXR1cyA9IGNhcmRIb2xkZXJTdGF0dXNCeXRlID0+ICAoe1xyXG4gICAgICAgIGVtdkNhcmRob2xkZXJTdGF0dXM6ICh0aGlzLmNhcmRob2xkZXJTdGF0dXNJZHNbIGNhcmRIb2xkZXJTdGF0dXNCeXRlIF0gfHwgYCR7dW5rbm93bn0vVW5kb2N1bWVudGVkIENhcmRob2xkZXIgSW50ZXJhY3Rpb24gU3RhdHVzIElEOiAke2NhcmRIb2xkZXJTdGF0dXNCeXRlfWApXHJcbiAgICB9KTtcclxuXHJcbiAgICBmaW5kT3BlcmF0aW9uU3RhdHVzID0gc3RhdHVzSWQgPT4gKHtcclxuICAgICAgICBvcGVyYXRpb25TdGF0dXM6ICh0aGlzLm9wZXJhdGlvblN0YXR1c1sgc3RhdHVzSWQgXSB8fCBgJHt1bmtub3dufSBPcGVyYXRpb24gU3RhdHVzYClcclxuICAgIH0pO1xyXG5cclxuICAgIHBhcnNlRGlzcGxheU1lc3NhZ2VEb25lID0gZGlzcGxheVN0YXR1cyA9PiB0aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMoZGlzcGxheVN0YXR1c1syXSk7XHJcblxyXG4gICAgcGFyc2VFbXZDb21wbGV0aW9uID0gY29tbWFuZFJlc3AgPT4ge1xyXG4gICAgICAgIC8vVE9ETzogTW9yZSByZXNlYXJjaCByZXF1aXJlZFxyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtFTVYgQ29tcGxldGlvbl06ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhjb21tYW5kUmVzcCl9YCk7XHJcbiAgICAgICAgcmV0dXJuICh7XHJcbiAgICAgICAgICAgIGVtdkNvbXBsZXRpb25SZXNwb25zZTogY29tbWFuZFJlc3BcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JtYXRTZXJpYWxOdW1iZXIgPSBjb21tYW5kUmVzcCA9PiAodGhpcy5kZXZpY2VTZXJpYWxOdW1iZXIgPSB0aGlzLmhleFRvQXNjaWkoIHRoaXMuZmluZE51bGxUZXJtaW5hdGVkU3RyaW5nKGNvbW1hbmRSZXNwKSApKTtcclxuXHJcbiAgICBoYW5kbGVCaWdCbG9ja0JlZ2luID0gYmlnQmxvY2tEYXRhID0+IHtcclxuICAgICAgICBzd2l0Y2goYmlnQmxvY2tEYXRhWzFdKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMHhBNDpcclxuICAgICAgICAgICAgICAgIHRoaXMuYXJxY0Fycml2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXJxY1RvdGFsTGVuID0gdGhpcy5yZWFkVHdvQnl0ZUxlbmd0aChbIGJpZ0Jsb2NrRGF0YVs1XSwgYmlnQmxvY2tEYXRhWzRdIF0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMHhBQjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hEYXRhQXJyaXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaFRvdGFsTGVuID0gdGhpcy5yZWFkVHdvQnl0ZUxlbmd0aChbIGJpZ0Jsb2NrRGF0YVs1XSwgYmlnQmxvY2tEYXRhWzRdIF0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMHgxODpcclxuICAgICAgICAgICAgY2FzZSAweDIwOlxyXG4gICAgICAgICAgICBjYXNlIDB4MjE6XHJcbiAgICAgICAgICAgICAgICAvL0RlYnVnIGRhdGEuIElnbm9yZS5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXJUeXBlOiAodGhpcy5idWZmZXJUeXBlc1sgYmlnQmxvY2tEYXRhWzFdIF0gfHwgXCJCdWZmZXIgdHlwZSBub3QgZG9jdW1lbnRlZFwiKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVBcnFjQmlnQmxvY2tGaW5pc2ggPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYXJxYyA9IHRoaXMuYnVpbGRJbml0aWFsRGF0YUFycmF5KGZhbHNlKTtcclxuICAgICAgICBjb25zdCBkYXRhRm9yQXJxYyA9IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIGFycWMgKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0FSUUNdOiAke2RhdGFGb3JBcnFjfWApO1xyXG5cclxuICAgICAgICB0aGlzLmNhcmREYXRhT2JqID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLmNhcmREYXRhT2JqLFxyXG4gICAgICAgICAgICBhcnFjRGF0YTogZGF0YUZvckFycWMsXHJcbiAgICAgICAgICAgIGFycWNEYXRhUGFyc2VkOiB0aGlzLnRsdlBhcnNlcihcclxuICAgICAgICAgICAgICAgIGFycWMuc2xpY2UoMilcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yYXdEYXRhID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuYXJxY0Fycml2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuICghdGhpcy5pc1F1aWNrQ2hpcFRyYW5zYWN0aW9uKSA/IHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjayggdGhpcy5jYXJkRGF0YU9iaiApIDogdm9pZCgwKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVCYXRjaEJpZ0Jsb2NrRmluaXNoID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5idWlsZEluaXRpYWxEYXRhQXJyYXkoZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IGRhdGFGb3JCYXRjaCA9IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIGJhdGNoICk7XHJcblxyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtCQVRDSCBEQVRBXTogJHtkYXRhRm9yQmF0Y2h9YCk7XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25IYXNTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5oYXNUaXAgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyc2VkQmF0Y2hEYXRhID0gdGhpcy50bHZQYXJzZXIoXHJcbiAgICAgICAgICAgIGJhdGNoLnNsaWNlKDIpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgaXNTaWduYXR1cmVSZXF1aXJlZCA9IHBhcnNlZEJhdGNoRGF0YS5maW5kKCAoeyB0YWcgfSkgPT4gdGFnID09PSBcIkRGREY0MFwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IChpc1NpZ25hdHVyZVJlcXVpcmVkKSA/ICh7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgIGJhdGNoRGF0YTogZGF0YUZvckJhdGNoLFxyXG4gICAgICAgICAgICBiYXRjaERhdGFQYXJzZWQ6IHBhcnNlZEJhdGNoRGF0YSxcclxuICAgICAgICAgICAgc2lnbmF0dXJlUmVxdWlyZWQ6IChpc1NpZ25hdHVyZVJlcXVpcmVkID09PSAweDAxKVxyXG4gICAgICAgIH0pIDogKHtcclxuICAgICAgICAgICAgLi4udGhpcy5jYXJkRGF0YU9iaixcclxuICAgICAgICAgICAgYmF0Y2hEYXRhOiBkYXRhRm9yQmF0Y2gsXHJcbiAgICAgICAgICAgIGJhdGNoRGF0YVBhcnNlZDogcGFyc2VkQmF0Y2hEYXRhXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmF3RGF0YSA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmJhdGNoRGF0YUFycml2aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2soIHRoaXMuY2FyZERhdGFPYmogKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVCaWdCbG9ja0ZpbmlzaCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hcnFjQXJyaXZpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQXJxY0JpZ0Jsb2NrRmluaXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYmF0Y2hEYXRhQXJyaXZpbmcpIHtcclxuICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVCYXRjaEJpZ0Jsb2NrRmluaXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlRW12Q2FyZGhvbGRlckludGVyYWN0aW9uU3RhdHVzID0gY2FyZGhvbGRlclJlc3AgPT4ge1xyXG4gICAgICAgIHN3aXRjaChjYXJkaG9sZGVyUmVzcFsxXSkge1xyXG4gICAgICAgICAgICBjYXNlIDB4MDI6IFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5maW5kRW12Q2FyZGhvbGRlclN0YXR1cyhjYXJkaG9sZGVyUmVzcFsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgaXNBbW91bnRDb25maXJtZWQ6IChjYXJkaG9sZGVyUmVzcFs0XSA9PT0gMHgwMSkgPyB0cnVlIDogKGNhcmRob2xkZXJSZXNwWzRdID09PSAweDAyKSA/IGZhbHNlIDogYCR7dW5rbm93bn0vVW5kb2N1bWVudGVkIEFtb3VudCBDb25maXJtZWQgU3RhdHVzYFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgMHgwNDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZEVtdkNhcmRob2xkZXJTdGF0dXMoY2FyZGhvbGRlclJlc3BbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uT3JMYWJlbE5hbWU6IHRoaXMuYnVmZmVyVG9VdGY4KCBjYXJkaG9sZGVyUmVzcC5zbGljZSg0KSApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FzZSAweDBBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5maW5kRW12Q2FyZGhvbGRlclN0YXR1cyhjYXJkaG9sZGVyUmVzcFsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kU2VsZWN0ZWQ6IChjYXJkaG9sZGVyUmVzcFs0XSA9PT0gMHgwMSkgPyBcIkNyZWRpdFwiIDogXHJcbiAgICAgICAgICAgICAgICAgICAgKGNhcmRob2xkZXJSZXNwWzRdID09PSAweDAyKSA/IFwiRGViaXRcIiA6IGAke3Vua25vd259L1VuZG9jdW1lbnRlZCBwYXltZW50IG1ldGhvZCBzZWxlY3RlZGBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYXNlIDB4MjA6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZpbmRFbXZDYXJkaG9sZGVyU3RhdHVzKGNhcmRob2xkZXJSZXNwWzFdKSxcclxuICAgICAgICAgICAgICAgICAgICB0bHZEYXRhOiB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCBjYXJkaG9sZGVyUmVzcC5zbGljZSg0KSApLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFRsdkRhdGE6IHRoaXMudGx2UGFyc2VyKCBjYXJkaG9sZGVyUmVzcC5zbGljZSg0KSApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAodHlwZW9mKGNhcmRob2xkZXJSZXNwWzRdKSA9PT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5maW5kRW12Q2FyZGhvbGRlclN0YXR1cyhjYXJkaG9sZGVyUmVzcFsxXSkgXHJcbiAgICAgICAgICAgICAgICAgICAgOiAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZpbmRFbXZDYXJkaG9sZGVyU3RhdHVzKGNhcmRob2xkZXJSZXNwWzFdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kb2N1bWVudGVkRGF0YTogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggY2FyZGhvbGRlclJlc3Auc2xpY2UoNCkgKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwYXJzZUNhcmRTdGF0dXNSZXBvcnQgPSBjYXJkU3RhdHVzID0+IChjYXJkU3RhdHVzLmxlbmd0aCA8IDQpID8gIFxyXG4gICAgICAgIHRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhjYXJkU3RhdHVzWzJdKVxyXG4gICAgICAgIDogKHtcclxuICAgICAgICAgICAgLi4udGhpcy5maW5kT3BlcmF0aW9uU3RhdHVzKGNhcmRTdGF0dXNbMl0pLFxyXG4gICAgICAgICAgICBjYXJkU3RhdHVzOiAoY2FyZFN0YXR1c1syXSA9PT0gMHgwMCkgPyBcIk9rXCIgOiBcIkVycm9yXCIsXHJcbiAgICAgICAgICAgIGNhcmRUeXBlOiB0aGlzLmNhcmRUeXBlc0VudW1bIGNhcmRTdGF0dXNbM10gXVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHBhcnNlQWNrUmVzcG9uc2UgPSBhY2tSZXNwID0+ICh7XHJcbiAgICAgICAgY29kZTogYWNrUmVzcFsxXSxcclxuICAgICAgICBtZXNzYWdlOiB0aGlzLkFDS1NUU1sgYWNrUmVzcFsxXSBdLFxyXG4gICAgICAgIGNvbW1hbmRUeXBlOiAoIHRoaXMucGluQ29tbWFuZElkc1sgYWNrUmVzcFsyXSBdIHx8IFwiRGV2aWNlIGVycm9yIG9yIGNvbW1hbmQgdHlwZSBub3QgZG9jdW1lbnRlZFwiIClcclxuICAgIH0pO1xyXG5cclxuICAgIHBhcnNlRGV2aWNlU3RhdGVSZXBvcnQgPSBkZXZpY2VSZXNwID0+ICh7XHJcbiAgICAgICAgZGV2aWNlU3RhdGU6ICh0aGlzLmRldmljZVN0YXRlWyBkZXZpY2VSZXNwWzFdIF0gfHwgYCR7dW5rbm93bn0vVW5kb2N1bWVudGVkIGRldmljZSBzdGF0ZSBpZDogJHtkZXZpY2VSZXNwWzFdfWApLCBcclxuICAgICAgICBzZXNzaW9uU3RhdGU6IHRoaXMucGFyc2VTZXNzaW9uU3RhdGUoXHJcbiAgICAgICAgICAgIHRoaXMuZGVjaW1hbFRvQmluYXJ5KCBkZXZpY2VSZXNwWzJdIClcclxuICAgICAgICApLFxyXG4gICAgICAgIGRldmljZVN0YXR1czogdGhpcy5wYXJzZURldmljZVN0YXR1cyhcclxuICAgICAgICAgICAgdGhpcy5kZWNpbWFsVG9CaW5hcnkoZGV2aWNlUmVzcFszXSlcclxuICAgICAgICApLFxyXG4gICAgICAgIGRldmljZUNlcnRTdGF0dXM6IHRoaXMucGFyc2VDZXJ0U3RhdHVzKCBcclxuICAgICAgICAgICAgdGhpcy5kZWNpbWFsVG9CaW5hcnkoIGRldmljZVJlc3BbNF0gKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgaGFyZHdhcmVTdGF0dXM6IHRoaXMucGFyc2VIYXJkd2FyZVN0YXR1cyhcclxuICAgICAgICAgICAgdGhpcy5kZWNpbWFsVG9CaW5hcnkoZGV2aWNlUmVzcFs1XSlcclxuICAgICAgICApLFxyXG4gICAgICAgIGFkZGl0aW9uYWxJbmZvOiB0aGlzLnBhcnNlQWRkaXRpb25hbEluZm8oXHJcbiAgICAgICAgICAgIHRoaXMuZGVjaW1hbFRvQmluYXJ5KGRldmljZVJlc3BbNl0pXHJcbiAgICAgICAgKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcGFyc2VTZXNzaW9uU3RhdGUgPSBiaW5hcnlTdHJpbmcgPT4gKHtcclxuICAgICAgICBwb3dlckRpZENoYW5nZTogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1swXSApLFxyXG4gICAgICAgIGNhcmREYXRhSXNBdmFpbGFibGU6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNF0gKSxcclxuICAgICAgICBwYW5QYXJzZWRGcm9tQ2FyZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s1XSApLFxyXG4gICAgICAgIGV4dGVybmFsUGFuU2VudDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s2XSApLFxyXG4gICAgICAgIGFtb3VudFdhc1NlbnQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbN10gKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcGFyc2VDZXJ0U3RhdHVzID0gYmluYXJ5U3RyaW5nID0+ICh7XHJcbiAgICAgICAgbXNyQ3JsQ2VydEV4aXN0czogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1swXSApLFxyXG4gICAgICAgIHBpbkNybENlcnRFeGlzdHM6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbMV0gKSxcclxuICAgICAgICBtZmdVbmJpbmRDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzNdICksXHJcbiAgICAgICAgbXNyQ2FDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzRdICksXHJcbiAgICAgICAgcGluQ2FDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzVdICksXHJcbiAgICAgICAgZGV2aWNlQ2FDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzZdICksXHJcbiAgICAgICAgZGV2aWNlQ2VydEV4aXN0czogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s3XSApXHJcbiAgICB9KTtcclxuXHJcbiAgICBwYXJzZURldmljZVN0YXR1cyA9IGJpbmFyeVN0cmluZyA9PiAoYmluYXJ5U3RyaW5nICE9PSBcIjAwMDAwMDAwXCIpID8gKHtcclxuICAgICAgICBwaW5LZXlTdGF0dXM6IHRoaXMucGluS2V5U3RhdHVzRW51bVsgYmluYXJ5U3RyaW5nLnNsaWNlKDYpIF0sXHJcbiAgICAgICAgbXNyS2V5U3RhdHVzOiB0aGlzLm1zcktleVN0YXR1c0VudW1bIGJpbmFyeVN0cmluZy5zbGljZSg0LCA2KSBdLFxyXG4gICAgICAgIHRhbXBlckRldGVjdGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzNdICksXHJcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzFdICksXHJcbiAgICAgICAgZGV2aWNlRXJyb3JEZXRlY3RlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1swXSApXHJcbiAgICB9KVxyXG4gICAgOiBcIk9rXCI7XHJcblxyXG4gICAgcGFyc2VIYXJkd2FyZVN0YXR1cyA9IGJpbmFyeVN0cmluZyA9PiAoe1xyXG4gICAgICAgIElFM19vbmx5OiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzBdICksXHJcbiAgICAgICAgU1JFRDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1sxXSApLFxyXG4gICAgICAgIE1hZ0hlYWRJc1Byb2dyYW1tZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNl0gKSxcclxuICAgICAgICB0YW1wZXJTZW5zb3JzQXJlQWN0aXZlOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzddIClcclxuICAgIH0pO1xyXG5cclxuICAgIHBhcnNlQWRkaXRpb25hbEluZm8gPSBiaW5hcnlTdHJpbmcgPT4gKHtcclxuICAgICAgICBJQ0NfQWNxdWlyZXJNYXN0ZXJLZXlJc0luamVjdGVkOiAhdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s3XSApLFxyXG4gICAgICAgIElDQ19TZXNzaW9uS2V5SXNBY3RpdmU6ICF0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzZdICksXHJcbiAgICAgICAgQ0FQS19FbXZEYXRhYmFzZUlzQ29ycnVwdGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzVdICksXHJcbiAgICAgICAgRW12VGVybWluYWxEYXRhYmFzZUlzQ29ycnVwdGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzRdICksXHJcbiAgICAgICAgY2FyZElzUHJlc2VudEluQ2hpcENhcmRDb25uZWN0b3I6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbM10gKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcGFyc2VDYXJkRGF0YSA9IHBhcnRpYWxOb3RpZmljYXRpb24gPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYWNrS2V5ID0gKHRoaXMuY2FyZERhdGFJZHNbIHBhcnRpYWxOb3RpZmljYXRpb25bMV0gXSB8fCBgdHJhY2tOYW1lJHt1bmtub3dufWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vMHgwMCA9PT0gXCJPa1wiXHJcbiAgICAgICAgaWYgKHBhcnRpYWxOb3RpZmljYXRpb25bMl0gPT09IDB4MDApIHtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCh0cmFja0tleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRyYWNrMVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmFja0tleV06IHRoaXMuYnVmZmVyVG9VdGY4KHBhcnRpYWxOb3RpZmljYXRpb24uc2xpY2UoNCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRyYWNrMlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmFja0tleV06IHRoaXMuYnVmZmVyVG9VdGY4KHBhcnRpYWxOb3RpZmljYXRpb24uc2xpY2UoNCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZvcm1hdEV4cFBBTihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxOb3RpZmljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwia3NuQW5kTWFnbmVQcmludFN0YXR1c1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtzbjogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhwYXJ0aWFsTm90aWZpY2F0aW9uLnNsaWNlKDQsIDE0KSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25lUHJpbnRTdGF0dXM6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcocGFydGlhbE5vdGlmaWNhdGlvbi5zbGljZSgtNCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5jYXJkRGF0YU9iaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3RyYWNrS2V5XTogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhwYXJ0aWFsTm90aWZpY2F0aW9uLnNsaWNlKDQpKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICBbdHJhY2tLZXldOiB0aGlzLmNvbnZlcnRTdGF0dXNUb1N0cmluZ1sgcGFydGlhbE5vdGlmaWNhdGlvblsyXSBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VQaW5SZXNwb25zZSA9IHBpblJlc3AgPT4ge1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtQSU4gUmVzcG9uc2VdOiBSZXNwb25zZSBmcm9tIFBJTiBFbnRyeTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHBpblJlc3ApfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiAocGluUmVzcC5sZW5ndGggPiAyKSA/ICh7XHJcbiAgICAgICAgICAgIHBpbkRhdGE6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhwaW5SZXNwWzFdKSxcclxuICAgICAgICAgICAgICAgIHBpbktzbjogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggcGluUmVzcC5zbGljZSgyLCAxMikgKSxcclxuICAgICAgICAgICAgICAgIGVuY3J5cHRlZFBpbkJsb2NrOiB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCBwaW5SZXNwLnNsaWNlKDEyLCAyMCkgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICA6IHRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhwaW5SZXNwWzFdKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZUNhcmRob2xkZXJSZXNwb25zZSA9IHNlbGVjdGlvblJlc3AgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRldmljZUtleXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHg3MTogXCJMZWZ0IGZ1bmN0aW9uIGtleVwiLFxyXG4gICAgICAgICAgICAweDcyOiBcIk1pZGRsZSBmdW5jdGlvbiBrZXlcIixcclxuICAgICAgICAgICAgMHg3NDogXCJSaWdodCBmdW5jdGlvbiBrZXlcIixcclxuICAgICAgICAgICAgMHg3ODogXCJFbnRlciBrZXlcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKHNlbGVjdGlvblJlc3AubGVuZ3RoID4gMikgPyAoe1xyXG4gICAgICAgICAgICAuLi50aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMoc2VsZWN0aW9uUmVzcFsxXSksXHJcbiAgICAgICAgICAgIGtleVByZXNzZWQ6IChkZXZpY2VLZXlzWyBzZWxlY3Rpb25SZXNwWzJdIF0gfHwgYCR7dW5rbm93bn0vVW5kb2N1bWVudGVkIEtleWApXHJcbiAgICAgICAgfSlcclxuICAgICAgICA6IHRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhzZWxlY3Rpb25SZXNwWzFdKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwYXJzZVRpcENhc2hiYWNrUmVwb3J0ID0gcmVwb3J0ID0+IChyZXBvcnQubGVuZ3RoID4gMikgPyBcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICB0aXBDYXNoYmFja1JlcG9ydDoge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhyZXBvcnRbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydE1vZGU6IChyZXBvcnRbMl0gPT09IDB4MDApID8gXCJUaXBcIiA6IFwiQ2FzaGJhY2tcIixcclxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHJlcG9ydC5zbGljZSgzLCA5KSxcclxuICAgICAgICAgICAgICAgICAgICB0YXg6IHJlcG9ydC5zbGljZSg5LCAxNSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGF4UmF0ZTogcmVwb3J0LnNsaWNlKDE1LCAxOCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGlwT3JDYXNoYmFja0Ftb3VudDogcmVwb3J0LnNsaWNlKDE4LCAyNClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIDogdGhpcy50cmFuc2FjdGlvbkNhbGxiYWNrKHtcclxuICAgICAgICAgICAgdGlwQ2FzaGJhY2tSZXBvcnQ6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhyZXBvcnRbMV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQaW5TdGF0dXNQYXJzZXI7XHJcblxyXG5cclxuIiwiaW1wb3J0IFBpblN0YXR1c1BhcnNlciBmcm9tICcuLi9wYXJzZXJzL3BpblN0YXR1c1BhcnNlcic7XHJcblxyXG5jbGFzcyBQaW5DbWRCdWlsZGVyIGV4dGVuZHMgUGluU3RhdHVzUGFyc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLnRvbmVDaG9pY2UgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgJ25vc291bmQnOiAweDAwLFxyXG4gICAgICAgICAgICAnb25lYmVlcCc6IDB4MDEsXHJcbiAgICAgICAgICAgICd0d29iZWVwcyc6IDB4MDJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZFN3aXBlQ29tbWFuZCA9ICh7IHRpbWVvdXQsIGlzRmFsbGJhY2ssIHRvbmVDaG9pY2UsIGRpc3BsYXlUeXBlIH0pID0+IChbIFxyXG4gICAgICAgIDB4MDEsIDB4MDMsICh0aW1lb3V0IHx8IDB4M0MpLFxyXG4gICAgICAgIChpc0ZhbGxiYWNrID09PSB0cnVlKSA/IDB4MDQgOiAodHlwZW9mKGRpc3BsYXlUeXBlKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5kaXNwbGF5VHlwZXNbIGRpc3BsYXlUeXBlLnRvTG93ZXJDYXNlKCkgXSA6IDB4MDIsXHJcbiAgICAgICAgKHR5cGVvZih0b25lQ2hvaWNlKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy50b25lQ2hvaWNlWyB0b25lQ2hvaWNlLnRvTG93ZXJDYXNlKCkgXSA6IDB4MDFcclxuICAgIF0pO1xyXG5cclxuICAgIGJ1aWxkRW12Q29tbWFuZCA9ICh7IFxyXG4gICAgICAgIHRpbWVvdXQsIFxyXG4gICAgICAgIHBpblRpbWVvdXQsIFxyXG4gICAgICAgIGNhcmRUeXBlLCBcclxuICAgICAgICB0cmFuc2FjdGlvblR5cGUsIFxyXG4gICAgICAgIGNhc2hCYWNrLCBcclxuICAgICAgICBjdXJyZW5jeUNvZGUsXHJcbiAgICAgICAgdG9uZUNob2ljZSwgXHJcbiAgICAgICAgaXNRdWlja0NoaXAsIFxyXG4gICAgICAgIGF1dGhvcml6ZWRBbW91bnQsIFxyXG4gICAgICAgIGVtdk9wdGlvbnMsXHJcbiAgICAgICAgdGF4QW1vdW50LFxyXG4gICAgICAgIHRheFBlcmNlbnQsXHJcbiAgICAgICAgdGlwQW1vdW50LFxyXG4gICAgICAgIGJhbGFuY2VCZWZvcmVHZW5BQyxcclxuICAgICAgICBiYWxhbmNlQWZ0ZXJHZW5BQyxcclxuICAgICAgICB0cnhDYXRlZ29yeUNvZGVcclxuICAgIH0pID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmlzUXVpY2tDaGlwVHJhbnNhY3Rpb24gPSAoaXNRdWlja0NoaXAgPT09IGZhbHNlKSA/IGZhbHNlIDogdHJ1ZTtcclxuICAgICAgICAvL1RPRE86IFJlLWV4YW1pbmUgc2NvcGUuIE1heSBiZSBhYmxlIHRvIGxpbWl0IHRoaXMgZmxhZyB0byB0aGlzIGZ1bmN0aW9uLlxyXG4gICAgICAgIHRoaXMuaGFzVGlwID0gKHRoaXMuaGFzVGlwIHx8ICh0eXBlb2YodGlwQW1vdW50KSAhPT0gJ3VuZGVmaW5lZCcpKTtcclxuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLnZhbGlkYXRlQW1vdW50KHJlamVjdCk7XHJcblxyXG4gICAgICAgIGxldCBjb21tYW5kID0gWyBcclxuICAgICAgICAgICAgMHgwMSwgMHhBMixcclxuICAgICAgICAgICAgKHRpbWVvdXQgfHwgMHgzQyksXHJcbiAgICAgICAgICAgIChwaW5UaW1lb3V0IHx8IDB4MTQpLFxyXG4gICAgICAgICAgICAweDAwLFxyXG4gICAgICAgICAgICAodHlwZW9mKHRvbmVDaG9pY2UpICE9PSAndW5kZWZpbmVkJykgPyB0aGlzLnRvbmVDaG9pY2VbIHRvbmVDaG9pY2UudG9Mb3dlckNhc2UoKSBdIDogMHgwMSxcclxuICAgICAgICAgICAgKGNhcmRUeXBlKSA/IHRoaXMuY2FyZFR5cGVzKCBjYXJkVHlwZS50b0xvd2VyQ2FzZSgpICkgOiB0aGlzLmNhcmRUeXBlcyhcImFsbFwiKSxcclxuICAgICAgICAgICAgKHR5cGVvZihlbXZPcHRpb25zKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5lbXZPcHRpb25zWyBlbXZPcHRpb25zLnRvTG93ZXJDYXNlKCkgXSA6IDB4MDBcclxuICAgICAgICBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGF1dGhBbW91bnQgPSB2YWxpZGF0b3IoYXV0aG9yaXplZEFtb3VudCwgJ2F1dGhvcml6ZWRBbW91bnQnLCBbMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgMHgwMF0pO1xyXG4gICAgICAgIGlmICh0eXBlb2YoYXV0aEFtb3VudCkgPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGF1dGhBbW91bnQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29tbWFuZCA9IGNvbW1hbmQuY29uY2F0KCBhdXRoQW1vdW50ICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQgPSAodHlwZW9mKHRyYW5zYWN0aW9uVHlwZSkgIT09ICd1bmRlZmluZWQnKSA/IFxyXG4gICAgICAgICAgICBjb21tYW5kLmNvbmNhdCh0aGlzLnRyYW5zYWN0aW9uVHlwZXNbIHRyYW5zYWN0aW9uVHlwZS50b0xvd2VyQ2FzZSgpIF0pXHJcbiAgICAgICAgICAgIDogY29tbWFuZC5jb25jYXQoMHgwMClcclxuXHJcbiAgICAgICAgY29uc3QgY2FzaGJhY2tBbW50ID0gdmFsaWRhdG9yKGNhc2hCYWNrLCAnY2FzaEJhY2snLCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCA2KSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZihjYXNoYmFja0FtbnQpID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChjYXNoYmFja0FtbnQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29tbWFuZCA9IGNvbW1hbmQuY29uY2F0KCBjYXNoYmFja0FtbnQgKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFsYW5jZUJlZm9yZUFtbnQgPSB2YWxpZGF0b3IoYmFsYW5jZUJlZm9yZUdlbkFDLCAnYmFsYW5jZUJlZm9yZUdlbkFDJywgdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgNikpO1xyXG4gICAgICAgIGlmICh0eXBlb2YoYmFsYW5jZUJlZm9yZUFtbnQpID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChiYWxhbmNlQmVmb3JlQW1udCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBjb21tYW5kID0gY29tbWFuZC5jb25jYXQoIGJhbGFuY2VCZWZvcmVBbW50ICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhbGFuY2VBZnRlckFtbnQgPSB2YWxpZGF0b3IoYmFsYW5jZUFmdGVyR2VuQUMsICdiYWxhbmNlQWZ0ZXJHZW5BQycsIHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDYpKTtcclxuICAgICAgICBpZiAodHlwZW9mKGJhbGFuY2VBZnRlckFtbnQpID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChiYWxhbmNlQWZ0ZXJBbW50KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGNvbW1hbmQgPSBjb21tYW5kLmNvbmNhdCggYmFsYW5jZUFmdGVyQW1udCApO1xyXG5cclxuICAgICAgICBjb21tYW5kID0gKGN1cnJlbmN5Q29kZSkgPyBjb21tYW5kLmNvbmNhdCgoIHRoaXMuY3VycmVuY3lDb2RlWyBjdXJyZW5jeUNvZGUudG9Mb3dlckNhc2UoKSBdIHx8ICB0aGlzLmN1cnJlbmN5Q29kZVsnZGVmYXVsdCddICkpXHJcbiAgICAgICAgICAgIDogY29tbWFuZC5jb25jYXQodGhpcy5jdXJyZW5jeUNvZGUuZG9sbGFyKTtcclxuXHJcbiAgICAgICAgY29tbWFuZC5wdXNoKCAodHlwZW9mKHRyeENhdGVnb3J5Q29kZSkgIT09ICd1bmRlZmluZWQnKSA/IHRyeENhdGVnb3J5Q29kZSA6IDB4MDAgKTtcclxuXHJcbiAgICAgICAgY29tbWFuZC5wdXNoKCAodGhpcy5pc1F1aWNrQ2hpcFRyYW5zYWN0aW9uKSA/IDB4MDEgOiAweDAwICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQucHVzaCggKCh0aGlzLmhhc1RpcCkgPyAweDAxIDogKHR5cGVvZihjYXNoQmFjaykgIT09ICd1bmRlZmluZWQnKSA/IDB4MDIgOiAweDAwKSApO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgdGF4QW1udCA9IHZhbGlkYXRvcih0YXhBbW91bnQsICd0YXhBbW91bnQnLCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCA2KSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZih0YXhBbW50KSA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgIHJldHVybiByZWplY3QodGF4QW1udCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBjb21tYW5kID0gY29tbWFuZC5jb25jYXQoIHRheEFtbnQgKTtcclxuXHJcbiAgICAgICAgY29tbWFuZCA9ICh0eXBlb2YodGF4UGVyY2VudCkgIT09ICd1bmRlZmluZWQnKSA/IFxyXG4gICAgICAgICAgICAodHlwZW9mKHRheFBlcmNlbnQpID09PSAnbnVtYmVyJykgPyBjb21tYW5kLmNvbmNhdCh0aGlzLmNvbnZlcnROdW1Ub0Ftb3VudCh0YXhQZXJjZW50LCA2KSkgOiBjb21tYW5kLmNvbmNhdCh0YXhQZXJjZW50KVxyXG4gICAgICAgIDogY29tbWFuZC5jb25jYXQoIHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDMpICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQgPSBjb21tYW5kLmNvbmNhdCggdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgMykgKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGlwQW1udCA9IHZhbGlkYXRvcih0aXBBbW91bnQsICd0aXBBbW91bnQnLCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCA2KSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZih0aXBBbW50KSA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgIHJldHVybiByZWplY3QodGlwQW1udCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBjb21tYW5kID0gY29tbWFuZC5jb25jYXQoIHRpcEFtbnQgKTtcclxuXHJcbiAgICAgICAgY29tbWFuZCA9IGNvbW1hbmQuY29uY2F0KCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCA5KSApO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzb2x2ZShjb21tYW5kKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGJ1aWxkUGluQ29tbWFuZCA9ICh7XHJcbiAgICAgICAgbGFuZ3VhZ2VTZWxlY3Rpb24sXHJcbiAgICAgICAgZGlzcGxheVR5cGUsXHJcbiAgICAgICAgdGltZW91dCxcclxuICAgICAgICBtYXhQaW5MZW5ndGgsXHJcbiAgICAgICAgbWluUGluTGVuZ3RoLFxyXG4gICAgICAgIHRvbmVDaG9pY2UsXHJcbiAgICAgICAgd2FpdE1lc3NhZ2UsXHJcbiAgICAgICAgdmVyaWZ5UGluLFxyXG4gICAgICAgIHBpbkJsb2NrRm9ybWF0XHJcbiAgICB9KSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IHBpbkRpc3BsYXlPcHRpb25zID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwiZW50ZXJwaW5cIjogMHgwMCxcclxuICAgICAgICAgICAgXCJlbnRlcnBpbmFtb3VudFwiOiAweDAxLFxyXG4gICAgICAgICAgICBcInJlZW50ZXJwaW5hbW91bnRcIjogMHgwMixcclxuICAgICAgICAgICAgXCJyZWVudGVycGluXCI6IDB4MDMsXHJcbiAgICAgICAgICAgIFwidmVyaWZ5cGluXCI6IDB4MDRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChbXHJcbiAgICAgICAgICAgIDB4MDEsIDB4MDQsXHJcbiAgICAgICAgICAgICh0aW1lb3V0IHx8IDB4MUUpLFxyXG4gICAgICAgICAgICAoKGRpc3BsYXlUeXBlKSA/IChwaW5EaXNwbGF5T3B0aW9uc1sgZGlzcGxheVR5cGUudG9Mb3dlckNhc2UoKSBdIHx8IDB4MDApOiAweDAwKSxcclxuICAgICAgICAgICAgKHRoaXMuZmluZFBpbkxlbmd0aChtYXhQaW5MZW5ndGgsIG1pblBpbkxlbmd0aCkpLFxyXG4gICAgICAgICAgICAodHlwZW9mKHRvbmVDaG9pY2UpICE9PSAndW5kZWZpbmVkJykgPyB0aGlzLnRvbmVDaG9pY2VbIHRvbmVDaG9pY2UudG9Mb3dlckNhc2UoKSBdIDogMHgwMSxcclxuICAgICAgICAgICAgKHRoaXMuYnVpbGRQaW5PcHRpb25zQnl0ZShsYW5ndWFnZVNlbGVjdGlvbiwgd2FpdE1lc3NhZ2UsIHZlcmlmeVBpbiwgcGluQmxvY2tGb3JtYXQpKVxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkQXJwY0NvbW1hbmQgPSAobGVuLCBkYXRhKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZW5kQmlnQmxvY2tEYXRhKDB4QTQsIGxlbiwgZGF0YSkudGhlbihcclxuICAgICAgICAgICAgKCkgPT4gcmVzb2x2ZShbMHgwMSwgMHhBNCwgLi4udGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgMTApXSlcclxuICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBidWlsZFRpcE9yQ2FzaGJhY2tDbWQgPSAoe1xyXG4gICAgICAgIHRpbWVvdXQsXHJcbiAgICAgICAgY29tbWFuZFR5cGUsXHJcbiAgICAgICAgdG9uZUNob2ljZSxcclxuICAgICAgICB0cmFuc2FjdGlvbkFtb3VudCxcclxuICAgICAgICBjYWxjdWxhdGVkVGF4QW1vdW50LFxyXG4gICAgICAgIHRheFJhdGUsXHJcbiAgICAgICAgdGlwU2VsZWN0aW9uTW9kZSxcclxuICAgICAgICBsZWZ0QnV0dG9uLFxyXG4gICAgICAgIG1pZGRsZUJ1dHRvbixcclxuICAgICAgICByaWdodEJ1dHRvblxyXG4gICAgfSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbGlkYXRvciA9IHRoaXMudmFsaWRhdGVBbW91bnQocmVqZWN0KTtcclxuXHJcbiAgICAgICAgY29uc3QgcHJvcHNUb1ZhbGlkYXRlID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiBjb21tYW5kVHlwZSxcclxuICAgICAgICAgICAgICAgIHByb3BOYW1lOiAnY29tbWFuZFR5cGUnLFxyXG4gICAgICAgICAgICAgICAgdmFsaWRUeXBlczogWydzdHJpbmcnXSxcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZhbGlkVmFsdWVzOiBbJ3RpcCcsICdjYXNoYmFjayddXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHByb3A6IHRpcFNlbGVjdGlvbk1vZGUsXHJcbiAgICAgICAgICAgICAgICBwcm9wTmFtZTogJ3RpcFNlbGVjdGlvbk1vZGUnLFxyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiAoY29tbWFuZFR5cGUgJiYgY29tbWFuZFR5cGUudG9Mb3dlckNhc2UoKSAhPT0gJ2Nhc2hiYWNrJyksXHJcbiAgICAgICAgICAgICAgICB2YWxpZFR5cGVzOiBbJ3N0cmluZyddLFxyXG4gICAgICAgICAgICAgICAgdmFsaWRWYWx1ZXM6IFsncGVyY2VudCcsICdhbW91bnQnXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiB0YXhSYXRlLFxyXG4gICAgICAgICAgICAgICAgcHJvcE5hbWU6ICd0YXhSYXRlJyxcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZhbGlkVHlwZXM6IFsnbnVtYmVyJywgJ29iamVjdCddXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLnZhbGlkYXRlUmVxdWlyZWRJbnB1dHMocHJvcHNUb1ZhbGlkYXRlKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHRpcENhc2hiYWNrQ21kID0gW1xyXG4gICAgICAgICAgICAgICAgMHgwMSwgMHhBMCxcclxuICAgICAgICAgICAgICAgICh0eXBlb2YodGltZW91dCkgIT09ICd1bmRlZmluZWQnKSA/IHRpbWVvdXQgOiAweDFFLFxyXG4gICAgICAgICAgICAgICAgKGNvbW1hbmRUeXBlLnRvTG93ZXJDYXNlKCkgPT09ICd0aXAnKSA/IDB4MDAgOiAweDAxLFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZih0b25lQ2hvaWNlKSA9PT0gJ3N0cmluZycpID8gdGhpcy50b25lQ2hvaWNlWyB0b25lQ2hvaWNlLnRvTG93ZXJDYXNlKCkgXSA6IHRoaXMudG9uZUNob2ljZS5vbmViZWVwXHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0cnhBbW50ID0gdmFsaWRhdG9yKHRyYW5zYWN0aW9uQW1vdW50LCAndHJhbnNhY3Rpb25BbW91bnQnKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZih0cnhBbW50KSA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KHRyeEFtbnQpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aXBDYXNoYmFja0NtZCA9IHRpcENhc2hiYWNrQ21kLmNvbmNhdCggdHJ4QW1udCApO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGNUYXhBbW50ID0gdmFsaWRhdG9yKGNhbGN1bGF0ZWRUYXhBbW91bnQsICdjYWxjdWxhdGVkVGF4QW1vdW50Jyk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YoY2FsY1RheEFtbnQpID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoY2FsY1RheEFtbnQpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aXBDYXNoYmFja0NtZCA9IHRpcENhc2hiYWNrQ21kLmNvbmNhdCggY2FsY1RheEFtbnQgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRpcENhc2hiYWNrQ21kID0gKHR5cGVvZih0YXhSYXRlKSA9PT0gJ251bWJlcicpID8gXHJcbiAgICAgICAgICAgICAgICB0aXBDYXNoYmFja0NtZC5jb25jYXQodGhpcy5jb252ZXJ0TnVtVG9BbW91bnQodGF4UmF0ZSwgNikpIDogdGlwQ2FzaGJhY2tDbWQuY29uY2F0KHRheFJhdGUpO1xyXG5cclxuICAgICAgICAgICAgdGlwQ2FzaGJhY2tDbWQucHVzaChcclxuICAgICAgICAgICAgICAgICh0eXBlb2YodGlwU2VsZWN0aW9uTW9kZSkgPT09ICd1bmRlZmluZWQnKSA/IDB4MDAgOiAodGlwU2VsZWN0aW9uTW9kZSA9PT0gJ3BlcmNlbnQnKSA/IDB4MDAgOiAweDAxXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgIHRpcENhc2hiYWNrQ21kLnB1c2goXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mKGxlZnRCdXR0b24pICE9PSAndW5kZWZpbmVkJykgPyB0aGlzLmJ1aWxkTjJGb3JtYXQobGVmdEJ1dHRvbikgOiAweDAwIFxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICB0aXBDYXNoYmFja0NtZC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZihtaWRkbGVCdXR0b24pICE9PSAndW5kZWZpbmVkJykgPyB0aGlzLmJ1aWxkTjJGb3JtYXQobWlkZGxlQnV0dG9uKSA6IDB4MDAgXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgIHRpcENhc2hiYWNrQ21kLnB1c2goXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mKHJpZ2h0QnV0dG9uKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5idWlsZE4yRm9ybWF0KHJpZ2h0QnV0dG9uKSA6IDB4MDAgXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgIHRpcENhc2hiYWNrQ21kID0gdGlwQ2FzaGJhY2tDbWQuY29uY2F0KHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDI1KSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0aXBDYXNoYmFja0NtZCk7XHJcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKVxyXG4gICAgfSk7XHJcblxyXG4gICAgYnVpbGREaXNwbGF5Q21kID0gKHsgZGlzcGxheVRpbWUsIG1lc3NhZ2VJZCwgfSkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IFxyXG4gICAgICAgICh0eXBlb2YobWVzc2FnZUlkKSA9PT0gJ3VuZGVmaW5lZCcpID8gXHJcbiAgICAgICAgICAgIHJlamVjdCggbWlzc2luZ1JlcXVpcmVkRmllbGRzKFwibWVzc2FnZUlkXCIpICkgXHJcbiAgICAgICAgICAgIDogcmVzb2x2ZShbXHJcbiAgICAgICAgICAgICAgICAweDAxLCAweDA3LFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZihkaXNwbGF5VGltZSkgIT09ICd1bmRlZmluZWQnKSA/IGRpc3BsYXlUaW1lIDogMHgwRixcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VJZFxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBpbkNtZEJ1aWxkZXI7XHJcbiIsImltcG9ydCBQaW5DbWRCdWlsZGVyIGZyb20gJy4uL2NvbW1hbmRCdWlsZGVycy9waW5DbWRCdWlsZGVyJztcclxuaW1wb3J0IHsgXHJcbiAgICBkZXZpY2VOb3RGb3VuZCwgXHJcbiAgICByZWFkRmFpbGVkLCBcclxuICAgIGNvbW1hbmROb3RTZW50RnJvbUhvc3QsIFxyXG4gICAgY29tbWFuZE5vdFNlbnQsXHJcbiAgICBkZXZpY2VOb3RPcGVuLFxyXG4gICAgcmVzcG9uc2VOb3RSZWNlaXZlZFxyXG59IGZyb20gJy4uL2Vycm9ySGFuZGxlci9lcnJDb25zdGFudHMnO1xyXG5pbXBvcnQgeyBvcGVuU3VjY2Vzcywgc3VjY2Vzc0NvZGUsIG5vU2Vzc2lvblRvQ2xlYXIsIGdhdHRCdXN5LCBzdWNjZXNzZnVsQ2xvc2UgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY2xhc3MgUGluUGFkIGV4dGVuZHMgUGluQ21kQnVpbGRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2sgPSBjYWxsQmFja3MudHJhbnNhY3Rpb25DYWxsYmFjayB8fCBjYWxsQmFja3M7XHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrID0gY2FsbEJhY2tzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2s7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlRnJvbUhvc3RMZW4gPSAnMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMjIwJztcclxuICAgICAgICB0aGlzLmRldmljZUZyb21Ib3N0RGF0YSA9ICcwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMjEnO1xyXG4gICAgICAgIHRoaXMuZGV2aWNlVG9Ib3N0TGVuID0gJzA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIyMic7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VUb0hvc3REYXRhID0gJzA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIyMyc7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZWNlaXZlRGF0YUNoYXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNlbmRMZW5Ub0RldmljZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuY29tbWFuZFNlbnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN3aXBlSGFzQmVndW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uSGFzU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGF0YUdhdGhlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1F1aWNrQ2hpcFRyYW5zYWN0aW9uID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmRldmljZVNlcmlhbE51bWJlciA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vVE9ETzogZXhhbWluZSBzY29wZVxyXG4gICAgICAgIHRoaXMuaGFzVGlwID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZW12T3B0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAnbm9ybWFsJzogMHgwMCxcclxuICAgICAgICAgICAgJ2J5cGFzc3Bpbic6IDB4MDEsXHJcbiAgICAgICAgICAgICdmb3JjZW9ubGluZSc6IDB4MDIsXHJcbiAgICAgICAgICAgICdhY3F1aXJlcm5vdGF2YWlsYWJsZSc6IDB4MDRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5kaXNwbGF5VHlwZXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgJ3N3aXBlaWRsZWFsdGVybmF0ZSc6IDB4MDAsXHJcbiAgICAgICAgICAgICdzd2lwZWNhcmQnOiAweDAxLFxyXG4gICAgICAgICAgICAncGxlYXNlc3dpcGUnOiAweDAyLFxyXG4gICAgICAgICAgICAncGxlYXNlc3dpcGVhZ2Fpbic6IDB4MDMsXHJcbiAgICAgICAgICAgICdjaGlwZXJyb3J1c2Vzd2lwZSc6IDB4MDRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXBvcnRJZHMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VBY2s6IDB4MDEsXHJcbiAgICAgICAgICAgIGVuZFNlc3Npb246IDB4MDIsXHJcbiAgICAgICAgICAgIHJlcXVlc3RDYXJkU3dpcGU6IDB4MDMsXHJcbiAgICAgICAgICAgIGNhcmRTdGF0dXNSZXBvcnQ6IDB4MjIsXHJcbiAgICAgICAgICAgIGRldmljZVN0YXRlUmVwb3J0OiAweDIwLFxyXG4gICAgICAgICAgICBjYXJkRGF0YVJlcG9ydDogMHgyMyxcclxuICAgICAgICAgICAgZW12Q2FyZGhvbGRlclN0YXR1czogMHgyQyxcclxuICAgICAgICAgICAgYmlnQmxvY2tEYXRhOiAweDI5LFxyXG4gICAgICAgICAgICBlbXZDb21wbGV0aW9uOiAweEEyLFxyXG4gICAgICAgICAgICByZXF1ZXN0U246IDB4MUEsXHJcbiAgICAgICAgICAgIGRldmljZUNvbmZpZzogMHgwOSxcclxuICAgICAgICAgICAgcGluUmVzcG9uc2U6IDB4MjQsXHJcbiAgICAgICAgICAgIHNlbGVjdGlvblJlc3BvbnNlOiAweDI1LFxyXG4gICAgICAgICAgICBkaXNwbGF5UmVzcDogMHgyNyxcclxuICAgICAgICAgICAgdGlwQ2FzaGJhY2tSZXBvcnQ6IDB4MzBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uID0gWzB4MDBdO1xyXG5cclxuICAgICAgICB0aGlzLmNsZWFyU2Vzc2lvbkNtZCA9IFsweDAxLCAweDAyLCAweDAwXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXJkU2VydmljZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocGFyZW50UmVzb2x2ZSwgcGFyZW50UmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlKSA/XHJcbiAgICAgICAgcGFyZW50UmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdEZvdW5kKSApXHJcbiAgICAgICAgOlxyXG4gICAgICAgIHRoaXMuY29ubmVjdEFuZENhY2hlKDIpXHJcbiAgICAgICAgICAgIC50aGVuKCBzZXJ2aWNlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogQ2FjaGUgQXBwRGF0YVRvSG9zdExlbmd0aCBDaGFyYWN0ZXJpc3RpYyB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWModGhpcy5kZXZpY2VUb0hvc3RMZW4pIFxyXG4gICAgICAgICAgICB9KS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IEJlZ2luIG5vdGlmaWNhdGlvbnMgb24gQXBwRGF0YVRvSG9zdExlbmd0aCBDaGFyYWN0ZXJpc3RpYyB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlcmlzdGljLnN0YXJ0Tm90aWZpY2F0aW9ucygpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogQWRkIGxpc3RlbmVyIHRvIG5vdGlmaWNhdGlvbnMgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5kYXRhV2F0Y2hlcik7XHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5hZGRFdmVudExpc3RlbmVyKCdjaGFyYWN0ZXJpc3RpY3ZhbHVlY2hhbmdlZCcsIHRoaXMuZGF0YVdhdGNoZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IGNoYXJhY3RlcmlzdGljO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBDYWNoZSBBcHBEYXRhVG9Ib3N0IENoYXJhY3RlcmlzdGljIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJkU2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyh0aGlzLmRldmljZVRvSG9zdERhdGEpO1xyXG4gICAgICAgICAgICB9KS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlRGF0YUNoYXIgPSBjaGFyYWN0ZXJpc3RpYztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IENhY2hlIEFwcERhdGFGcm9tSG9zdExlbmd0aCBDaGFyYWN0ZXJpc3RpYyB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhcmRTZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKHRoaXMuZGV2aWNlRnJvbUhvc3RMZW4pXHJcbiAgICAgICAgICAgIH0pLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRMZW5Ub0RldmljZSA9IGNoYXJhY3RlcmlzdGljO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogQ2FjaGUgQXBwRGF0YUZyb21Ib3N0IENoYXJhY3RlcmlzdGljIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FyZFNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWModGhpcy5kZXZpY2VGcm9tSG9zdERhdGEpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYyA9IGNoYXJhY3RlcmlzdGljO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBJZiB0aGlzIGxpYnJhcnkgaXMgYmVpbmcgdXNlZCBpbiBhIHdlYiBhcHBsaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYWtlIHN1cmUgdGhlIGRldmljZSBjYW5jZWxzIGFueSBhY3RpdmUgY29tbWFuZCwgYW5kIGRpc2Nvbm5lY3RzIHByb3Blcmx5XHJcbiAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5vbkRlc3Ryb3lIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMub25EZXN0cm95SGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IFN1Y2Nlc3NmdWxseSBjYWNoZWQgYWxsIEdBVFQgc2VydmljZXMgYW5kIGNoYXJhY3RlcmlzdGljcy4gUmV0dXJuaW5nIHN1Y2Nlc3NmdWwgcGFpciB0byB1c2VyIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXlQcm9taXNlKDQwMClcclxuICAgICAgICAgICAgfSkudGhlbigoKSA9PiBwYXJlbnRSZXNvbHZlKHsgXHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogb3BlblN1Y2Nlc3NcclxuICAgICAgICAgICAgfSkpLmNhdGNoKGVyciA9PiBwYXJlbnRSZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApKVxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgZGF0YVdhdGNoZXIgPSBldmVudCA9PiB7XHJcbiAgICAgICAgbGV0IGRhdGFFdmVudCA9IGV2ZW50LnRhcmdldC52YWx1ZS5nZXRVaW50OCgwKTtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbTk9USUZZOiBBcHBEYXRhVG9Ib3N0TGVuZ3RoXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKFtkYXRhRXZlbnRdKX0gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb21tYW5kU2VudCAmJiBkYXRhRXZlbnQgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kU2VudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZENvbW1hbmRSZXNwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVhZENvbW1hbmRSZXNwID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5yZWNlaXZlRGF0YUNoYXIpID9cclxuICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIocmVhZEZhaWxlZCkpXHJcbiAgICAgICAgOiBcclxuICAgICAgICB0aGlzLnJlY2VpdmVEYXRhQ2hhci5yZWFkVmFsdWUoKVxyXG4gICAgICAgICAgICAudGhlbih2YWx1ZSA9PiB0aGlzLnJlYWRWYWx1ZUhhbmRsZXIodmFsdWUpIClcclxuICAgICAgICAgICAgLnRoZW4odmFsdWUgPT4gcmVzb2x2ZSh2YWx1ZSkpXHJcbiAgICAgICAgICAgIC5jYXRjaCggZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gZ2F0dEJ1c3kuY29kZSAmJiBlcnIubWVzc2FnZSA9PT0gZ2F0dEJ1c3kubWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtJTkZPXTogUmVhZCBmYWlsZWQgZHVlIHRvIGRldmljZSBiZWluZyBidXN5LiBBdHRlbXB0aW5nIHJlYWQgYWdhaW4gfHwgJHtuZXcgRGF0ZSgpfWApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXlQcm9taXNlKDEwMCkudGhlbigoKSA9PiByZXNvbHZlKCB0aGlzLnJlYWRDb21tYW5kUmVzcCgpICkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHJldHVybiByZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpKVxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgcmVhZFZhbHVlSGFuZGxlciA9IHJlYWRWYWx1ZSA9PiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29tbWFuZFJlc3AgPSB0aGlzLnJlYWRCeXRlQXJyYXkocmVhZFZhbHVlKTtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbUkVBRDogQXBwRGF0YVRvSG9zdF06ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhjb21tYW5kUmVzcCl9IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgaWYgKGNvbW1hbmRSZXNwLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzd2l0Y2goY29tbWFuZFJlc3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMucmVzcG9uc2VBY2s6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMucGFyc2VBY2tSZXNwb25zZShjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5kZXZpY2VTdGF0ZVJlcG9ydDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5oYW5kbGVEZXZpY2VTdGF0ZVJlcG9ydChjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5jYXJkU3RhdHVzUmVwb3J0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCB0aGlzLmhhbmRsZUNhcmRTdGF0dXNSZXBvcnQoY29tbWFuZFJlc3ApIClcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMuY2FyZERhdGFSZXBvcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuaGFuZGxlQ2FyZERhdGFSZXBvcnQoY29tbWFuZFJlc3ApIClcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMuZW12Q2FyZGhvbGRlclN0YXR1czpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5oYW5kbGVDYXJkaG9sZGVyU3RhdHVzUmVwb3J0KGNvbW1hbmRSZXNwKSApXHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLmVtdkNvbXBsZXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuaGFuZGxlRW12Q29tcGxldGlvbihjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5iaWdCbG9ja0RhdGE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuaGFuZGxlQmlnQmxvY2tEYXRhKGNvbW1hbmRSZXNwKSApXHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLnJlcXVlc3RTbjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5mb3JtYXRTZXJpYWxOdW1iZXIoY29tbWFuZFJlc3ApIClcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMuZGV2aWNlQ29uZmlnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCB0aGlzLnBhcnNlRGV2aWNlQ29uZmlndXJhdGlvbihjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5waW5SZXNwb25zZTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjayggdGhpcy5wYXJzZVBpblJlc3BvbnNlKHBpblJlc3ApIClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5zZWxlY3Rpb25SZXNwb25zZTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5wYXJzZUNhcmRob2xkZXJSZXNwb25zZShjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5kaXNwbGF5UmVzcDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayggdGhpcy5maW5kT3BlcmF0aW9uU3RhdHVzKGNvbW1hbmRSZXNwWzFdKSApXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMudGlwQ2FzaGJhY2tSZXBvcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMucGFyc2VUaXBDYXNoYmFja1JlcG9ydChjb21tYW5kUmVzcCkgKTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgYFtEYXRhIFJlc3BdOiBUaGVyZSBpcyBubyBwYXJzZXIgZm9yIHRoaXMgZGF0YSwgcmV0dXJuaW5nIHRvIGNhbGxlcjogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKGNvbW1hbmRSZXNwKX0gfHwgJHtuZXcgRGF0ZSgpfWBcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2soIGNvbW1hbmRSZXNwICkgKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXNvbHZlKCBjb21tYW5kUmVzcCApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaGFuZGxlRW12Q29tcGxldGlvbiA9IGNvbW1hbmRSZXNwID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlshXSBFTVYgQ29tcGxldGlvbjogXCIsIGNvbW1hbmRSZXNwKTtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKFxyXG4gICAgICAgICAgICB0aGlzLnBhcnNlRW12Q29tcGxldGlvbihjb21tYW5kUmVzcClcclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQmlnQmxvY2tEYXRhID0gYmlnQmxvY2tEYXRhID0+IHtcclxuICAgICAgICBzd2l0Y2goYmlnQmxvY2tEYXRhWzJdKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMHgwMDpcclxuICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVCaWdCbG9ja0JlZ2luKCBiaWdCbG9ja0RhdGEgKTtcclxuICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMHg2MzpcclxuICAgICAgICAgICAgICAgIHRoaXMubWF4QmxvY2tJZCA9IE1hdGgubWF4KC4uLk9iamVjdC5rZXlzKHRoaXMucmF3RGF0YSkpICsgMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQmlnQmxvY2tGaW5pc2goKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yYXdEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMucmF3RGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBbIGJpZ0Jsb2NrRGF0YVsyXSBdOiBiaWdCbG9ja0RhdGEuc2xpY2UoNClcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDYXJkaG9sZGVyU3RhdHVzUmVwb3J0ID0gY29tbWFuZFJlc3AgPT4gdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKFxyXG4gICAgICAgICAgICB0aGlzLnBhcnNlRW12Q2FyZGhvbGRlckludGVyYWN0aW9uU3RhdHVzKGNvbW1hbmRSZXNwKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgaGFuZGxlQ2FyZFN0YXR1c1JlcG9ydCA9IGNvbW1hbmRSZXNwID0+IG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soXHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VDYXJkU3RhdHVzUmVwb3J0KGNvbW1hbmRSZXNwKVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnN3aXBlSGFzQmVndW4gfHwgdGhpcy50cmFuc2FjdGlvbkhhc1N0YXJ0ZWQpID8gXHJcbiAgICAgICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcCggXHJcbiAgICAgICAgICAgICAgICAodGhpcy5zd2lwZUhhc0JlZ3VuID8gWzB4MDEsIDB4MEEsIDB4MDBdIDogWzB4MDEsIDB4QUIsIDB4MDBdKVxyXG4gICAgICAgICAgICApLnRoZW4oIGFja1Jlc3AgPT4gcmVzb2x2ZSggdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKGFja1Jlc3ApIClcclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gdGhpcy5zZW5kRXJyVG9DYWxsYmFjayggdGhpcy5idWlsZERldmljZUVycihlcnIpICkpXHJcbiAgICAgICAgOiByZXNvbHZlKClcclxuICAgIH0pO1xyXG5cclxuICAgIGhhbmRsZURldmljZVN0YXRlUmVwb3J0ID0gY29tbWFuZFJlc3AgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGFHYXRoZXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFHYXRoZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9TZW5kIGFzc2VtYmxlZCB0cmFuc2FjdGlvbiBkYXRhIHRvIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICBzd2lwZURhdGE6IHRoaXMuY2FyZERhdGFPYmpcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soXHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VEZXZpY2VTdGF0ZVJlcG9ydChjb21tYW5kUmVzcClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNhcmREYXRhUmVwb3J0ID0gY29tbWFuZFJlc3AgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN3aXBlSGFzQmVndW4pIHtcclxuICAgICAgICAgICAgdGhpcy5zd2lwZUhhc0JlZ3VuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUdhdGhlcmVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjb21tYW5kUmVzcC5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJzZUNhcmREYXRhKGNvbW1hbmRSZXNwKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVE9ETzpcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoXCJbRVJST1JdIFVuZG9jdW1lbnRlZCBDYXJkIERhdGEgYmVsb3dcIik7XHJcbiAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoY29tbWFuZFJlc3ApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXF1ZXN0Q2FyZFN3aXBlID0gc3dpcGVPcHRpb25zID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5zd2lwZUhhc0JlZ3VuID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNhcmREYXRhT2JqID0ge307XHJcblxyXG4gICAgICAgIHJldHVybiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSlcclxuICAgICAgICAgICAgOiBcclxuICAgICAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKCB0aGlzLmNsZWFyU2Vzc2lvbkNtZCApXHJcbiAgICAgICAgICAgIC50aGVuKCBhY2tSZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhhY2tSZXNwKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRTd2lwZUNvbW1hbmQoIChzd2lwZU9wdGlvbnMgfHwge30pIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfSkudGhlbiggcmVzcCA9PiByZXNvbHZlKHJlc3ApXHJcbiAgICAgICAgICAgICkuY2F0Y2goIGVyciA9PiByZWplY3QoZXJyKSlcclxuICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgc3RhcnRUcmFuc2FjdGlvbiA9IGVtdk9wdGlvbnMgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uSGFzU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHt9O1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtJTkZPXTogRU1WIHRyYW5zYWN0aW9uIGJlZ3VuIHx8ICR7bmV3IERhdGUoKX1gKVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5idWlsZEVtdkNvbW1hbmQoIGVtdk9wdGlvbnMgfHwge30gKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oIGVtdkNvbW1tYW5kID0+XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKCBlbXZDb21tbWFuZCApXHJcbiAgICAgICAgICAgICAgICApLnRoZW4oIHJlc3AgPT4gcmVzb2x2ZShyZXNwKVxyXG4gICAgICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxuXHJcbiAgICByZXF1ZXN0UGluRW50cnkgPSBwaW5PcHRpb25zID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW1BJTl06IFJlcXVlc3QgZm9yIFBJTiBlbnRyeSBzdGFydCB8fCAke25ldyBEYXRlKCl9YCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJwaW5vcHRpb25zOiBcIiwgcGluT3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHJldHVybiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSlcclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoIHRoaXMuYnVpbGRQaW5Db21tYW5kKCBwaW5PcHRpb25zIHx8IHt9ICkgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oIHJlc3AgPT4gcmVzb2x2ZShyZXNwKVxyXG4gICAgICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xyXG4gICAgfSk7IFxyXG5cclxuICAgIHNlbmRCaWdCbG9ja0RhdGEgPSAoZGF0YVR5cGUsIGRhdGFMZW4sIGRhdGEpID0+IG5ldyBQcm9taXNlKChwYXJlbnRSZXNvbHZlLCBwYXJlbnRSZWplY3QpID0+IHtcclxuICAgICAgICBsZXQgYmxvY2taZXJvID0gWzB4MDEsIDB4MTAsIGRhdGFUeXBlLCAweDAwLCAoZGF0YUxlbiAmIDB4RkYpXTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGFMZW4gPCA2MCkge1xyXG4gICAgICAgICAgICBibG9ja1plcm8gPSBibG9ja1plcm8uY29uY2F0KC4uLnRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDYwKSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtTZW5kIEJpZyBCbG9jayBEYXRhIExlZ2FjeV06ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhibG9ja1plcm8pfWApO1xyXG5cclxuICAgICAgICAgICAgbGV0IGxlZ2FjeURhdGEgPSBbMHgwMSwgMHgxMCwgZGF0YVR5cGUsIDB4MDEsIGRhdGFMZW4sIC4uLmRhdGFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxlZ2FjeURhdGEubGVuZ3RoIDwgNjUpXHJcbiAgICAgICAgICAgICAgICBsZWdhY3lEYXRhID0gbGVnYWN5RGF0YS5jb25jYXQoLi4udGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgKDY1IC0gbGVnYWN5RGF0YS5sZW5ndGgpKSlcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmRQaW5Db21tYW5kKGJsb2NrWmVybykudGhlbigoKSA9PiB0aGlzLnNlbmRQaW5Db21tYW5kKGxlZ2FjeURhdGEpXHJcbiAgICAgICAgICAgICAgICApLnRoZW4oKCkgPT4gcGFyZW50UmVzb2x2ZSgpXHJcbiAgICAgICAgICAgICAgICApLmNhdGNoKGVyciA9PiBwYXJlbnRSZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBibG9ja1plcm8gPSBibG9ja1plcm8uY29uY2F0KFtcclxuICAgICAgICAgICAgICAgICgoZGF0YUxlbiA+PiA4KSAmIDB4RkYpLCBcclxuICAgICAgICAgICAgICAgICgoZGF0YUxlbiA+PiAxNikgJiAweEZGKSwgXHJcbiAgICAgICAgICAgICAgICAoKGRhdGFMZW4gPj4gMjQpICYgMHhGRiksIFxyXG4gICAgICAgICAgICAgICAgMHgwMSwgXHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCA1NilcclxuICAgICAgICAgICAgXSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kRXh0ZW5kZWRCaWdCbG9ja0RhdGEoZGF0YVR5cGUsIGRhdGFMZW4sIGRhdGEsIGJsb2NrWmVybykudGhlbigoKSA9PiBwYXJlbnRSZXNvbHZlKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNlbmRFeHRlbmRlZEJpZ0Jsb2NrRGF0YSA9IChkYXRhVHlwZSwgZGF0YUxlbiwgZGF0YSwgYmxvY2taZXJvKSA9PiBuZXcgUHJvbWlzZSggKHBhcmVudFJlc29sdmUsIHBhcmVudFJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG51bWJlck9mQmxvY2tzID0gTWF0aC5jZWlsKGRhdGFMZW4gLyA2MCk7XHJcbiAgICAgICAgbGV0IHdvcmtpbmdPblByb21pc2UgPSBmYWxzZTtcclxuICAgICAgICBsZXQgY29tbWFuZEJsb2NrcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbU2VuZCBCaWcgQmxvY2sgRGF0YSBFeHRlbmRlZF06ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhibG9ja1plcm8pfSB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJlZ2luUXVldWUgPSAoKSA9PiBuZXcgUHJvbWlzZSgoYmVnaW5RdWV1ZVJlc29sdmUsIGJlZ2luUXVldWVSZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKHdvcmtpbmdPblByb21pc2UpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxheVByb21pc2UoNTAwKS50aGVuKCgpID0+IGJlZ2luUXVldWVSZXNvbHZlKCBiZWdpblF1ZXVlKCkgKSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYXRhQmxvY2sgPSBjb21tYW5kQmxvY2tzLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWRhdGFCbG9jaylcclxuICAgICAgICAgICAgICAgIHJldHVybiBiZWdpblF1ZXVlUmVzb2x2ZSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIHdvcmtpbmdPblByb21pc2UgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGFCbG9jay5xdWV1ZWRQcm9taXNlKClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IGRhdGFCbG9jay5yZXNvbHZlKClcclxuICAgICAgICAgICAgICAgICkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2luZ09uUHJvbWlzZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiZWdpblF1ZXVlUmVzb2x2ZSggYmVnaW5RdWV1ZSgpIClcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2luZ09uUHJvbWlzZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiZWdpblF1ZXVlUmVqZWN0KCBkYXRhQmxvY2sucmVqZWN0KGVycikgKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGVucXVldWUgPSBxdWV1ZWRQcm9taXNlID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29tbWFuZEJsb2Nrcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlZFByb21pc2UsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlLFxyXG4gICAgICAgICAgICAgICAgcmVqZWN0LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZW5xdWV1ZSggXHJcbiAgICAgICAgICAgICgpID0+IG5ldyBQcm9taXNlKGlubmVyUmVzb2x2ZSA9PiBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFBpbkNvbW1hbmQoYmxvY2taZXJvKS50aGVuKCgpID0+IGlubmVyUmVzb2x2ZSgpKSApIFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBibG9jayA9IDE7IGJsb2NrIDw9IG51bWJlck9mQmxvY2tzOyBpICsgNjAsIGJsb2NrKyspIHtcclxuICAgICAgICAgICAgbGV0IGRhdGFGb3JCbG9jayA9IGRhdGEuc2xpY2UoaSwgKGkgKyA2MCkpO1xyXG4gICAgICAgICAgICBsZXQgYmxvY2tDbWQgPSBbMHgwMSwgMHgxMCwgZGF0YVR5cGUsIGJsb2NrLCBkYXRhRm9yQmxvY2subGVuZ3RoLCAuLi5kYXRhRm9yQmxvY2tdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJsb2NrQ21kLmxlbmd0aCAhPT0gNjUpXHJcbiAgICAgICAgICAgICAgICBibG9ja0NtZCA9IGJsb2NrQ21kLmNvbmNhdCggLi4udGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgKDY1IC0gYmxvY2tDbWQubGVuZ3RoKSkgKVxyXG5cclxuICAgICAgICAgICAgZW5xdWV1ZSggXHJcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgUHJvbWlzZSggaW5uZXJSZXNvbHZlID0+IFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFBpbkNvbW1hbmQoYmxvY2tDbWQpLnRoZW4oICgpID0+IGlubmVyUmVzb2x2ZSgpKSApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbU2VuZCBCaWcgQmxvY2sgRGF0YSBFeHRlbmRlZF06IEV4ZWN1dGluZyBxdWV1ZSBvZiAke2NvbW1hbmRCbG9ja3MubGVuZ3RofSBjb21tYW5kcyB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgIHJldHVybiBiZWdpblF1ZXVlKCkudGhlbihiZWdpblF1ZVJlc3AgPT4gcGFyZW50UmVzb2x2ZShiZWdpblF1ZVJlc3ApKS5jYXRjaChlcnIgPT4gcGFyZW50UmVqZWN0KGVycikpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2VuZEFycGMgPSBhcnBjUmVzcCA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB0aGlzLnNlbmRBcnBjQmFzZShhcnBjUmVzcClcclxuICAgICAgICAudGhlbihhcnBjQ21kID0+IHRoaXMuZGVsYXlQcm9taXNlKDIwMCwgYXJwY0NtZClcclxuICAgICAgICApLnRoZW4oY21kID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Bhc3NlZCB0aHJvdWdoIGNvbW1hbmQ6ICcsIGNtZCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoY21kKVxyXG4gICAgICAgIH0pLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtTZW5kIEFSUEMgUmVzdWx0XTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHJlc3ApfWApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzcCk7XHJcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpKVxyXG4gICAgKTtcclxuXHJcbiAgICAvKiBUT0RPOiAqL1xyXG4gICAgcmVxdWVzdFRpcE9yQ2FzaGJhY2sgPSB0aXBDYXNoYmFja09wdGlvbnMgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIC8vSWYgVGlwXHJcbiAgICAgICAgdGhpcy5oYXNUaXAgPSB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5idWlsZFRpcE9yQ2FzaGJhY2tDbWQoICh0aXBDYXNoYmFja09wdGlvbnMgfHwge30gKSlcclxuICAgICAgICAgICAgLnRoZW4odGlwQ2FzaGJhY2tDbWQgPT4gIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXR1cm5lZCB3aXRoIHRoaXMgY29tbWFuZDonLCB0aXBDYXNoYmFja0NtZCwgdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyh0aXBDYXNoYmFja0NtZCkpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKHRpcENhc2hiYWNrQ21kKVxyXG4gICAgICAgICAgICB9KS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RpcC1jYXNoYmFjayByZXNwOiAnLCByZXNwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlc3ApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpKVxyXG4gICAgfSk7XHJcblxyXG4gICAgc2V0RGlzcGxheU1lc3NhZ2UgPSBkaXNwbGF5T3B0aW9ucyA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICAodGhpcy5kZXZpY2UgJiYgdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGREaXNwbGF5Q21kKCAoZGlzcGxheU9wdGlvbnMgfHwge30pICkudGhlbiggY21kID0+IHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChjbWQpIFxyXG4gICAgICAgICAgICAgICAgKS50aGVuKHJlc3AgPT4gcmVzb2x2ZShyZXNwKVxyXG4gICAgICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSlcclxuICAgICAgICAgICAgOiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikpICk7XHJcblxyXG4gICAgc2VuZFBpbkNvbW1hbmQgPSB3cml0ZUNvbW1hbmQgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQXBwRnJvbUhvc3RMZW5ndGhdOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoW3dyaXRlQ29tbWFuZC5sZW5ndGhdKX0gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICByZXR1cm4gKCF0aGlzLnNlbmRMZW5Ub0RldmljZSkgPyByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoY29tbWFuZE5vdFNlbnRGcm9tSG9zdCkgKVxyXG4gICAgICAgIDogdGhpcy5zZW5kTGVuVG9EZXZpY2Uud3JpdGVWYWx1ZShVaW50OEFycmF5Lm9mKCB3cml0ZUNvbW1hbmQubGVuZ3RoICkpXHJcbiAgICAgICAgICAgIC50aGVuKCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQXBwRnJvbUhvc3REYXRhXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHdyaXRlQ29tbWFuZCl9IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFNlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljLndyaXRlVmFsdWUoIFVpbnQ4QXJyYXkuZnJvbSh3cml0ZUNvbW1hbmQpICkgKVxyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kU2VudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2VuZENvbW1hbmRXaXRoUmVzcCA9IHdyaXRlQ29tbWFuZCA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gdGhpcy5zZW5kUGluQ29tbWFuZCh3cml0ZUNvbW1hbmQpXHJcbiAgICAgICAgLnRoZW4oICgpID0+ICh0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlKSA/IFByb21pc2UucmVzb2x2ZSh0cnVlKSA6IHRoaXMud2FpdEZvckRldmljZVJlc3BvbnNlKDE2KSApXHJcbiAgICAgICAgLnRoZW4oIHdhaXRSZXNwID0+ICh3YWl0UmVzcCkgPyB0aGlzLnJlYWRDb21tYW5kUmVzcCgpIDogdGhpcy50cnlDb21tYW5kQWdhaW4od3JpdGVDb21tYW5kKSApXHJcbiAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUmVzcEF2YWlsYWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHJlc3BvbnNlICk7XHJcbiAgICAgICAgfSkuY2F0Y2goIGVyciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApXHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgdHJ5Q29tbWFuZEFnYWluID0gd3JpdGVDb21tYW5kID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB0aGlzLnNlbmRQaW5Db21tYW5kKHdyaXRlQ29tbWFuZClcclxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy53YWl0Rm9yRGV2aWNlUmVzcG9uc2UoNSkgKVxyXG4gICAgICAgIC50aGVuKCB3YWl0UmVzcCA9PiAod2FpdFJlc3ApID8gcmVzb2x2ZSggdGhpcy5yZWFkQ29tbWFuZFJlc3AoKSApXHJcbiAgICAgICAgICAgIDogcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKHJlc3BvbnNlTm90UmVjZWl2ZWQpIClcclxuICAgICAgICApXHJcbiAgICApO1xyXG5cclxuICAgICAvLyNyZWdpb24gR2V0RGV2aWNlSW5mb1xyXG4gICAgIGdldERldmljZUluZm8gPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgP1xyXG4gICAgICAgIHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdE9wZW4pKSBcclxuICAgICAgICA6IHRoaXMuZ2F0aGVyRGV2aWNlSW5mbygpXHJcbiAgICAgICAgICAgIC50aGVuKCBkZXZpY2VJbmZvID0+IHJlc29sdmUoZGV2aWNlSW5mbylcclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpIClcclxuICAgICk7XHJcblxyXG4gICAgZ2F0aGVyRGV2aWNlSW5mbyA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAodGhpcy5kZXZpY2VTZXJpYWxOdW1iZXIpID8gXHJcbiAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgIHNlcmlhbE51bWJlcjogdGhpcy5kZXZpY2VTZXJpYWxOdW1iZXIsXHJcbiAgICAgICAgICAgIGRldmljZU5hbWU6IHRoaXMuZGV2aWNlLm5hbWUsXHJcbiAgICAgICAgICAgIGRldmljZVR5cGU6IHRoaXMuZGV2aWNlVHlwZSxcclxuICAgICAgICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkXHJcbiAgICAgICAgfSkgXHJcbiAgICAgICAgOiB0aGlzLmNoZWNrSWZEZXZpY2VJZGxlKClcclxuICAgICAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuZ2V0RGV2aWNlSW5mb1Byb2NlZWQoKVxyXG4gICAgICAgICAgICApLnRoZW4oICgpID0+IFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VyaWFsTnVtYmVyOiB0aGlzLmRldmljZVNlcmlhbE51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICBkZXZpY2VOYW1lOiB0aGlzLmRldmljZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGRldmljZVR5cGU6IHRoaXMuZGV2aWNlVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBpc0Nvbm5lY3RlZDogdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKVxyXG4gICAgKTtcclxuXHJcbiAgICBnZXREZXZpY2VJbmZvUHJvY2VlZCA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZW5kUGluQ29tbWFuZChbMHgwMCwgMHgxQSwgMHgwNV0pXHJcbiAgICAgICAgLnRoZW4oICgpID0+ICh0aGlzLmRldmljZVNlcmlhbE51bWJlcikgPyBQcm9taXNlLnJlc29sdmUodHJ1ZSkgOiB0aGlzLndhaXRGb3JTbig3KSBcclxuICAgICAgICApLnRoZW4oIHdhaXRSZXNwID0+ICh3YWl0UmVzcCkgPyByZXNvbHZlKCkgOiBcclxuICAgICAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKHJlc3BvbnNlTm90UmVjZWl2ZWQpKVxyXG4gICAgICAgICkuY2F0Y2goIGVyciA9PiByZWplY3QoZXJyKSlcclxuICAgIH0pXHJcblxyXG4gICAgY2hlY2tJZkRldmljZUlkbGUgPSAoKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IFxyXG4gICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChbMHgwMSwgMHgxQSwgMHgwNV0pXHJcbiAgICAgICAgICAgIC50aGVuKCBhY2tSZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhY2tSZXNwLmNvZGUgPT09IDB4ODEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhclNlc3Npb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiByZXNvbHZlKCB0aGlzLmNoZWNrSWZEZXZpY2VJZGxlKCkgKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soYWNrUmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgd2FpdEZvclNuID0gbWF4VHJpZXMgPT4gbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCB3YWl0Rm9yUmVzcG9uc2UgPSB0cnlOdW1iZXIgPT4gXHJcbiAgICAgICAgICAgICh0cnlOdW1iZXIgPCBtYXhUcmllcykgPyBcclxuICAgICAgICAgICAgICAgICh0aGlzLmRldmljZVNlcmlhbE51bWJlcikgPyByZXNvbHZlKCB0cnVlICkgOiBzZXRUaW1lb3V0KCgpID0+IHdhaXRGb3JSZXNwb25zZSh0cnlOdW1iZXIgKyAxKSwgMjAwKVxyXG4gICAgICAgICAgICA6IHJlc29sdmUoIGZhbHNlICk7XHJcblxyXG4gICAgICAgIHdhaXRGb3JSZXNwb25zZSgwKTtcclxuICAgIH0pO1xyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgY2FuY2VsVHJhbnNhY3Rpb24gPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYykgPyBcclxuICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoY29tbWFuZE5vdFNlbnQpKVxyXG4gICAgICAgIDpcclxuICAgICAgICB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoWzB4MDEsIDB4MDUsIDB4MDBdKVxyXG4gICAgICAgIC50aGVuKCBhY2tSZXNwID0+IHJlc29sdmUoYWNrUmVzcCkgKVxyXG4gICAgICAgIC5jYXRjaCggZXJyID0+IHJlamVjdChlcnIpIClcclxuICAgICk7XHJcblxyXG4gICAgY2xlYXJTZXNzaW9uID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQ2xlYXJTZXNzaW9uXTogUmVxdWVzdCB0byBjbGVhciBzZXNzaW9uIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICghdGhpcy5zZW5kTGVuVG9EZXZpY2UpID8gcmVzb2x2ZShub1Nlc3Npb25Ub0NsZWFyKSBcclxuICAgICAgICAgICAgOiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AodGhpcy5jbGVhclNlc3Npb25DbWQpXHJcbiAgICAgICAgICAgIC50aGVuKCBhY2tSZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhhY2tSZXNwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtDbGVhclNlc3Npb25dOiBSZWNlaXZlZCBjbGVhciBzZXNzaW9uIHJlc3BvbnNlIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJJbnRlcm5hbFN0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShhY2tSZXNwKVxyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjbG9zZVBpbkRldmljZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuY2FyZERhdGFMaXN0ZW5lcikgP1xyXG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpLnRoZW4oICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0Nsb3NlIERldmljZV06IERldmljZSBDbG9zZWQuIENsZWFyaW5nIEpTIGNhY2hlIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckdhdHRDYWNoZSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCBlcnIgKSApXHJcbiAgICAgICAgOlxyXG4gICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lci5zdG9wTm90aWZpY2F0aW9ucygpXHJcbiAgICAgICAgLnRoZW4oICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0Nsb3NlIERldmljZV06IEdBVFQgbm90aWZpY2F0aW9ucyBzdG9wcGVkLiBDbGVhcmluZyBKUyBjYWNoZSB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhcmREYXRhTGlzdGVuZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmRhdGFXYXRjaGVyKTtcclxuICAgICAgICAgICAgdGhpcy5jYXJkRGF0YUxpc3RlbmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckdhdHRDYWNoZSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuZGlzY29ubmVjdCgpIClcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCBlcnIgKSApXHJcbiAgICApO1xyXG5cclxuICAgIGNsb3NlRGV2aWNlID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gXHJcbiAgICAgICAgcmVzb2x2ZShzdWNjZXNzZnVsQ2xvc2UpIFxyXG4gICAgICAgIDogdGhpcy5jbGVhclNlc3Npb24oKVxyXG4gICAgICAgICAgICAudGhlbiggKCkgPT4gXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUGluRGV2aWNlKClcclxuICAgICAgICAgICAgKS50aGVuKCgpPT4gcmVzb2x2ZShzdWNjZXNzZnVsQ2xvc2UpXHJcbiAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICBjbGVhckludGVybmFsU3RhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kU2VudCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRhdGFHYXRoZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNRdWlja0NoaXBUcmFuc2FjdGlvbiA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJHYXR0Q2FjaGUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkhhc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlY2VpdmVEYXRhQ2hhciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2VuZExlblRvRGV2aWNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNsZWFySW50ZXJuYWxTdGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmhhc1RpcCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3dpcGVIYXNCZWd1biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25IYXNTdGFydGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBpblBhZDsiLCJpbXBvcnQgUGluUGFkIGZyb20gJy4vcGluUGFkJztcclxuaW1wb3J0IHsgZGV2aWNlTm90SWRsZSwgZHBNaW5pIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgcmVzcG9uc2VOb3RSZWNlaXZlZCwgZGV2aWNlTm90Rm91bmQgfSBmcm9tICcuLi9lcnJvckhhbmRsZXIvZXJyQ29uc3RhbnRzJztcclxuXHJcbmNsYXNzIERwTWluaSBleHRlbmRzIFBpblBhZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRldmljZVR5cGUgPSBkcE1pbmk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERwTWluaTsiLCJpbXBvcnQgUGluUGFkIGZyb20gJy4vcGluUGFkJztcclxuaW1wb3J0IHsgZHluYVByb0dvIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgcmVzcG9uc2VOb3RSZWNlaXZlZCwgZGV2aWNlTm90T3BlbiB9IGZyb20gJy4uL2Vycm9ySGFuZGxlci9lcnJDb25zdGFudHMnO1xyXG5cclxuY2xhc3MgRHluYVByb0dvIGV4dGVuZHMgUGluUGFkIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLmRldmljZVR5cGUgPSBkeW5hUHJvR287XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IER5bmFQcm9HbzsiLCJpbXBvcnQgRGV2aWNlQmFzZSBmcm9tICcuLi9kZXZpY2VzL2Jhc2VDbGFzcyc7XHJcblxyXG5jbGFzcyBTY3JhU3dpcGVQYXJzZXIgZXh0ZW5kcyBEZXZpY2VCYXNlIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLmRhdGFOYW1lcyA9IFtcclxuICAgICAgICAgICAgJ3RyYWNrMScsXHJcbiAgICAgICAgICAgICd0cmFjazInLFxyXG4gICAgICAgICAgICAndHJhY2szJyxcclxuICAgICAgICAgICAgJ2tzbicsXHJcbiAgICAgICAgICAgICdtYWduZVByaW50JyxcclxuICAgICAgICAgICAgJ21hZ25lUHJpbnRTdGF0dXMnLFxyXG4gICAgICAgICAgICAnc2VyaWFsTnVtYmVyJyxcclxuICAgICAgICAgICAgJ2VuY1Nlc3Npb25JZCcsXHJcbiAgICAgICAgICAgICd0cmFjazFNYXNrZWQnLFxyXG4gICAgICAgICAgICAndHJhY2syTWFza2VkJyxcclxuICAgICAgICAgICAgJ3RyYWNrM01hc2tlZCdcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLm9mZnNldCA9IDM7XHJcblxyXG4gICAgICAgIC8vTW92ZWQgU3RhdHVzIEVudW1zIHRvIERldmljZUJhc2UgZm9yIGluaGVyaXRhbmNlLlxyXG4gICAgfVxyXG5cclxuICAgIHRyYWNrSW5kaWNlcyA9IG9mZnNldCA9PiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICB0cmFjazFEZWNvZGVTdGF0dXM6IG9mZnNldCxcclxuICAgICAgICB0cmFjazJEZWNvZGVTdGF0dXM6IG9mZnNldCArIDEsXHJcbiAgICAgICAgdHJhY2szRGVjb2RlU3RhdHVzOiBvZmZzZXQgKyAyLFxyXG4gICAgICAgIHRyYWNrMUxlbjogb2Zmc2V0ICsgMyxcclxuICAgICAgICB0cmFjazJMZW46IG9mZnNldCArIDQsXHJcbiAgICAgICAgdHJhY2szTGVuOiBvZmZzZXQgKyA1LFxyXG4gICAgICAgIGNhcmRFbmNvZGVUeXBlOiBvZmZzZXQgKyA2LFxyXG4gICAgICAgIHRyYWNrMVN0YXJ0OiBvZmZzZXQgKyA3LFxyXG4gICAgICAgIHRyYWNrMUVuZDogb2Zmc2V0ICsgMTE4LFxyXG4gICAgICAgIHRyYWNrMlN0YXJ0OiBvZmZzZXQgKyAxMTksXHJcbiAgICAgICAgdHJhY2syRW5kOiBvZmZzZXQgKyAyMzAsXHJcbiAgICAgICAgdHJhY2szU3RhcnQ6IG9mZnNldCArIDIzMSxcclxuICAgICAgICB0cmFjazNFbmQ6IG9mZnNldCArIDM0MixcclxuICAgICAgICBjYXJkU3RhdHVzOiBvZmZzZXQgKyAzNDMsXHJcbiAgICAgICAgbWFnbmVQcmludFN0YXR1c1N0YXJ0OiBvZmZzZXQgKyAzNDQsXHJcbiAgICAgICAgbWFnbmVQcmludFN0YXR1c0VuZDogb2Zmc2V0ICsgIDM0NyxcclxuICAgICAgICBtYWduZVByaW50TGVuOiBvZmZzZXQgKyAzNDgsXHJcbiAgICAgICAgbWFnbmVQcmludFN0YXJ0OiBvZmZzZXQgKyAzNDksXHJcbiAgICAgICAgbWFnbmVQcmludEVuZDogb2Zmc2V0ICsgNDc2LFxyXG4gICAgICAgIHNlcmlhbE51bWJlclN0YXJ0OiBvZmZzZXQgKyA0NzcsXHJcbiAgICAgICAgc2VyaWFsTnVtYmVyRW5kOiBvZmZzZXQgKyA0OTIsXHJcbiAgICAgICAgZGV2aWNlRW5jU3RhdHVzU3RhcnQ6IG9mZnNldCArIDQ5MyxcclxuICAgICAgICBkZXZpY2VFbmNTdGF0dXNFbmQ6IG9mZnNldCArIDQ5NCxcclxuICAgICAgICBrc25TdGFydDogb2Zmc2V0ICsgNDk1LFxyXG4gICAgICAgIGtzbkVuZDogb2Zmc2V0ICsgNTA0LFxyXG4gICAgICAgIHRyYWNrMU1hc2tlZExlbjogb2Zmc2V0ICsgNTA1LFxyXG4gICAgICAgIHRyYWNrMk1hc2tlZExlbjogb2Zmc2V0ICsgNTA2LFxyXG4gICAgICAgIHRyYWNrM01hc2tlZExlbjogb2Zmc2V0ICsgNTA3LFxyXG4gICAgICAgIHRyYWNrMU1hc2tlZFN0YXJ0OiBvZmZzZXQgKyA1MDgsXHJcbiAgICAgICAgdHJhY2sxTWFza2VkRW5kOiBvZmZzZXQgKyA2MTksXHJcbiAgICAgICAgdHJhY2syTWFza2VkU3RhcnQ6IG9mZnNldCArIDYyMCxcclxuICAgICAgICB0cmFjazJNYXNrZWRFbmQ6IG9mZnNldCArIDczMSxcclxuICAgICAgICB0cmFjazNNYXNrZWRTdGFydDogb2Zmc2V0ICsgNzMyLFxyXG4gICAgICAgIHRyYWNrM01hc2tlZEVuZDogb2Zmc2V0ICsgODQzLFxyXG4gICAgICAgIGVuY1Nlc3Npb25JZFN0YXJ0OiBvZmZzZXQgKyA4NDQsXHJcbiAgICAgICAgZW5jU2Vzc2lvbklkRW5kOiBvZmZzZXQgKyA4NTEsXHJcbiAgICAgICAgdHJhY2sxQWJzTGVuOiBvZmZzZXQgKyA4NTIsXHJcbiAgICAgICAgdHJhY2syQWJzTGVuOiBvZmZzZXQgKyA4NTMsXHJcbiAgICAgICAgdHJhY2szQWJzTGVuOiBvZmZzZXQgKyA4NTQsXHJcbiAgICAgICAgbWFnbmVQcmludEFic0xlbjogb2Zmc2V0ICsgODU1XHJcbiAgICB9KTtcclxuXHJcbiAgICBwYXJzZUhpZERhdGEgPSBkYXRhID0+IHtcclxuICAgICAgICBsZXQgdHJhY2tQb3NpdGlvbnMgPSB0aGlzLnRyYWNrSW5kaWNlcyh0aGlzLm9mZnNldCk7XHJcbiAgICAgICAgbGV0IHRyYWNrSW5mbyA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgLy9JdGVyYXRlIHRocm91Z2ggdHJhY2sgbmFtZXMgYW5kIGZvcm1hdCBpbiBrZXkgdmFsdWUgcGFpciBmb3JtYXQuXHJcbiAgICAgICAgdGhpcy5kYXRhTmFtZXMuZm9yRWFjaCggZGF0YVByb3AgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHRyYWNrRGF0YSA9IGRhdGEuc2xpY2UoXHJcbiAgICAgICAgICAgICAgICB0cmFja1Bvc2l0aW9uc1tgJHtkYXRhUHJvcH1TdGFydGBdLCB0cmFja1Bvc2l0aW9uc1tgJHtkYXRhUHJvcH1FbmRgXSArIDFcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0cmFja1Bvc2l0aW9ucy5oYXNPd25Qcm9wZXJ0eShgJHtkYXRhUHJvcH1MZW5gKSkge1xyXG4gICAgICAgICAgICAgICAgdHJhY2tEYXRhID0gdHJhY2tEYXRhLnNsaWNlKFxyXG4gICAgICAgICAgICAgICAgICAgIDAsIGRhdGFbdHJhY2tQb3NpdGlvbnNbYCR7ZGF0YVByb3B9TGVuYF1dXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vU3BlY2lhbCBmb3JtYXR0aW5nIGlzIG5lZWRlZCBmb3IgdHJhY2syTWFza2VkLCB0cmFja3Mgd2l0aCBhIFwiRGVjb2RlU3RhdHVzXCIgZmllbGQsIERldmljZSBTZXJpYWwgTnVtYmVyLCBhbmQgdHJhY2tzIHRoYXQgaGF2ZSBhIFwibWFza2VkXCIgc3VmZml4LlxyXG4gICAgICAgICAgICAvL1RoZSBiZWxvdyB0ZXJuYXJ5IHJldHVybnMgdGhlIHByb3BlciBmb3JtYXQsIGRlcGVuZGluZyBvbiB0cmFjayBuYW1lLCBhbmQgcGVyZm9ybXMgbXVjaCBiZXR0ZXIgdGhhbiBpZi9lbHNlaWYvZWxzZSBzdGF0ZW1lbnQuXHJcbiAgICAgICAgICAgIHRyYWNrSW5mbyA9IChkYXRhUHJvcCA9PT0gJ3RyYWNrMk1hc2tlZCcpID8gdGhpcy5mb3JtYXRUcmFjazJNYXNrZWQoIHRyYWNrSW5mbywgZGF0YVByb3AsIHRoaXMuYnVmZmVyVG9VdGY4KHRyYWNrRGF0YSkgKSA6IFxyXG4gICAgICAgICAgICAgICAgKHRyYWNrUG9zaXRpb25zLmhhc093blByb3BlcnR5KGAke2RhdGFQcm9wfURlY29kZVN0YXR1c2ApKSA/IHRoaXMuZm9ybWF0VHJhY2tXaXRoRGVjb2RlKCB0cmFja0luZm8sIGRhdGFQcm9wLCBkYXRhW3RyYWNrUG9zaXRpb25zW2Ake2RhdGFQcm9wfURlY29kZVN0YXR1c2BdXSwgdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyh0cmFja0RhdGEpICkgOiBcclxuICAgICAgICAgICAgICAgICAgICAoZGF0YVByb3AgPT09ICdzZXJpYWxOdW1iZXInKSA/IHRoaXMuZm9ybWF0U2VyaWFsTnVtYmVyKHRyYWNrSW5mbywgdHJhY2tEYXRhKSA6IFxyXG4gICAgICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRyYWNrSW5mbyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFQcm9wXSA6IChkYXRhUHJvcC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdtYXNrZWQnKSkgPyB0aGlzLmJ1ZmZlclRvVXRmOCh0cmFja0RhdGEpIDogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyh0cmFja0RhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHsgc3dpcGVEYXRhOiB7IC4uLnRyYWNrSW5mbyB9IH07XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0U2VyaWFsTnVtYmVyID0gKHRyYWNrSW5mbywgdHJhY2tEYXRhKSA9PiAoe1xyXG4gICAgICAgIC4uLnRyYWNrSW5mbyxcclxuICAgICAgICBzZXJpYWxOdW1iZXI6IHRoaXMuYnVmZmVyVG9VdGY4KCAodHJhY2tEYXRhLmxlbmd0aCA+IDcgPyB0cmFja0RhdGEuc2xpY2UoMCwgNykgOiB0cmFja0RhdGEgKSApXHJcbiAgICB9KTtcclxuXHJcbiAgICAvL01vdmVkIEV4cCBhbmQgUEFOIGZvcm1hdGluZyB0byBVdGlscyBjbGFzcyAtIGZvciBpbmhlcml0YW5jZS5cclxuXHJcbiAgICBmb3JtYXRUcmFjazJNYXNrZWQgPSAodHJhY2tJbmZvLCBkYXRhUHJvcCwgdHJhY2syTWFza2VkKSA9PiAoe1xyXG4gICAgICAgIC4uLnRyYWNrSW5mbyxcclxuICAgICAgICBbZGF0YVByb3BdIDogdHJhY2syTWFza2VkLFxyXG4gICAgICAgIC4uLnRoaXMuZm9ybWF0RXhwUEFOKHRyYWNrMk1hc2tlZClcclxuICAgIH0pO1xyXG5cclxuICAgIGZvcm1hdFRyYWNrV2l0aERlY29kZSA9ICh0cmFja0luZm8sIGRhdGFQcm9wLCBkZWNvZGVTdGF0dXNWYWx1ZSwgdHJhY2tWYWx1ZSkgPT4gKHtcclxuICAgICAgICAuLi50cmFja0luZm8sXHJcbiAgICAgICAgW2RhdGFQcm9wXSA6IHRyYWNrVmFsdWUsXHJcbiAgICAgICAgW2Ake2RhdGFQcm9wfURlY29kZVN0YXR1c2BdIDogZGVjb2RlU3RhdHVzVmFsdWUgPT09IDB4MDAgPyBcIk9rXCIgOiBcIkVycm9yXCIsXHJcbiAgICAgICAgW2Ake2RhdGFQcm9wfURlY29kZVN0YXR1c0NvZGVgXSA6IGRlY29kZVN0YXR1c1ZhbHVlXHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NyYVN3aXBlUGFyc2VyOyIsImltcG9ydCBTY3JhU3dpcGVQYXJzZXIgZnJvbSAnLi4vcGFyc2Vycy9zY3JhU3dpcGVQYXJzZXInO1xyXG5cclxuY2xhc3MgVHJ4U3RhdHVzUGFyc2VyIGV4dGVuZHMgU2NyYVN3aXBlUGFyc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLlRyeFN0YXR1c0VudW0gPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHgwMDogXCJUcmFuc2FjdGlvbiBTdGFydGVkIGFuZCBJZGxlXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiQ2FyZCBpcyBJbnNlcnRlZFwiLFxyXG4gICAgICAgICAgICAweDAyOiBcIkVycm9yXCIsXHJcbiAgICAgICAgICAgIDB4MDM6IFwiVHJhbnNhY3Rpb24gUHJvZ3Jlc3MgQ2hhbmdlXCIsXHJcbiAgICAgICAgICAgIDB4MDQ6IFwiV2FpdGluZyBmb3IgVXNlciBSZXNwb25zZVwiLFxyXG4gICAgICAgICAgICAweDA1OiBcIlRpbWVkIE91dFwiLFxyXG4gICAgICAgICAgICAweDA2OiBcIlRyYW5zYWN0aW9uIENvbXBsZXRlXCIsXHJcbiAgICAgICAgICAgIDB4MDc6IFwiQ2FuY2VsbGVkIGJ5IEhvc3RcIixcclxuICAgICAgICAgICAgMHgwODogXCJDYXJkIFJlbW92ZWRcIixcclxuICAgICAgICAgICAgMHgwOTogXCJDb250YWN0bGVzcyBUb2tlbiBEZXRlY3RlZCwgUG93ZXJpbmcgVXAgQ2FyZFwiLFxyXG4gICAgICAgICAgICAweDBBOiBcIk1TUiBTd2lwZSBEZXRlY3RlZFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuVHJ4UHJvZ3Jlc3NJbmRpY2F0b3IgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHgwMDogXCJObyB0cmFuc2FjdGlvbiBpbiBwcm9ncmVzc1wiLFxyXG4gICAgICAgICAgICAweDAxOiBcIldhaXRpbmcgZm9yIGNhcmRob2xkZXIgdG8gcHJlc2VudCBwYXltZW50XCIsXHJcbiAgICAgICAgICAgIDB4MDI6IFwiUG93ZXJpbmcgdXAgdGhlIGNhcmRcIixcclxuICAgICAgICAgICAgMHgwMzogXCJTZWxlY3RpbmcgdGhlIGFwcGxpY2F0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MDQ6IFwiV2FpdGluZyBmb3IgdXNlciBsYW5ndWFnZSBzZWxlY3Rpb25cIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MDU6IFwiV2FpdGluZyBmb3IgdXNlciBhcHBsaWNhdGlvbiBzZWxlY3Rpb25cIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MDY6IFwiSW5pdGlhdGluZyBhcHBsaWNhdGlvblwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwNzogXCJSZWFkaW5nIGFwcGxpY2F0aW9uIGRhdGFcIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MDg6IFwiT2ZmbGluZSBkYXRhIGF1dGhlbnRpY2F0aW9uXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDA5OiBcIlByb2Nlc3MgcmVzdHJpY3Rpb25zXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDBBOiBcIkNhcmRob2xkZXIgdmVyaWZpY2F0aW9uXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDBCOiBcIlRlcm1pbmFsIHJpc2sgbWFuYWdlbWVudFwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwQzogXCJUZXJtaW5hbCBhY3Rpb24gYW5hbHlzaXNcIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MEQ6IFwiR2VuZXJhdGluZyBmaXJzdCBhcHBsaWNhdGlvbiBjcnlwdG9ncmFtXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDBFOiBcIkNhcmQgYWN0aW9uIGFuYWx5c2lzXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDBGOiBcIk9ubGluZSBwcm9jZXNzaW5nXCIsXHJcbiAgICAgICAgICAgIDB4MTA6IFwiV2FpdGluZyBvbmxpbmUgcHJvY2Vzc2luZyByZXNwb25zZVwiLFxyXG4gICAgICAgICAgICAweDExOiBcIlRyYW5zYWN0aW9uIENvbXBsZXRlXCIsXHJcbiAgICAgICAgICAgIDB4MTI6IFwiVHJhbnNhY3Rpb24gRXJyb3JcIixcclxuICAgICAgICAgICAgMHgxMzogXCJUcmFuc2FjdGlvbiBBcHByb3ZlZFwiLFxyXG4gICAgICAgICAgICAweDE0OiBcIlRyYW5zYWN0aW9uIERlY2xpbmVkXCIsXHJcbiAgICAgICAgICAgIDB4MTU6IFwiVHJhbnNhY3Rpb24gQ2FuY2VsbGVkIGJ5IE1TUiBTd2lwZVwiLCAgLy9NU1IgT25seVxyXG4gICAgICAgICAgICAweDE2OiBcIkVNViBlcnJvciAtIENvbmRpdGlvbnMgTm90IFNhdGlzZmllZFwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgxNzogXCJFTVYgZXJyb3IgLSBDYXJkIEJsb2NrZWRcIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MTg6IFwiQXBwbGljYXRpb24gc2VsZWN0aW9uIGZhaWxlZFwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgxOTogXCJFTVYgZXJyb3IgLSBDYXJkIE5vdCBBY2NlcHRlZFwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgxQTogXCJFbXB0eSBDYW5kaWRhdGUgTGlzdFwiLFxyXG4gICAgICAgICAgICAweDFCOiBcIkFwcGxpY2F0aW9uIEJsb2NrZWRcIixcclxuICAgICAgICAgICAgMHgyOTogXCJDb250YWN0bGVzcyBSZW1vdmUgQ2FyZFwiLFxyXG4gICAgICAgICAgICAweDJBOiBcIkNvbGxpc2lvbiBEZXRlY3RlZFwiLFxyXG4gICAgICAgICAgICAweDJCOiBcIlJlZmVyIHRvIE1vYmlsZSBEZXZpY2UgUHJvbXB0XCIsXHJcbiAgICAgICAgICAgIDB4MkM6IFwiQ29udGFjdGxlc3MgVHJhbnNhY3Rpb24gQ29tcGxldGVcIixcclxuICAgICAgICAgICAgMHgyRDogXCJSZXF1ZXN0IFN3aXRjaCB0byBJQ0MvTVNSIC0gS2VybmVsIGhhcyByZWZ1c2VkIGNvbnRhY3RsZXNzIHBheW1lbnRcIixcclxuICAgICAgICAgICAgMHgyRTogXCJXcm9uZyBDYXJkIFR5cGUgKE1TRCBvciBFTVYpXCIsXHJcbiAgICAgICAgICAgIDB4MkY6IFwiTm8gQXBwbGljYXRpb24gSW50ZXJjaGFuZ2UgUHJvZmlsZSAoVGFnIDgyKSBSZWNlaXZlZFwiLFxyXG4gICAgICAgICAgICAweDMxOiBcIk1hZ25ldGljIHN0cmlwZSBkZWNvZGluZyBlcnJvci5cIixcclxuICAgICAgICAgICAgMHgzQzogXCJNYWduZXRpYyBzdHJpcGUgZGVjb2RpbmcgZHVyaW5nIFRlY2huaWNhbCBGYWxsYmFjay4gUmV2ZXJ0IHRvIE1TUiwgcG93ZXJpbmcgdXAgYnV0IG5vdCByZWNlaXZpbmcgYW4gQW5zd2VyIHRvIFJlc2V0IGZyb20gY2FyZC5cIixcclxuICAgICAgICAgICAgMHgzRDogXCJNYWduZXRpYyBzdHJpcGUgY2FyZCBkZWNvZGVkIGR1cmluZyBNU1IgRmFsbGJhY2suIERldmljZSByZXZlcnRlZCB0byBNU1IsIGJ1dCBlbmNvdW50ZXJlZCBmYXRhbCBlcnJvcnMuXCIsXHJcbiAgICAgICAgICAgIDB4M0U6IFwiTWFnbmV0aWMgc3RyaXBlIGNhcmQgZGVjb2RlZCBkdXJpbmcgYSBObyBGYWxsYmFjayBNU1IgcmVhZC5cIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlVHJhbnNhY3Rpb25TdGF0dXMgPSBub3RpZmljYXRpb24gPT4ge1xyXG4gICAgICAgIGxldCBkYXRhTGVuID0gdGhpcy5yZWFkVHdvQnl0ZUxlbmd0aChbXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvblsxXSxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uWzJdXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGxldCBuZXdOb3RpZmljYXRpb24gPSBub3RpZmljYXRpb24uc2xpY2UoMyk7XHJcblxyXG4gICAgICAgIHJldHVybiAobmV3Tm90aWZpY2F0aW9uLmxlbmd0aCA9PT0gZGF0YUxlbikgPyB0aGlzLnBhcnNlTm90aWZpY2F0aW9ucyhuZXdOb3RpZmljYXRpb24pIDogdGhpcy50aHJvd0xlbkVycigpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgcGFyc2VOb3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9uU2xpY2UgPT4ge1xyXG4gICAgICAgIGxldCBuZXdOb3RpZmljYXRpb25TbGljZSA9IG5vdGlmaWNhdGlvblNsaWNlLnNsaWNlKDYpO1xyXG5cclxuICAgICAgICBsZXQgbm90aWZpY2F0aW9uTGVuZ3RoID0gdGhpcy5yZWFkVHdvQnl0ZUxlbmd0aChbXHJcbiAgICAgICAgICAgIG5ld05vdGlmaWNhdGlvblNsaWNlWzBdLFxyXG4gICAgICAgICAgICBuZXdOb3RpZmljYXRpb25TbGljZVsxXVxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBsZXQgbm90aWZpY2F0aW9uQ29udGVudCA9IG5ld05vdGlmaWNhdGlvblNsaWNlLnNsaWNlKDIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vXHJcbiAgICAgICAgICAgIC8vbm90aWZpY2F0aW9uQ29udGVudCBGb3JtYXQgYnkgSW5kZXg6XHJcbiAgICAgICAgICAgIC8vMDogRXZlbnQgPT4gU2VlIHRoaXMuVHJ4U3RhdHVzRW51bSBmb3IgY29kZXMuXHJcbiAgICAgICAgICAgIC8vMTogQ3VycmVudCBPcGVyYXRpb24gVGltZSByZW1haW5pbmcgaW4gc2Vjb25kcy5cclxuICAgICAgICAgICAgLy8yOiBDdXJyZW50IFRyYW5zYWN0aW9uIFByb2dyZXNzIEluZGljYXRvciA9PiBTZWUgdGhpcy5UcnhQcm9ncmVzc0luZGljYXRvciBmb3IgY29kZXMuXHJcbiAgICAgICAgICAgIC8vMyAtIDQ6IEZpbmFsIFN0YXR1cyA9PiBObyBkb2N1bWVudGF0aW9uIHByb3ZpZGVkIGZvciB0aGlzICh1c3VhbGx5IGlzIDAwMDApLlxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vXHJcblxyXG4gICAgICAgIGxldCB0cnhTdGF0dXNDb2RlID0gbm90aWZpY2F0aW9uQ29udGVudFswXTtcclxuICAgICAgICBsZXQgdHJ4UHJvZ3Jlc3NDb2RlID0gbm90aWZpY2F0aW9uQ29udGVudFsyXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChub3RpZmljYXRpb25Db250ZW50Lmxlbmd0aCA9PT0gbm90aWZpY2F0aW9uTGVuZ3RoKSA/ICB7XHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU3RhdHVzOiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiB0cnhTdGF0dXNDb2RlLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzTXNnOiAoIHRoaXMuVHJ4U3RhdHVzRW51bVsgdHJ4U3RhdHVzQ29kZSBdIHx8IFwiU3RhdHVzIGNvZGUgbWVzc2FnZSBub3QgZG9jdW1lbnRlZFwiICksXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NvZGU6IHRyeFByb2dyZXNzQ29kZSxcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzTXNnOiAoIHRoaXMuVHJ4UHJvZ3Jlc3NJbmRpY2F0b3JbIHRyeFByb2dyZXNzQ29kZSBdIHx8IFwiUHJvZ3Jlc3MgY29kZSBtZXNzYWdlIG5vdCBkb2N1bWVudGVkXCIgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDpcclxuICAgICAgICB0aGlzLnRocm93TGVuRXJyKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRyeFN0YXR1c1BhcnNlcjsiLCJpbXBvcnQgVHJ4U3RhdHVzUGFyc2VyIGZyb20gJy4vdHJ4U3RhdHVzUGFyc2VyJztcclxuXHJcbmNvbnN0IGR1a3B0RmFpbHVyZUJhc2UgPSBcIkZhaWx1cmUsIERVS1BUIHNjaGVtZSBpcyBcIjtcclxuY29uc3QgaW52YWxpZEJhc2UgPSBcIkludmFsaWQgXCI7XHJcblxyXG5cclxuY2xhc3MgU2NyYUVtdlBhcnNlciBleHRlbmRzIFRyeFN0YXR1c1BhcnNlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbXZSZXN1bHRDb2RlcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDgxOiBkdWtwdEZhaWx1cmVCYXNlICsgXCJub3QgbG9hZGVkXCIsXHJcbiAgICAgICAgICAgIDB4ODI6IGR1a3B0RmFpbHVyZUJhc2UgKyBcImxvYWRlZCBidXQgYWxsIG9mIGl0cyBrZXlzIGhhdmUgYmVlbiB1c2VkXCIsXHJcbiAgICAgICAgICAgIDB4ODM6IGR1a3B0RmFpbHVyZUJhc2UgKyBcIm5vdCBsb2FkZWQgKFNlY3VyaXR5IExldmVsIG5vdCAzIG9yIDQpXCIsXHJcbiAgICAgICAgICAgIDB4ODQ6IGludmFsaWRCYXNlICsgXCJUb3RhbCBUcmFuc2FjdGlvbiBUaW1lIEZpZWxkXCIsXHJcbiAgICAgICAgICAgIDB4ODU6IGludmFsaWRCYXNlICsgXCJDYXJkIFR5cGUgRmllbGRcIixcclxuICAgICAgICAgICAgMHg4NjogaW52YWxpZEJhc2UgKyBcIk9wdGlvbnMgRmllbGRcIixcclxuICAgICAgICAgICAgMHg4NzogaW52YWxpZEJhc2UgKyBcIkFtb3VudCBBdXRob3JpemVkIEZpZWxkXCIsXHJcbiAgICAgICAgICAgIDB4ODg6IGludmFsaWRCYXNlICsgXCJUcmFuc2FjdGlvbiBUeXBlIEZpZWxkXCIsXHJcbiAgICAgICAgICAgIDB4ODk6IGludmFsaWRCYXNlICsgIFwiQ2FzaCBCYWNrIEZpZWxkXCIsXHJcbiAgICAgICAgICAgIDB4OEE6IGludmFsaWRCYXNlICsgXCJUcmFuc2FjdGlvbiBDdXJyZW5jeSBDb2RlIEZpZWxkXCIsXHJcbiAgICAgICAgICAgIDB4OEU6IGludmFsaWRCYXNlICsgXCJSZXBvcnRpbmcgT3B0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4OEY6IFwiVHJhbnNhY3Rpb24gQWxyZWFkeSBJbiBQcm9ncmVzc1wiLFxyXG4gICAgICAgICAgICAweDkxOiBpbnZhbGlkQmFzZSArIFwiRGV2aWNlIFNlcmlhbCBOdW1iZXJcIixcclxuICAgICAgICAgICAgMHg5NjogaW52YWxpZEJhc2UgKyBcIlN5c3RlbSBEYXRlIGFuZCBUaW1lXCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZUVtdkRhdGEgPSAoZW12RGF0YSwgaXNBcnFjKSA9PiAoaXNBcnFjKSA/ICh7XHJcbiAgICAgICAgYXJxY0RhdGE6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIGVtdkRhdGEuc2xpY2UoMTEpICksXHJcbiAgICAgICAgYXJxY0RhdGFQYXJzZWQ6XHJcbiAgICAgICAgICAgIHRoaXMudGx2UGFyc2VyKFxyXG4gICAgICAgICAgICAgICAgZW12RGF0YS5zbGljZSgxMyksXHJcbiAgICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9KVxyXG4gICAgICAgIDpcclxuICAgICAgICAoe1xyXG4gICAgICAgICAgICBzaWduYXR1cmVSZXF1aXJlZDogKGVtdkRhdGFbMTFdID09PSAweDgwKSA/IFwiQ0JDLU1BQyBjaGVja2VkIGluIEFSUUMgb25saW5lIHJlc3BvbnNlXCIgOiAoZW12RGF0YVsxMV0gPT09IDB4MDEpLFxyXG4gICAgICAgICAgICBiYXRjaERhdGE6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIGVtdkRhdGEuc2xpY2UoMTEpICksXHJcbiAgICAgICAgICAgIGJhdGNoRGF0YVBhcnNlZDogdGhpcy50bHZQYXJzZXIoIGVtdkRhdGEuc2xpY2UoMTQpLCB0cnVlIClcclxuICAgICAgICB9KVxyXG5cclxuICAgIC8vUmVhZCBSZXN1bHQgQ29kZSBmcm9tIHN0YXJ0VHJhbnNhY3Rpb24gY29tbWFuZCBhbmQgcmV0dXJuIHRvIHVzZXIuIElmIG5vdCAwIC0gcmV0dXJuIGVycm9yIG1lc3NhZ2UuXHJcbiAgICBwYXJzZUVtdkNvbW1hbmRSZXNwb25zZSA9IHJlc3AgPT4gIHtcclxuICAgICAgICBjb25zdCByZXN1bHRDb2RlID0gcmVzcC5zbGljZSg0LCA2KTtcclxuXHJcbiAgICAgICAgLy9yZXN1bHQgY29kZSBvZiBbMHgwMCwgMHgwMF0gaXMgc3VjY2Vzcy5cclxuICAgICAgICByZXR1cm4gKHBhcnNlSW50KCByZXN1bHRDb2RlLmpvaW4oXCJcIikgKSkgP1xyXG4gICAgICAgICAgICAoe1xyXG4gICAgICAgICAgICAgICAgY29kZTogcGFyc2VJbnQodGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggcmVzdWx0Q29kZSApLCAxNiksXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlN0YXJ0VHJhbnNhY3Rpb25FcnJvclwiLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5lbXZSZXN1bHRDb2Rlc1sgcmVzdWx0Q29kZVsxXSBdIHx8IFwiVHJhbnNhY3Rpb24gRXJyb3IgTWVzc2FnZSBub3QgeWV0IGRvY3VtZW50ZWRcIlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzLCB0cmFuc2FjdGlvbiBoYXMgc3RhcnRlZFwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VVc2VyU2VsZWN0aW9uUmVxdWVzdCA9IHNlbGVjdGlvblJlcXVlc3QgPT4gKHtcclxuICAgICAgICB1c2VyU2VsZWN0aW9uUmVxdWVzdDoge1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25UeXBlOiAoc2VsZWN0aW9uUmVxdWVzdFswXSA9PT0gMHgwMCkgPyBcIkFwcGxpY2F0aW9uIFNlbGVjdGlvblwiIDogXCJMYW5ndWFnZSBTZWxlY3Rpb25cIixcclxuICAgICAgICAgICAgdGltZVJlbWFpbmluZzogIHNlbGVjdGlvblJlcXVlc3RbMV0sXHJcbiAgICAgICAgICAgIG1lbnVJdGVtczogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhzZWxlY3Rpb25SZXF1ZXN0LnNsaWNlKDIpKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNjcmFFbXZQYXJzZXI7IiwiaW1wb3J0IFNjcmFFbXZQYXJzZXIgZnJvbSAnLi4vcGFyc2Vycy9zY3JhRW12UGFyc2VyJztcclxuaW1wb3J0IHsgXHJcbiAgICBjb21tYW5kTm90U2VudCxcclxuICAgIHJlc3BvbnNlTm90UmVjZWl2ZWQsXHJcbiAgICBkZXZpY2VOb3RGb3VuZCxcclxuICAgIGRldmljZU5vdE9wZW4sXHJcbiAgICBnYXR0U2VydmVyTm90Q29ubmVjdGVkXHJcbn0gZnJvbSAnLi4vZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cyc7XHJcbmltcG9ydCB7IFxyXG4gICAgY2xvc2VTdWNjZXNzLCBcclxuICAgIHN1Y2Nlc3NDb2RlLCBcclxuICAgIG9wZW5TdWNjZXNzIFxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcblxyXG5jbGFzcyBTY3JhIGV4dGVuZHMgU2NyYUVtdlBhcnNlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2sgPSBjYWxsQmFja3MudHJhbnNhY3Rpb25DYWxsYmFjayB8fCBjYWxsQmFja3M7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5Q2FsbGJhY2sgPSBjYWxsQmFja3MuZGlzcGxheUNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayA9IGNhbGxCYWNrcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMudXNlclNlbGVjdGlvbkNhbGxiYWNrID0gY2FsbEJhY2tzLnVzZXJTZWxlY3Rpb25DYWxsYmFjaztcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm1heEJsb2NrSWQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yYXdEYXRhID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YVJlYWRTdGF0dXNDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhUmVhZHlDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU5vdGlmaWNhdGlvbiA9XCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMDFcIjtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDaGFySWQgPSAnMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMjAwJztcclxuICAgICAgICB0aGlzLmRhdGFSZWFkeUlkID0gXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMDJcIjtcclxuICAgICAgICB0aGlzLmRhdGFSZWFkU3RhdHVzSWQgPSBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIwM1wiO1xyXG5cclxuICAgICAgICB0aGlzLmVtdk9wdGlvbnMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgJ25vcm1hbCc6IDB4MDAsXHJcbiAgICAgICAgICAgICdieXBhc3NwaW4nOiAweDAxLFxyXG4gICAgICAgICAgICAnZm9yY2VvbmxpbmUnOiAweDAyLFxyXG4gICAgICAgICAgICAncXVpY2tjaGlwJzogMHg4MCxcclxuICAgICAgICAgICAgJ3BpbmJ5cGFzc3F1aWNrY2hpcCc6IDB4ODEsXHJcbiAgICAgICAgICAgICdmb3JjZW9ubGluZXF1aWNrY2hpcCc6IDB4ODJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXN1bHRDb2RlcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAnMDAwMCc6IFwiU3VjY2Vzc1wiLFxyXG4gICAgICAgICAgICAnMDM4Qic6IFwiSW52YWxpZCBTZWxlY3Rpb24gU3RhdHVzXCIsXHJcbiAgICAgICAgICAgICcwMzhDJzogJ0ludmFsaWQgU2VsZWN0aW9uIFJlc3VsdCcsXHJcbiAgICAgICAgICAgICcwMzhEJzogXCJGYWlsdXJlLCBubyB0cmFuc2FjdGlvbiBjdXJyZW50bHkgaW4gcHJvZ3Jlc3NcIixcclxuICAgICAgICAgICAgJzAzOEYnOiBcIkZhaWx1cmUsIHRyYW5zYWN0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3NcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVtdkNvbW1hbmRCYXNlID0gWzB4NDksIDB4MTksIDB4MDAsIDB4MDAsIDB4MDMsIDB4MDAsIDB4MDAsIDB4MTNdO1xyXG5cclxuICAgICAgICB0aGlzLmNhbmNlbEVtdkNvbW1hbmQgPSBVaW50OEFycmF5Lm9mKFxyXG4gICAgICAgICAgICAweDQ5LCAweDA2LCAweDAwLCAweDAwLCAweDAzLCAweDA0LCAweDAwLCAweDAwXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXJkU2VydmljZUJhc2UgPSBvcHRpb25hbEluZGV4ID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlKSA/XHJcbiAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdEZvdW5kKSlcclxuICAgICAgICA6XHJcbiAgICAgICAgdGhpcy5jb25uZWN0QW5kQ2FjaGUob3B0aW9uYWxJbmRleClcclxuICAgICAgICAgICAgLnRoZW4oIHNlcnZpY2UgPT5cclxuICAgICAgICAgICAgICAgIHNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWModGhpcy5jYXJkRGF0YU5vdGlmaWNhdGlvbilcclxuICAgICAgICAgICAgKS50aGVuKGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUIE5PVElGSUNBVElPTlNdOiBSZXF1ZXN0IHRvIGNhY2hlIGNoYXJhY3RlcmlzdGljcywgc3RhcnQgbm90aWZpY2F0aW9ucywgYW5kIGF0dGFjaCBsaXN0ZW5lcnMuIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlcmlzdGljLnN0YXJ0Tm90aWZpY2F0aW9ucygpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oY2hhcmFjdGVyaXN0aWMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmNhcmREYXRhSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5hZGRFdmVudExpc3RlbmVyKCdjaGFyYWN0ZXJpc3RpY3ZhbHVlY2hhbmdlZCcsIHRoaXMuY2FyZERhdGFIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXJkRGF0YUxpc3RlbmVyID0gY2hhcmFjdGVyaXN0aWM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oIFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5jYXJkU2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyh0aGlzLmNvbW1hbmRDaGFySWQpXHJcbiAgICAgICAgICAgICkudGhlbihjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYyA9IGNoYXJhY3RlcmlzdGljO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vSWYgdGhpcyBsaWJyYXJ5IGlzIGJlaW5nIHVzZWQgaW4gYSB3ZWIgYXBwbGljYXRpb25cclxuICAgICAgICAgICAgICAgIC8vTWFrZSBzdXJlIHRoZSBkZXZpY2UgZGlzY29ubmVjdHMgcHJvcGVybHkgdXBvbiB3aW5kb3cgdW5sb2FkLlxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLm9uRGVzdHJveUhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLm9uRGVzdHJveUhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSkudGhlbihcclxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuY2FyZFNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWModGhpcy5kYXRhUmVhZHlJZClcclxuICAgICAgICAgICAgKS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiBjaGFyYWN0ZXJpc3RpYy5zdGFydE5vdGlmaWNhdGlvbnMoKVxyXG4gICAgICAgICAgICApLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5kYXRhUmVhZHlIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5kYXRhUmVhZHlIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFSZWFkeUNoYXJhY3RlcmlzdGljID0gY2hhcmFjdGVyaXN0aWM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLmNhcmRTZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKHRoaXMuZGF0YVJlYWRTdGF0dXNJZClcclxuICAgICAgICAgICAgKS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFSZWFkU3RhdHVzQ2hhcmFjdGVyaXN0aWMgPSBjaGFyYWN0ZXJpc3RpYztcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUIE5PVElGSUNBVElPTlNdOiBTdWNjZXNzISBDYWNoZWQgY2hhcmFjdGVyaXN0aWNzLCBzdGFydGVkIG5vdGlmaWNhdGlvbnMsIGFuZCBhdHRhY2hlZCBsaXN0ZW5lcnMuIHx8ICR7bmV3IERhdGUoKX1gKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHN1Y2Nlc3NDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wZW5TdWNjZXNzXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdCggZXJyICkpXHJcbiAgICApO1xyXG5cclxuICAgIGRhdGFSZWFkeUhhbmRsZXIgPSBldmVudCA9PiB7XHJcbiAgICAgICAgbGV0IGV2ZW50VmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZEV2ZW50VmFsdWUgPSB0aGlzLnJlYWRCeXRlQXJyYXkoZXZlbnRWYWx1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYGRhdGFSZWFkeSBsaXN0ZW5lcjogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKGZvcm1hdHRlZEV2ZW50VmFsdWUpfWApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb21tYW5kU2VudCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kU2VudCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjYXJkRGF0YUhhbmRsZXIgPSBldmVudCA9PiB7XHJcbiAgICAgICAgbGV0IGV2ZW50VmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgICAgIC8vSWYgdGhlIGZpcnN0IHBvc2l0aW9uIGluIHRoZSBhcnJheSA9PT0gMjU1LCBjYXJkIGRhdGEgbm90aWZpY2F0aW9ucyBoYXZlIGZpbmlzaGVkLlxyXG4gICAgICAgIGlmIChldmVudFZhbHVlLmdldFVpbnQ4KDApICE9PSAyNTUpIHtcclxuICAgICAgICAgICAgbGV0IG5vdGlmaWNhdGlvbkFycmF5ID0gdGhpcy5yZWFkQnl0ZUFycmF5KGV2ZW50VmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yYXdEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5yYXdEYXRhLFxyXG4gICAgICAgICAgICAgICAgW25vdGlmaWNhdGlvbkFycmF5WzBdXTogbm90aWZpY2F0aW9uQXJyYXkuc2xpY2UoMSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy9LZWVwIHRyYWNrIG9mIHRoZSBhbW91bnQgb2Ygbm90aWZpY2F0aW9ucyBzZW50IGZyb20gZGV2aWNlLlxyXG4gICAgICAgICAgICB0aGlzLm1heEJsb2NrSWQgPSBldmVudFZhbHVlLmdldFVpbnQ4KDEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tOb3RpZmljYXRpb25MZW5ndGgoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uID0gKHRoaXMucmxlRm9ybWF0c1sgdGhpcy5yYXdEYXRhWzBdWzBdIF0pID8gdGhpcy5kZWNvZGVSTEUodGhpcy5yYXdEYXRhWzBdKSA6IHRoaXMucmF3RGF0YVswXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUodGhpcy5yYXdEYXRhKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9DaGVjayBpZiBzd2lwZSBkYXRhXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsTm90aWZpY2F0aW9uWzBdID09PSAwIHx8IHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvblswXSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVyblRvVXNlcih0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2spKCB0aGlzLnBhcnNlSGlkRGF0YSggdGhpcy5idWlsZEluaXRpYWxEYXRhQXJyYXkodHJ1ZSkgKSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdGlmaWNhdGlvbklkID0gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvbls3XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uWzhdXHJcbiAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZE5vdGlmaWNhdGlvblR5cGUobm90aWZpY2F0aW9uSWQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGVsc2UgdGhpcy5zZW5kRXJyVG9DYWxsYmFjayggdGhpcy50aHJvd0xlbkVycigpICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpbmROb3RpZmljYXRpb25UeXBlID0gbm90aWZpY2F0aW9uSWQgPT4ge1xyXG4gICAgICAgIGxldCBidWlsdE5vdGlmaWNhdGlvbiA9IHRoaXMuYnVpbGRJbml0aWFsRGF0YUFycmF5KHRydWUpO1xyXG5cclxuICAgICAgICBzd2l0Y2gobm90aWZpY2F0aW9uSWQpIHtcclxuICAgICAgICAgICAgY2FzZSBcIjAzMDBcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoJz09VHJhbnNhY3Rpb24gU3RhdHVzPT0nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVyblRvVXNlcih0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2spKHRoaXMucGFyc2VUcmFuc2FjdGlvblN0YXR1cyggYnVpbHROb3RpZmljYXRpb24gKSk7XHJcbiAgICAgICAgICAgIGNhc2UgXCIwMzAxXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKFwiPT1EaXNwbGF5IE1lc3NhZ2UgUmVxdWVzdD09XCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuVG9Vc2VyKHRoaXMuZGlzcGxheUNhbGxiYWNrKSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2U6IHRoaXMuYnVmZmVyVG9VdGY4KCBidWlsdE5vdGlmaWNhdGlvbi5zbGljZSgxMSkgKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgXCIwMzAyXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKFwiPT1Vc2VyIFNlbGVjdGlvbiBSZXF1ZXN0PT1cIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoYnVpbHROb3RpZmljYXRpb24pKTtcclxuICAgICAgICAgICAgICAgIC8vVE9ETzogRnVydGhlciBpbnZlc3RpZ2F0aW9uIHdhcnJhbnRlZCBmb3IgdGhpcyBjaXJjdW1zdGFuY2UuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5Ub1VzZXIodGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKSggdGhpcy5wYXJzZVVzZXJTZWxlY3Rpb25SZXF1ZXN0KGJ1aWxkTm90aWZpY2F0aW9uKSApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCIwMzAzXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKFwiPT1BUlFDIE1lc3NhZ2U9PVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVyblRvVXNlcih0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2spKHRoaXMucGFyc2VFbXZEYXRhKCBidWlsdE5vdGlmaWNhdGlvbiwgdHJ1ZSApKSA7XHJcbiAgICAgICAgICAgIGNhc2UgXCIwMzA0XCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKCc9PUJhdGNoIERhdGEgTWVzc2FnZT09Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5Ub1VzZXIodGhpcy50cmFuc2FjdGlvbkNhbGxiYWNrKSh0aGlzLnBhcnNlRW12RGF0YSggYnVpbHROb3RpZmljYXRpb24sIGZhbHNlICkpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgVW5kb2N1bWVudGVkIE5vdGlmaWNhdGlvbiBJRDogJHtub3RpZmljYXRpb25JZH1gLCBidWlsdE5vdGlmaWNhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKCB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCBidWlsdE5vdGlmaWNhdGlvbiApICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0VHJhbnNhY3Rpb24gPSBlbXZPcHRpb25zID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSApXHJcbiAgICAgICAgOlxyXG4gICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChcclxuICAgICAgICAgICAgdGhpcy5idWlsZEVtdkNvbW1hbmQoIGVtdk9wdGlvbnMgfHwge30gKVxyXG4gICAgICAgICkudGhlbiggdmFsdWUgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29tbWFuZFJlc3AgPSB0aGlzLnBhcnNlRW12Q29tbWFuZFJlc3BvbnNlKHZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShjb21tYW5kUmVzcCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoY29tbWFuZFJlc3AuY29kZSA9PT0gMCkgPyByZXNvbHZlKGNvbW1hbmRSZXNwKSA6XHJcbiAgICAgICAgICAgICAgICAoY29tbWFuZFJlc3AuY29kZSAhPT0gOTE4KSA/IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGNvbW1hbmRSZXNwKSkgOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGV2aWNlRGF0ZVRpbWUoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLmRlbGF5UHJvbWlzZSg1MDApIClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4gcmVzb2x2ZSggdGhpcy5zdGFydFRyYW5zYWN0aW9uKGVtdk9wdGlvbnMpICkgKVxyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkgKVxyXG4gICAgKTsgXHJcblxyXG4gICAgYnVpbGRFbXZDb21tYW5kID0gKHsgXHJcbiAgICAgICAgdGltZW91dCwgXHJcbiAgICAgICAgY2FyZFR5cGUsIFxyXG4gICAgICAgIHRyYW5zYWN0aW9uVHlwZSwgXHJcbiAgICAgICAgY2FzaEJhY2ssIFxyXG4gICAgICAgIGN1cnJlbmN5Q29kZSwgXHJcbiAgICAgICAgcmVwb3J0VmVyYm9zaXR5LFxyXG4gICAgICAgIGVtdk9wdGlvbnMsXHJcbiAgICAgICAgYXV0aG9yaXplZEFtb3VudFxyXG4gICAgfSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGB0aW1lb3V0OiAke3RpbWVvdXR9IHx8IGNhcmRUeXBlOiAke2NhcmRUeXBlfSB8fCB0cmFuc2FjdGlvblR5cGU6ICR7dHJhbnNhY3Rpb25UeXBlfSB8fCBlbXZPcHRpb25zOiAke2Vtdk9wdGlvbnN9IHx8IGF1dGhvcml6ZWRBbW91bnQ6ICR7YXV0aG9yaXplZEFtb3VudH0gfHwgY2FzaEJhY2s6ICR7Y2FzaEJhY2t9IHx8IGN1cnJlbmN5Q29kZTogJHtjdXJyZW5jeUNvZGV9IHx8IHJlcG9ydFZlcmJvc2l0eTogJHtyZXBvcnRWZXJib3NpdHl9YClcclxuICAgICAgICBcclxuICAgICAgICBsZXQgY29tbWFuZCA9IFsgXHJcbiAgICAgICAgICAgIC4uLnRoaXMuZW12Q29tbWFuZEJhc2UsIFxyXG4gICAgICAgICAgICB0aW1lb3V0IHx8IDB4M0MsIFxyXG4gICAgICAgICAgICAoY2FyZFR5cGUpID8gdGhpcy5jYXJkVHlwZXMoIGNhcmRUeXBlLnRvTG93ZXJDYXNlKCkgKSA6IDB4MDMsXHJcbiAgICAgICAgICAgICh0eXBlb2YoZW12T3B0aW9ucykgIT09ICd1bmRlZmluZWQnKSA/ICh0aGlzLmVtdk9wdGlvbnNbIGVtdk9wdGlvbnMudG9Mb3dlckNhc2UoKSBdKSA6IDB4ODBcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnYmFzZSBjb21tYW5kOiAnLCBjb21tYW5kKTtcclxuXHJcbiAgICAgICAgY29tbWFuZCA9IChhdXRob3JpemVkQW1vdW50KSA/IFxyXG4gICAgICAgICAgICBjb21tYW5kLmNvbmNhdCggdGhpcy5jb252ZXJ0TnVtVG9BbW91bnQoYXV0aG9yaXplZEFtb3VudCkgKVxyXG4gICAgICAgICAgICA6IGNvbW1hbmQuY29uY2F0KCBbMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgMHgwMF0gKTtcclxuXHJcbiAgICAgICAgY29tbWFuZCA9ICh0cmFuc2FjdGlvblR5cGUpID8gXHJcbiAgICAgICAgICAgIGNvbW1hbmQuY29uY2F0KHRoaXMudHJhbnNhY3Rpb25UeXBlc1sgdHJhbnNhY3Rpb25UeXBlLnRvTG93ZXJDYXNlKCkgXSB8fCAweDAwKSBcclxuICAgICAgICAgICAgOiBjb21tYW5kLmNvbmNhdCgweDAwKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbW1hbmQgPSAoY2FzaEJhY2spID8gY29tbWFuZC5jb25jYXQoIHRoaXMuY29udmVydE51bVRvQW1vdW50KGNhc2hCYWNrKSApXHJcbiAgICAgICAgICAgIDogY29tbWFuZC5jb25jYXQoIHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDYpICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQgPSAoY3VycmVuY3lDb2RlKSA/IGNvbW1hbmQuY29uY2F0KCB0aGlzLmN1cnJlbmN5Q29kZVsgY3VycmVuY3lDb2RlLnRvTG93ZXJDYXNlKCkgXSB8fCAgdGhpcy5jdXJyZW5jeUNvZGVbJ2RlZmF1bHQnXSApXHJcbiAgICAgICAgICAgIDogY29tbWFuZC5jb25jYXQoIFsweDA4LCAweDQwXSApO1xyXG5cclxuICAgICAgICBjb21tYW5kLnB1c2goXHJcbiAgICAgICAgICAgIChyZXBvcnRWZXJib3NpdHkpID8gKCB0aGlzLnN0YXR1c1ZlcmJvc2l0eVsgcmVwb3J0VmVyYm9zaXR5LnRvTG93ZXJDYXNlKCkgXSB8fCAweDAwICkgOiAweDAxXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gY29tbWFuZDtcclxuICAgIH1cclxuXHJcbiAgICByZWFkQ29tbWFuZFZhbHVlID0gKCkgPT4gbmV3IFByb21pc2UgKHJlc29sdmUgPT4gdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMucmVhZFZhbHVlKClcclxuICAgICAgICAudGhlbiggdmFsdWUgPT4gcmVzb2x2ZSggdGhpcy5yZWFkQnl0ZUFycmF5KHZhbHVlKSApKSk7XHJcblxyXG4gICAgcmVhZEJhdHRlcnlMZXZlbCA9ICgpID0+IG5ldyBQcm9taXNlKCByZXNvbHZlID0+IFxyXG4gICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChbMHg0NSwgMHgwMF0pLnRoZW4odmFsdWUgPT4gcmVzb2x2ZSggdmFsdWVbMl0gKSlcclxuICAgICk7XHJcblxyXG4gICAgY2hlY2tOb3RpZmljYXRpb25MZW5ndGggPSAoKSA9PiBNYXRoLm1heCguLi5PYmplY3Qua2V5cyh0aGlzLnJhd0RhdGEpKSA9PT0gdGhpcy5tYXhCbG9ja0lkIC0gMTtcclxuICAgXHJcbiAgICBzZW5kQ29tbWFuZFdpdGhSZXNwID0gd3JpdGVDb21tYW5kID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGNvbW1hbmROb3RTZW50KSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFNlbmRpbmcgY29tbWFuZDogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHdyaXRlQ29tbWFuZCl9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFNlbnQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljLndyaXRlVmFsdWUoVWludDhBcnJheS5mcm9tKHdyaXRlQ29tbWFuZCkpXHJcbiAgICAgICAgICAgIC50aGVuKCAoKSA9PiAodGhpcy5jb21tYW5kUmVzcEF2YWlsYWJsZSkgPyBQcm9taXNlLnJlc29sdmUoIHRydWUgKSA6IHRoaXMud2FpdEZvckRldmljZVJlc3BvbnNlKDE1KSlcclxuICAgICAgICAgICAgLnRoZW4oIHdhaXRSZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICghd2FpdFJlc3ApID8gXHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKHJlc3BvbnNlTm90UmVjZWl2ZWQpKSA6IHRoaXMucmVhZENvbW1hbmRWYWx1ZSgpXHJcbiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzb2x2ZShyZXNwb25zZSlcclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuVG9Vc2VyID0gc3BlY2lmaWVkQ2FsbGJhY2sgPT4gcmV0dXJuT2JqID0+IHtcclxuICAgICAgICB0aGlzLmluaXRpYWxOb3RpZmljYXRpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMubWF4QmxvY2tJZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yYXdEYXRhID0ge307XHJcbiAgICAgICAgcmV0dXJuIHNwZWNpZmllZENhbGxiYWNrKHJldHVybk9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgYnVpbGREYXRlVGltZUNvbW1hbmQgPSBzcGVjaWZpY1RpbWUgPT4ge1xyXG4gICAgICAgIGxldCBkYXRlVGltZUNvbW1hbmQgPSBbMHg0OSwgMHgyMiwgMHgwMCwgMHgwMCwgMHgwMywgMHgwQywgMHgwMCwgMHgxQ107XHJcbiAgICAgICAgZGF0ZVRpbWVDb21tYW5kID0gZGF0ZVRpbWVDb21tYW5kLmNvbmNhdCggdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgMTcpICk7XHJcbiAgICAgICAgLy9Gb3JtYXQgRGF0ZSBzZWdtZW50IGJlbG93XHJcbiAgICAgICAgY29uc3QgY3VycmVudCA9IChzcGVjaWZpY1RpbWUgaW5zdGFuY2VvZiBEYXRlKSA/IHNwZWNpZmljVGltZSA6IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgIC8vTW9udGggKHplcm8gYmFzZWQgaW5kZXgsIHNvIGFkZCAxKS5cclxuICAgICAgICBkYXRlVGltZUNvbW1hbmQucHVzaCggXHJcbiAgICAgICAgICAgIHRoaXMuY2FzdERlY1RvSGV4KCBjdXJyZW50LmdldE1vbnRoKCkgKyAxKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGRhdGVUaW1lQ29tbWFuZC5wdXNoKFxyXG4gICAgICAgICAgICB0aGlzLmNhc3REZWNUb0hleCggY3VycmVudC5nZXREYXRlKCkgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGRhdGVUaW1lQ29tbWFuZC5wdXNoKFxyXG4gICAgICAgICAgICB0aGlzLmNhc3REZWNUb0hleCggY3VycmVudC5nZXRIb3VycygpIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBkYXRlVGltZUNvbW1hbmQucHVzaChcclxuICAgICAgICAgICAgdGhpcy5jYXN0RGVjVG9IZXgoIGN1cnJlbnQuZ2V0TWludXRlcygpIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBkYXRlVGltZUNvbW1hbmQucHVzaChcclxuICAgICAgICAgICAgdGhpcy5jYXN0RGVjVG9IZXgoIGN1cnJlbnQuZ2V0U2Vjb25kcygpIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvL0N1cnJlbnRseSB1bnVzZWQgb2Zmc2V0LiAgMHgwMCAtIDB4MDYgaXMgdmFsaWQgLSBidXQgaXMgbm90IGV4YW1pbmVkLlxyXG4gICAgICAgIGRhdGVUaW1lQ29tbWFuZC5wdXNoKDB4MDApO1xyXG5cclxuICAgICAgICAvL1llYXIgaXMgYmFzZWQgdXBvbiAyMDA4ID09PSAweDAwLlxyXG4gICAgICAgIGRhdGVUaW1lQ29tbWFuZC5wdXNoKFxyXG4gICAgICAgICAgICB0aGlzLmNhc3REZWNUb0hleCggY3VycmVudC5nZXRGdWxsWWVhcigpIC0gMjAwOCApXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICAvL01BQyAtIGZvciBhbGwgZGV2aWNlcyBleGNlcHQgdHdvIGV4Y2VwdGlvbnMgKHNlZSBkb2N1bWVudGF0aW9uKSB0aGlzIGNhbiBiZSBwYWRkZWQgd2l0aCB6ZXJvcy5cclxuICAgICAgICBkYXRlVGltZUNvbW1hbmQgPSBkYXRlVGltZUNvbW1hbmQuY29uY2F0KCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCA0KSApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBkYXRlVGltZUNvbW1hbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGV2aWNlRGF0ZVRpbWUgPSBzcGVjaWZpY1RpbWUgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gXHJcbiAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkRGF0ZVRpbWVDb21tYW5kKHNwZWNpZmljVGltZSlcclxuICAgICAgICApLnRoZW4ocmVzcCA9PiByZXNvbHZlKHJlc3ApXHJcbiAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkpXHJcbiAgICApO1xyXG5cclxuICAgIGdldEtzbiA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihnYXR0U2VydmVyTm90Q29ubmVjdGVkKSkgXHJcbiAgICAgICAgOiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoWzB4MDksIDB4MDBdKVxyXG4gICAgICAgIC50aGVuKCByZXNwID0+IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcocmVzcC5zbGljZSgyKSkgKVxyXG4gICAgICAgIC50aGVuKGZvcm1hdHRlZFZhbHVlID0+IHJlc29sdmUoZm9ybWF0dGVkVmFsdWUpKVxyXG4gICAgKTtcclxuXHJcbiAgICBnZXREZXZpY2VTbiA9ICgpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gXHJcbiAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFsweDAwLCAweDAxLCAweDAzXSlcclxuICAgICAgICAudGhlbiggcmVzcCA9PiB0aGlzLmJ1ZmZlclRvVXRmOChyZXNwLnNsaWNlKDIpKSBcclxuICAgICAgICApLnRoZW4oZm9ybWF0dGVkVmFsdWUgPT4gcmVzb2x2ZShmb3JtYXR0ZWRWYWx1ZSkpXHJcbiAgICApO1xyXG5cclxuICAgIGdhdGhlckRldmljZUluZm8gPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGxldCBiYXR0ZXJ5O1xyXG4gICAgICAgIGxldCBzZXJpYWxOdW07XHJcblxyXG4gICAgICAgIHRoaXMucmVhZEJhdHRlcnlMZXZlbCgpXHJcbiAgICAgICAgLnRoZW4oIHJlc3BCYXR0ZXJ5ID0+IHtcclxuICAgICAgICAgICAgYmF0dGVyeSA9IHJlc3BCYXR0ZXJ5O1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREZXZpY2VTbigpXHJcbiAgICAgICAgfSkudGhlbiggcmVzcFNuID0+IHtcclxuICAgICAgICAgICAgc2VyaWFsTnVtID0gcmVzcFNuO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShbIGJhdHRlcnksIHNlcmlhbE51bSBdKVxyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSApXHJcbiAgICB9KTtcclxuXHJcbiAgICBnZXREZXZpY2VJbmZvID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID9cclxuICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikgKSBcclxuICAgICAgICA6IHRoaXMuZ2F0aGVyRGV2aWNlSW5mbygpXHJcbiAgICAgICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICAgICAgZGV2aWNlSW5mbyA9PiByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICBkZXZpY2VOYW1lOiB0aGlzLmRldmljZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGRldmljZVR5cGU6IHRoaXMuZGV2aWNlVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBiYXR0ZXJ5TGV2ZWw6IGRldmljZUluZm9bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2VyaWFsTnVtYmVyOiBkZXZpY2VJbmZvWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSlcclxuICAgICk7XHJcblxyXG4gICAgc2VuZFVzZXJTZWxlY3Rpb24gPSBzZWxlY3Rpb25SZXN1bHQgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgPyBcclxuICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikgKSBcclxuICAgICAgICA6IHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChbMHg0OSwgMHgwOCwgMHgwMCwgMHgwMCwgMHgwMywgMHgwMiwgMHgwMCwgMHgwMiwgMHgwMCwgc2VsZWN0aW9uUmVzdWx0XSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbVXNlciBTZWxlY3Rpb24gUmVzcF06ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhyZXNwKX1gKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Rpb25SZXNwb25zZTogKHRoaXMucmVzdWx0Q29kZXNbIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCByZXNwLnNsaWNlKDQsIDYpICkgXHJcbiAgICAgICAgICAgICAgICAgICAgXSB8fCBcIlVua25vd24gb3IgdW5kb2N1bWVudGVkIHJlc3VsdCBjb2RlXCIpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihlcnIpICkpXHJcbiAgICApXHJcblxyXG4gICAgYnVpbGRBcnBjQ29tbWFuZCA9IChsZW4sIGRhdGEpID0+IChbMHg0OSwgKGxlbiArIDYpLCAweDAwLCAweDAwLCAweDAzLCAweDAzLCAweDAwLCBsZW4sIC4uLmRhdGEgXSk7XHJcblxyXG4gICAgc2VuZEFycGMgPSBhcnBjUmVzcCA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB0aGlzLnNlbmRBcnBjQmFzZShhcnBjUmVzcClcclxuICAgICAgICAudGhlbihhcnBjQ21kID0+IHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChhcnBjQ21kKSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW1NlbmQgQVJQQyBSZXNwXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHJlc3ApfWApO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRDb2RlID0gKHJlc3AubGVuZ3RoID4gNSkgPyB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCByZXNwLnNsaWNlKDQsIDYpICkgOiBcIlwiO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgc2VuZEFycGNSZXNwb25zZTogKHRoaXMucmVzdWx0Q29kZXNbIHJlc3VsdENvZGUgXSB8fCBcIlVua25vd24gb3IgdW5kb2N1bWVudGVkIHJlc3VsdCBjb2RlXCIpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpKVxyXG4gICAgKTtcclxuXHJcbiAgICBjbGVhckdhdHRDYWNoZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAod2luZG93KVxyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5vbkRlc3Ryb3lIYW5kbGVyKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm1heEJsb2NrSWQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yYXdEYXRhID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YVJlYWRTdGF0dXNDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhUmVhZHlDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY2Vhc2VOb3RpZmljYXRpb25zID0gKCkgPT4gbmV3IFByb21pc2UoIHJlc29sdmUgPT4gKCF0aGlzLmNhcmREYXRhTGlzdGVuZXIpID8gcmVzb2x2ZSgpIDogdGhpcy5jYXJkRGF0YUxpc3RlbmVyLnN0b3BOb3RpZmljYXRpb25zKClcclxuICAgICAgICAudGhlbiggKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhcmREYXRhTGlzdGVuZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmNhcmREYXRhSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFSZWFkU3RhdHVzQ2hhcmFjdGVyaXN0aWMuc3RvcE5vdGlmaWNhdGlvbnMoKVxyXG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFSZWFkeUNoYXJhY3RlcmlzdGljLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5kYXRhUmVhZHlIYW5kbGVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKVxyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIGNhbmNlbFRyYW5zYWN0aW9uID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMpID8gXHJcbiAgICAgICAgcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGNvbW1hbmROb3RTZW50KSlcclxuICAgICAgICA6XHJcbiAgICAgICAgdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMud3JpdGVWYWx1ZSh0aGlzLmNhbmNlbEVtdkNvbW1hbmQpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkpXHJcbiAgICApO1xyXG5cclxuICAgIGNsb3NlRGV2aWNlID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IFxyXG4gICAgICAgICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgIGNvZGU6IHN1Y2Nlc3NDb2RlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBjbG9zZVN1Y2Nlc3NcclxuICAgICAgICB9KSBcclxuICAgICAgICA6XHJcbiAgICAgICAgdGhpcy5jZWFzZU5vdGlmaWNhdGlvbnMoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckdhdHRDYWNoZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgfSkudGhlbigoKSA9PiByZXNvbHZlKHtcclxuICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNsb3NlU3VjY2Vzc1xyXG4gICAgICAgIH0pKS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSlcclxuICAgICkgXHJcblxyXG4gICAgY2xlYXJTZXNzaW9uID0gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gXHJcbiAgICAgICAgKHRoaXMuZGV2aWNlICYmIHRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgICAgICByZXNvbHZlKFwiU0NSQSBkZXZpY2VzIGRvIG5vdCBjYXJyeSBhIHNlc3Npb25cIikgXHJcbiAgICAgICAgICAgIDogcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdE9wZW4pKSApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNjcmE7IiwiaW1wb3J0IFNjcmEgZnJvbSAnLi9zY3JhJztcclxuaW1wb3J0IHsgXHJcbiAgICBzd2lwZUxpc3RlbmluZyxcclxuICAgIHN1Y2Nlc3NDb2RlLFxyXG4gICAgZUR5bmFtb1xyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcblxyXG5jbGFzcyBFRHluYW1vIGV4dGVuZHMgU2NyYSB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXZpY2VUeXBlID0gZUR5bmFtbztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXJkU2VydmljZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICB0aGlzLmdldENhcmRTZXJ2aWNlQmFzZSgxKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4gcmVzb2x2ZShyZXNwKVxyXG4gICAgICAgICkuY2F0Y2goIGVyciA9PiByZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpKSApXHJcbiAgICApO1xyXG5cclxuICAgIHJlcXVlc3RDYXJkU3dpcGUgPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gXHJcbiAgICAgICAgKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgPyBcclxuICAgICAgICAgICAgdGhpcy5nZXRDYXJkU2VydmljZUJhc2UoMSlcclxuICAgICAgICAgICAgLnRoZW4oICgpID0+IFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IFxyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHN1Y2Nlc3NDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHN3aXBlTGlzdGVuaW5nXHJcbiAgICAgICAgICAgICAgICB9KSBcclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApKVxyXG4gICAgICAgIDogcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgIGNvZGU6IHN1Y2Nlc3NDb2RlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBzd2lwZUxpc3RlbmluZ1xyXG4gICAgICAgIH0pIFxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRUR5bmFtbzsiLCJpbXBvcnQgU2NyYSBmcm9tICcuL3NjcmEnO1xyXG5pbXBvcnQgeyBcclxuICAgIHN3aXBlTGlzdGVuaW5nLFxyXG4gICAgc3VjY2Vzc0NvZGUsXHJcbiAgICB0RHluYW1vXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgY29tbWFuZE5vdEFjY2VwdGVkIH0gZnJvbSAnLi4vZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cyc7XHJcblxyXG5jbGFzcyBURHluYW1vIGV4dGVuZHMgU2NyYSB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRIZWFkQWx3YXlzT24gPSBbMHg1OCwgMHgwMSwgMHgwMV07XHJcbiAgICAgICAgLy90aGlzLnNldEhlYWRPZmZXaGVuSWRsZSA9IFVpbnQ4QXJyYXkub2YoMHg1OCwgMHgwMSwgMHgwMCk7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlVHlwZSA9IHREeW5hbW9cclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXJkU2VydmljZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICB0aGlzLmdldENhcmRTZXJ2aWNlQmFzZSgpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiByZXNvbHZlKHJlc3ApXHJcbiAgICAgICAgKS5jYXRjaCggZXJyID0+IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpIClcclxuICAgICk7XHJcblxyXG4gICAgcmVxdWVzdENhcmRTd2lwZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/XHJcbiAgICAgICAgdGhpcy5nZXRDYXJkU2VydmljZUJhc2UoKVxyXG4gICAgICAgIC50aGVuKCgpID0+IFxyXG4gICAgICAgICAgICB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AodGhpcy5zZXRIZWFkQWx3YXlzT24pXHJcbiAgICAgICAgKS50aGVuKHNldEhlYWRPcGVuUmVzcCA9PiAocGFyc2VJbnQoc2V0SGVhZE9wZW5SZXNwKSA9PT0gMCkgPyBcclxuICAgICAgICAgICAgcmVzb2x2ZSh7IFxyXG4gICAgICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBzd2lwZUxpc3RlbmluZ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihjb21tYW5kTm90QWNjZXB0ZWQpIClcclxuICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSlcclxuICAgICAgICA6XHJcbiAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKHRoaXMuc2V0SGVhZEFsd2F5c09uKVxyXG4gICAgICAgIC50aGVuKHNldEhlYWRPcGVuUmVzcCA9PiAocGFyc2VJbnQoc2V0SGVhZE9wZW5SZXNwKSA9PT0gMCkgPyBcclxuICAgICAgICAgICAgcmVzb2x2ZSh7IFxyXG4gICAgICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBzd2lwZUxpc3RlbmluZ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihjb21tYW5kTm90QWNjZXB0ZWQpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSlcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFREeW5hbW87IiwiaW1wb3J0IERwTWluaSBmcm9tICcuLi9kZXZpY2VzL2R5bmFQcm9NaW5pJztcclxuaW1wb3J0IER5blByb0dvIGZyb20gJy4uL2RldmljZXMvZHluYVByb0dvJztcclxuaW1wb3J0IEVEeW5hbW8gZnJvbSAnLi4vZGV2aWNlcy9lRHluYW1vJztcclxuaW1wb3J0IFREeW5hbW8gZnJvbSAnLi4vZGV2aWNlcy90RHluYW1vJztcclxuaW1wb3J0IHsgXHJcbiAgICB0RHluYW1vLFxyXG4gICAgZUR5bmFtbyxcclxuICAgIGR5bmFQcm9HbyxcclxuICAgIGRwTWluaSBcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnOyBcclxuXHJcbmNvbnN0IGNvbW1hbmROb3RVc2VkID0gaXNTY3JhID0+IFxyXG4gICAgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGAkeyhpc1NjcmEgPyAnU0NSQScgOiAnUGluUGFkJyl9IGRldmljZXMgZG8gbm90IHVzZSB0aGlzIGNvbW1hbmRgKTtcclxuXHJcbiAgICBcclxuY2xhc3MgRGV2aWNlSW50ZXJmYWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgXHJcbiAgICAgICAgZ2V0Q2FyZFNlcnZpY2UsXHJcbiAgICAgICAgc3RhcnRUcmFuc2FjdGlvbixcclxuICAgICAgICBjYW5jZWxUcmFuc2FjdGlvbixcclxuICAgICAgICBzZW5kQ29tbWFuZFdpdGhSZXNwLFxyXG4gICAgICAgIGNsZWFyU2Vzc2lvbixcclxuICAgICAgICBjbG9zZURldmljZSxcclxuICAgICAgICBnZXREZXZpY2VJbmZvLFxyXG4gICAgICAgIHJlcXVlc3RDYXJkU3dpcGUsXHJcbiAgICAgICAgaXNEZXZpY2VDb25uZWN0ZWQsXHJcbiAgICAgICAgZGlzY29ubmVjdCxcclxuICAgICAgICByZXF1ZXN0UGluRW50cnksXHJcbiAgICAgICAgc2V0RGlzcGxheU1lc3NhZ2UsXHJcbiAgICAgICAgc2VuZFVzZXJTZWxlY3Rpb24sXHJcbiAgICAgICAgc2VuZEFycGMsXHJcbiAgICAgICAgc2V0RGV2aWNlRGF0ZVRpbWUsXHJcbiAgICAgICAgcmVxdWVzdFRpcE9yQ2FzaGJhY2tcclxuICAgIH0pIHtcclxuICAgICAgICB0aGlzLm9wZW5EZXZpY2UgPSBnZXRDYXJkU2VydmljZTtcclxuICAgICAgICB0aGlzLnN0YXJ0VHJhbnNhY3Rpb24gPSBzdGFydFRyYW5zYWN0aW9uO1xyXG4gICAgICAgIHRoaXMuY2FuY2VsVHJhbnNhY3Rpb24gPSBjYW5jZWxUcmFuc2FjdGlvbjtcclxuICAgICAgICB0aGlzLnNlbmRDb21tYW5kID0gc2VuZENvbW1hbmRXaXRoUmVzcDtcclxuICAgICAgICB0aGlzLmNsZWFyU2Vzc2lvbiA9IGNsZWFyU2Vzc2lvbjtcclxuICAgICAgICB0aGlzLmNsb3NlRGV2aWNlID0gY2xvc2VEZXZpY2U7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VJbmZvID0gZ2V0RGV2aWNlSW5mbztcclxuICAgICAgICB0aGlzLnJlcXVlc3RDYXJkU3dpcGUgPSByZXF1ZXN0Q2FyZFN3aXBlO1xyXG4gICAgICAgIHRoaXMuaXNEZXZpY2VPcGVuID0gaXNEZXZpY2VDb25uZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5mb3JjZURpc2Nvbm5lY3QgPSBkaXNjb25uZWN0O1xyXG4gICAgICAgIHRoaXMucmVxdWVzdFBpbkVudHJ5ID0gKHJlcXVlc3RQaW5FbnRyeSkgPyByZXF1ZXN0UGluRW50cnkgOiBjb21tYW5kTm90VXNlZCh0cnVlKTtcclxuICAgICAgICB0aGlzLnNldERpc3BsYXlNZXNzYWdlID0gKHNldERpc3BsYXlNZXNzYWdlKSA/IHNldERpc3BsYXlNZXNzYWdlIDogY29tbWFuZE5vdFVzZWQodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zZW5kVXNlclNlbGVjdGlvbiA9IChzZW5kVXNlclNlbGVjdGlvbikgPyBzZW5kVXNlclNlbGVjdGlvbiA6IGNvbW1hbmROb3RVc2VkKCk7XHJcbiAgICAgICAgdGhpcy5zZW5kQXJwY1Jlc3BvbnNlID0gKHNlbmRBcnBjKSA/IHNlbmRBcnBjIDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKFwiRmVhdHVyZSBQZW5kaW5nIENvbXBsZXRpb25cIik7XHJcbiAgICAgICAgdGhpcy5zZXREZXZpY2VEYXRlVGltZSA9IChzZXREZXZpY2VEYXRlVGltZSkgPyBzZXREZXZpY2VEYXRlVGltZSA6IGNvbW1hbmROb3RVc2VkKCk7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0VGlwT3JDYXNoYmFjayA9IChyZXF1ZXN0VGlwT3JDYXNoYmFjaykgPyByZXF1ZXN0VGlwT3JDYXNoYmFjayA6IGNvbW1hbmROb3RVc2VkKHRydWUpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgbmV3RGV2aWNlSW5zdGFuY2UgPSB7XHJcbiAgICBbZUR5bmFtb106IChkZXZpY2UsIGNhbGxiYWNrcykgPT4gbmV3IEVEeW5hbW8oZGV2aWNlLCBjYWxsYmFja3MpLFxyXG4gICAgW3REeW5hbW9dOiAgKGRldmljZSwgY2FsbGJhY2tzKSA9PiBuZXcgVER5bmFtbyhkZXZpY2UsIGNhbGxiYWNrcyksXHJcbiAgICBbZHluYVByb0dvXTogKGRldmljZSwgY2FsbGJhY2tzKSA9PiBuZXcgRHluUHJvR28oZGV2aWNlLCBjYWxsYmFja3MpLFxyXG4gICAgW2RwTWluaV06IChkZXZpY2UsIGNhbGxiYWNrcykgPT4gbmV3IERwTWluaShkZXZpY2UsIGNhbGxiYWNrcyksXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBidWlsZERldmljZU9iamVjdCA9IChkZXZpY2UsIGNhbGxiYWNrcywgZGV2aWNlVHlwZVN0cmluZykgPT4gKHtcclxuICAgIGlkOiBkZXZpY2UuaWQsXHJcbiAgICBuYW1lOiBkZXZpY2UubmFtZSxcclxuICAgIGRldmljZVR5cGU6IGRldmljZVR5cGVTdHJpbmcsXHJcbiAgICBkZXZpY2VJbnRlcmZhY2U6IG5ldyBEZXZpY2VJbnRlcmZhY2UoXHJcbiAgICAgICAgbmV3RGV2aWNlSW5zdGFuY2VbIGRldmljZVR5cGVTdHJpbmcgXShkZXZpY2UsIGNhbGxiYWNrcylcclxuICAgIClcclxufSk7XHJcblxyXG4iLCJpbXBvcnQge1xyXG4gICAgdER5bmFtbyxcclxuICAgIGVEeW5hbW8sXHJcbiAgICBkeW5hUHJvR28sXHJcbiAgICBkcE1pbmlcclxufSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IG5vdEZvdW5kT2JqIH0gZnJvbSAnLi4vZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cyc7XHJcblxyXG5jb25zdCBlRHluYW1vUGF0dGVybiA9IG5ldyBSZWdFeHAoL15lRHluYW1vLS8pO1xyXG5jb25zdCB0RHluYW1vUGF0dGVybiA9IG5ldyBSZWdFeHAoL150RHluYW1vLS8pO1xyXG5jb25zdCBkcE1pbmlQYXR0ZXJuID0gbmV3IFJlZ0V4cCgvXkRQTWluaS8pO1xyXG5jb25zdCBkcEdvUGF0dGVybiA9IG5ldyBSZWdFeHAoL15EUEcvKTtcclxuXHJcblxyXG5jb25zdCBpbnNwZWN0RGV2aWNlTmFtZSA9IGRldmljZU5hbWUgPT4gKHREeW5hbW9QYXR0ZXJuLnRlc3QoZGV2aWNlTmFtZSkpID8gdER5bmFtbyA6IFxyXG4gICAgKGVEeW5hbW9QYXR0ZXJuLnRlc3QoZGV2aWNlTmFtZSkpID8gZUR5bmFtbyA6IFxyXG4gICAgICAgIChkcEdvUGF0dGVybi50ZXN0KGRldmljZU5hbWUpKSA/IGR5bmFQcm9HbyA6IFxyXG4gICAgICAgICAgICAoZHBNaW5pUGF0dGVybi50ZXN0KGRldmljZU5hbWUpKSA/IGRwTWluaSA6IFwiXCI7XHJcblxyXG5jb25zdCBmb3JtYXRUeXBlU3RyaW5nID0gZGV2aWNlVHlwZVN0ciA9PiB7XHJcbiAgICBjb25zdCBkZXZpY2VUeXBlQXJyID0gW2R5bmFQcm9HbywgZHBNaW5pLCBlRHluYW1vLCB0RHluYW1vXTtcclxuICAgIGxldCByZXR1cm5TdHIgPSBcIlwiO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2aWNlVHlwZUFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChkZXZpY2VUeXBlU3RyLnRvTG93ZXJDYXNlKCkgPT09IGRldmljZVR5cGVBcnJbaV0udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICByZXR1cm5TdHIgPSBkZXZpY2VUeXBlQXJyW2ldO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJldHVyblN0cjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGZpbmREZXZpY2VUeXBlU3RyaW5nID0gKG5hbWVTdHIsIHR5cGVTdHIpID0+IHtcclxuICAgIGlmICh0eXBlU3RyKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkU3RyID0gZm9ybWF0VHlwZVN0cmluZyh0eXBlU3RyKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlshIV06IFwiLCBmb3JtYXR0ZWRTdHIpO1xyXG5cclxuICAgICAgICBpZiAoZm9ybWF0dGVkU3RyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZWRTdHI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpbnNwZWN0RGV2aWNlTmFtZShuYW1lU3RyKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZmluZERldmljZUJ5UHJvZHVjdE5hbWUgPSBzZWxlY3RlZERldmljZSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgbGV0IG1vZGVsTmFtZVN0cmluZztcclxuXHJcbiAgICByZXR1cm4gc2VsZWN0ZWREZXZpY2UuZ2F0dC5jb25uZWN0KClcclxuICAgIC50aGVuKHNlcnZlciA9PiBzZXJ2ZXIuZ2V0UHJpbWFyeVNlcnZpY2UoJ2RldmljZV9pbmZvcm1hdGlvbicpXHJcbiAgICApLnRoZW4oc2VydmljZSA9PiBzZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKCdtb2RlbF9udW1iZXJfc3RyaW5nJylcclxuICAgICkudGhlbihjaGFyYWN0ZXJpc3RpYyA9PiBjaGFyYWN0ZXJpc3RpYy5yZWFkVmFsdWUoKVxyXG4gICAgKS50aGVuKHZhbHVlID0+IHtcclxuICAgICAgICBtb2RlbE5hbWVTdHJpbmcgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JykuZGVjb2RlKHZhbHVlKS50cmltKCk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSggc2VsZWN0ZWREZXZpY2UuZ2F0dC5kaXNjb25uZWN0KCkgKTtcclxuICAgIH0pLnRoZW4oICgpID0+IHJlc29sdmUoIG1vZGVsTmFtZVN0cmluZyApXHJcbiAgICApLmNhdGNoKGVyciA9PiAoXHJcbiAgICAgICAgICAgIGVyci5jb2RlID09PSBub3RGb3VuZE9iai5lcnJvckNvZGUgJiYgXHJcbiAgICAgICAgICAgIGVyci5uYW1lID09PSBub3RGb3VuZE9iai5lcnJvck5hbWUgJiYgXHJcbiAgICAgICAgICAgIGVyci5tZXNzYWdlLmluY2x1ZGVzKFwiMDAwMDE4MGEtMDAwMC0xMDAwLTgwMDAtMDA4MDVmOWIzNGZiXCIpXHJcbiAgICAgICAgKSA/ICghc2VsZWN0ZWREZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gcmVzb2x2ZSggZHluYVByb0dvICkgXHJcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKCBzZWxlY3RlZERldmljZS5nYXR0LmRpc2Nvbm5lY3QoKSApLnRoZW4oKCkgPT4gcmVzb2x2ZSggZHluYVByb0dvICkpXHJcbiAgICAgICAgOiByZWplY3QoZXJyKVxyXG4gICAgKTtcclxufSk7XHJcbiIsImltcG9ydCBBcGlFcnJvciBmcm9tICcuL2Vycm9ySGFuZGxlci9hcGlFcnJvcic7XHJcbmltcG9ydCB7IGFsbERldmljZUNvbmZpZywgZmluZERldmljZUJ5RGV2aWNlTmFtZSB9IGZyb20gJy4vY29uZmlndXJhdGlvbnMnO1xyXG5pbXBvcnQgeyBidWlsZERldmljZU9iamVjdCB9IGZyb20gJy4vdXRpbHMvaW5zdGFuY2lhdGVEZXZpY2UnO1xyXG5pbXBvcnQgeyBmaW5kRGV2aWNlVHlwZVN0cmluZywgZmluZERldmljZUJ5UHJvZHVjdE5hbWUgfSBmcm9tICcuL3V0aWxzL2lkZW50aWZ5RGV2aWNlJztcclxuXHJcblxyXG5jb25zdCBhcnJhbmdlQ2FsbGJhY2tzID0gY2FsbEJhY2tzID0+IHtcclxuXHJcbiAgICBjb25zdCBkZWZhdWx0Q2FsbGJhY2sgPSBkYXRhT2JqID0+IHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJDYWxsYmFjayBub3QgcHJvdmlkZWQgdG8gJ3NjYW5Gb3JEZXZpY2VzJyBmdW5jdGlvbi4gUGxlYXNlIHByb3ZpZGUgYXQgbGVhc3Qgb25lIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHRoaXMgbWV0aG9kXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidHJhbnNhY3Rpb25DYWxsYmFjayBkYXRhOiBcIiwgZGF0YU9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsbEJhY2tzID0gY2FsbEJhY2tzIHx8IGRlZmF1bHRDYWxsYmFjaztcclxuICAgIFxyXG4gICAgY29uc3QgaXNGdW5jVHlwZSA9ICh0eXBlb2YgY2FsbEJhY2tzID09PSAnZnVuY3Rpb24nKTtcclxuXHJcbiAgICBjb25zdCBwcm9wQXNzaWdubWVudCA9IHByb3BOYW1lID0+IChjYWxsQmFja3NbcHJvcE5hbWVdKSA/IGNhbGxCYWNrc1twcm9wTmFtZV0gOiBcclxuICAgICAgICAoaXNGdW5jVHlwZSkgPyBjYWxsQmFja3MgOiBjYWxsQmFja3MudHJhbnNhY3Rpb25DYWxsYmFjaztcclxuXHJcbiAgICBjb25zdCBkZWZhdWx0RXJyQ2FsbGJhY2sgPSBlcnJPYmogPT4gXHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltNYWdlbnNhQmx1ZXRvb3RoIEludGVybmFsIEVycm9yXTogXCIsIGVyck9iaik7XHJcblxyXG4gICAgY2FsbEJhY2tzLmVycm9yQ2FsbGJhY2sgPSAoY2FsbEJhY2tzLmVycm9yQ2FsbGJhY2sgfHwgZGVmYXVsdEVyckNhbGxiYWNrKTtcclxuICAgIGNhbGxCYWNrcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrID0gKCBjYWxsQmFja3MudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayB8fCBwcm9wQXNzaWdubWVudCgndHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjaycpICk7XHJcbiAgICBjYWxsQmFja3MudXNlclNlbGVjdGlvbkNhbGxiYWNrID0gKCBjYWxsQmFja3MudXNlclNlbGVjdGlvbkNhbGxiYWNrIHx8IHByb3BBc3NpZ25tZW50KCd1c2VyU2VsZWN0aW9uQ2FsbGJhY2snKSApO1xyXG4gICAgY2FsbEJhY2tzLmRpc3BsYXlDYWxsYmFjayA9ICggY2FsbEJhY2tzLmRpc3BsYXlDYWxsYmFjayB8fCBwcm9wQXNzaWdubWVudCgnZGlzcGxheUNhbGxiYWNrJykgKTtcclxuICAgIGNhbGxCYWNrcy5kaXNjb25uZWN0SGFuZGxlciA9IChjYWxsQmFja3MuZGlzY29ubmVjdEhhbmRsZXIgfHwgcHJvcEFzc2lnbm1lbnQoJ3RyYW5zYWN0aW9uQ2FsbGJhY2snKSApO1xyXG5cclxuICAgIHJldHVybiBjYWxsQmFja3M7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzY2FuRm9yRGV2aWNlcyA9IChjYWxsQmFja3MsIGRldmljZU5hbWUsIGRldmljZVR5cGUpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGNhbGxCYWNrcyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGNhbGxCYWNrcy50cmFuc2FjdGlvbkNhbGxiYWNrID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICByZXR1cm4gcmVqZWN0KFwiV2hlbiBwcm92aWRpbmcgbXVsdGlwbGUgY2FsbGJhY2tzIGluIGFuIG9iamVjdCwgJ3RyYW5zYWN0aW9uQ2FsbGJhY2snIG11c3QgYmUgcHJvdmlkZWRcIik7XHJcblxyXG4gICAgY2FsbEJhY2tzID0gYXJyYW5nZUNhbGxiYWNrcyhjYWxsQmFja3MpO1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSAoZGV2aWNlTmFtZSkgPyBmaW5kRGV2aWNlQnlEZXZpY2VOYW1lKGRldmljZU5hbWUpIDogYWxsRGV2aWNlQ29uZmlnO1xyXG4gICAgXHJcbiAgICByZXR1cm4gbmF2aWdhdG9yLmJsdWV0b290aC5yZXF1ZXN0RGV2aWNlKCBvcHRpb25zIClcclxuICAgICAgICAudGhlbihkZXZpY2UgPT4ge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGV2aWNlVHlwZU5hbWUgPSBmaW5kRGV2aWNlVHlwZVN0cmluZyhkZXZpY2UubmFtZSwgZGV2aWNlVHlwZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKGRldmljZVR5cGVOYW1lKSA/IHJlc29sdmUoIGJ1aWxkRGV2aWNlT2JqZWN0KGRldmljZSwgY2FsbEJhY2tzLCBkZXZpY2VUeXBlTmFtZSkgKSA6XHJcbiAgICAgICAgICAgICAgICBmaW5kRGV2aWNlQnlQcm9kdWN0TmFtZShkZXZpY2UpLnRoZW4oIFxyXG4gICAgICAgICAgICAgICAgICAgIGRldmljZVR5cGVTdHJpbmcgPT4gKCFkZXZpY2VUeXBlU3RyaW5nKSA/IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoXCJTZWxlY3RlZCBkZXZpY2UgaXMgbm90IHN1cHBvcnRlZFwiKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlKCBidWlsZERldmljZU9iamVjdChkZXZpY2UsIGNhbGxCYWNrcywgZGV2aWNlVHlwZVN0cmluZykgKVxyXG4gICAgICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiAodHlwZW9mIGVyciA9PT0gXCJvYmplY3RcIikgPyBcclxuICAgICAgICAgICAgcmVqZWN0KCBuZXcgQXBpRXJyb3IoZXJyKSApIDogXHJcbiAgICAgICAgICAgIHJlamVjdChcIlNlbGVjdGVkIGRldmljZSBpcyBub3Qgc3VwcG9ydGVkXCIpXHJcbiAgICAgICAgKVxyXG59KTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==