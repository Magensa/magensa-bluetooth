!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["magensa-bluetooth"]=t():e["magensa-bluetooth"]=t()}(window,(function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t),i.d(t,"scanForDevices",(function(){return Ae}));class a extends Error{constructor(e){let{message:t,code:i,name:a}=e;super(t||"Web Bluetooth API threw an unknown, or undocumented error"),this.code=i||1e3,this.name=a||"WebBluetoothError"}}var s=a;const r={filters:[{services:["0508e6f8-ad82-898f-f843-e3410cb60104"]},{services:["0508e6f8-ad82-898f-f843-e3410cb60101"]},{services:["0508e6f8-ad82-898f-f843-e3410cb60103"]}],optionalServices:["0508e6f8-ad82-898f-f843-e3410cb60104","0508e6f8-ad82-898f-f843-e3410cb60103","0508e6f8-ad82-898f-f843-e3410cb60101","0508e6f8-ad82-898f-f843-e3410cb60202","device_information"],keepRepeatedDevices:!1,acceptAllAdvertisements:!1};function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=class{constructor(){n(this,"logDeviceState",e=>window.dispatchEvent(new CustomEvent("deviceLog",{bubbles:!0,detail:e}))),n(this,"convertArrayToHexString",e=>Array.from(e,e=>("0"+(255&e).toString(16)).slice(-2)).join("").toUpperCase()),n(this,"readTwoByteLength",e=>e[0]<<8|e[1]),n(this,"bufferToUtf8",e=>new TextDecoder("utf-8").decode(Uint8Array.from(e))),n(this,"castDecToHex",e=>parseInt(e.toString(16),16)),n(this,"newArrayPartial",(e,t)=>new Array(t).fill(e)),n(this,"readByteArray",e=>{let t=[];for(let i=0;i<e.byteLength;i++)t.push(e.getUint8(i));return t}),n(this,"hexToAscii",e=>{let t="";for(let i=0;i<e.length&&"00"!==e.substr(i,2);i+=2)t+=String.fromCharCode(parseInt(e.substring(i,i+2),16));return t.trim()}),n(this,"hexToBytes",e=>{let t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(e.substring(i,i+2),16));return t}),n(this,"decodeRLE",e=>{const t=e.length;let i=[e[0]],a=0;for(let s=1;s<t;s++)a=s+1,a+1<t&&e[s]===e[a]?(i.push(...this.newArrayPartial(e[s],e[a+1])),s=a+1):i.push(e[s]);return i}),n(this,"buildInitialDataArray",e=>{let t=[];for(let e=Math.min(...Object.keys(this.rawData));e<this.maxBlockId;e++)t=t.concat(...this.rawData[e]);return e?this.checkRle(t):t}),n(this,"checkRle",e=>this.rleFormats[this.initialNotification[0]]?this.decodeRLE(e):e),n(this,"convertCurrencyCode",e=>{const t=e.toLowerCase();return"us"===t?[8,64]:"euro"===t?[9,120]:[0,0]}),n(this,"convertNumToAmount",(e,t)=>{t=t||12;let i=e.toString(),a=[];for(;i.length<t;)i="0"+i;for(let e=0;e<i.length;e+=2)a.push(parseInt(i.substring(e,e+2),16));return a}),n(this,"delayPromise",(e,t)=>new Promise(i=>{setTimeout(i,e,t)})),n(this,"byteArrayToNumber",e=>parseInt(this.convertArrayToHexString(e),10)),this.rleFormats=Object.freeze({0:!1,1:!0,2:!1,3:!0})}};function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h=class extends o{constructor(){super(),c(this,"formatExpPAN",e=>{let t="object"==typeof e?this.bufferToUtf8(e.slice(4)):e;if(-1!==t.indexOf(";")){const e=this.splitExpPAN(t);return{maskedPAN:e[0],Last4:e[1],expirationDate:e[2],serviceCode:e[3]}}return{maskedPAN:"",Last4:"",expirationDate:"",serviceCode:""}}),c(this,"splitExpPAN",e=>{if(e.length>3){const t=e.replace(";","").replace("?","").split("="),i=t[1].slice(0,4),a=t[1].slice(4,7),s=i.slice(-2)+"/"+i.slice(0,2);return[t[0],t[0].slice(-4),s,a]}return["Not Found","Not Found","Not Found","Not Found"]})}};function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l=class extends h{constructor(){super(),d(this,"tlvParser",(e,t)=>{const i=e.length;let a,s,r,n=[],o=0,c=!0,h=null,d=[];for(;o<i;)if(s=e[o],c){a=0;let t=!0;if(0===s)break;for(;t&&o<i;)s=e[o],o++,d[a]=s,t=0===a?(s&this.moreTagBytesFlag1)==this.moreTagBytesFlag1:(s&this.moreTagBytesFlag2)==this.moreTagBytesFlag2,a++;h=this.convertArrayToHexString(d.slice(0,a)),c=!1}else{if(r=0,(s&this.moreLengthFlag)==this.moreLengthFlag){let t=s&this.oneByteLengthMask;o++;let a=0;for(;a<t&&o<i;)s=e[o],o++,r=((255&r)<<8)+s,a++}else r=s&this.oneByteLengthMask,o++;if(h){let a=d[0],s=(o+r>i?i:o+r)-o,c=s>0?this.convertArrayToHexString(e.slice(o,o+s)):"";n.push({tag:h,tagLength:r||c.length+.5,tagValue:this.hexOrAsciiFormatter(h,c,t)}),(a&this.constructedFlag)!=this.constructedFlag&&(o+=r)}c=!0}return n}),d(this,"hexOrAsciiFormatter",(e,t,i)=>{switch(e){case"DFDF1A":return`${t} ${this.trxStatusToString[parseInt(t,16)]}`;case"DFDF4D":case"5F20":return this.hexToAscii(t);case"DFDF25":return i?this.hexToAscii(t?t.substring(0,14):t):t;case"DFDF40":return 128===t?`${t}  CBC-MAC checked in ARQC online response`:1===t;default:return t}}),this.moreTagBytesFlag1=31,this.moreTagBytesFlag2=128,this.constructedFlag=32,this.moreLengthFlag=128,this.oneByteLengthMask=127,this.trxStatusToString=Object.freeze({0:"Approved",1:"Declined",2:"Error",16:"Cancelled By Host",17:"Confirm Amount No",18:"Confirm Amount Timeout",19:"Confirm Amount Cancel",20:"MSR Select Debit",21:"MSR Select Debit",22:"MSR Select Credit/Debit timout",23:"MSR Select Credit/Debit cancel",24:"Signature Capture Cancelled by Host (SC-S Only | SC-F only)",25:"Signature Capture Timeout (SC-S Only | SC-F Only)",26:"Signature Capture Cancelled by Cardholder (SC-S Only | SC-F Only)",27:"PIN Entry Cancelled by Host",28:"PIN entry timeout",29:"PIN entry Cancelled by Cardholder",30:"Manual Selected Cancelled by Host",31:"Manual Selection Timeout",32:"Manual Selction Cancelled by Cardholder",33:"Waiting for Card Cancelled by Host",34:"Waiting for Card Timeout",35:"[SCRA]: Cancelled by Card Swipe (MSR) ||[PIN]: Waiting for Card Cancelled by Cardholder ",36:"Waiting for Card ICC Seated",37:"Waiting for Card MSR Swiped",255:"Unknown Transaction Status"})}};class u extends Error{constructor(){super("Device communication error. Length does not match data"),this.name="BleTransmissionError",this.code=1012}}var m=u;class p extends Error{constructor(e){let{code:t,name:i,message:a}=e;super(a),this.name=i||"DeviceError",this.code=t||1e3}}var v=p;function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f=class extends l{constructor(e){super(),g(this,"buildDeviceErr",e=>e instanceof DOMException?new s(e):e instanceof Error?e:new v(e)),g(this,"throwLenErr",()=>new m),g(this,"sendErrToCallback",e=>(this.errorCallback(e),e)),this.errorCallback=e.errorCallback}};const b=Object.freeze({errorCode:8,errorName:"NotFoundError"}),C=Object.freeze({code:19,name:"NetworkError"}),D=Object.freeze({code:1002,name:"DeviceNotFound",message:"Please select device to connect"}),S=Object.freeze({code:1003,name:"GattServerNotConnected",message:"Please connect desired device"}),y=Object.freeze({code:1004,name:"CommandNotSent",message:"Command characteristic not found, device not opened"}),T=Object.freeze({code:1005,name:"CommandNotSent",message:"Device not opened"}),w=Object.freeze({code:1006,name:"CommandNotSent",message:"Application From Host not found.  Device not connected"}),A=Object.freeze({code:1007,name:"ReadFailed",message:"Unable to read data from device. Communication error"}),k=Object.freeze({code:1008,name:"ResponseNotReceived",message:"Command was sent, but response was not received from device"}),P=Object.freeze({code:1009,name:"GetServiceFail",message:"Failed to retrieve primary GATT service. Please connect device"}),E=Object.freeze({code:1013,name:"CommandNotAccepted",message:"Device did not accept command"}),R=e=>Object.freeze({code:1014,name:"MissingRequiredParameter",message:`'${e}' is required to call this function.`}),I=(e,t)=>Object.freeze({code:1015,name:"IncorrectInputType",message:`Parameter type for ${t} was not correct, acceptable type(s) are: ${e.join(", ")}`}),B=(e,t)=>Object.freeze({code:1015,name:"IncorrectInputValue",message:`Parameter value for ${t} was not correct, acceptable value(s) are: ${e.join(", ")}`}),O="DynaPro Mini",N="Configuration",x="Unknown/Undocumented",L=Object.freeze({code:0,message:"Success, there was no session to clear"}),H=Object.freeze({code:19,message:"GATT operation already in progress."}),M=Object.freeze({code:0,message:"Device Closed"}),j=Object.freeze({eDynamo:3,tDynamo:7,[O]:3,dynaProGo:7}),$=Object.freeze({msr:1,chip:2,chipmsr:3,contactless:4,contactlessmsr:5,contactlesschip:6,all:7});function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var U=class extends f{constructor(e,t){super(t),F(this,"cardTypes",e=>"all"!==e?$[e]||3:j[this.deviceType]||3),F(this,"connect",()=>new Promise((e,t)=>(this.logDeviceState(`[GATT]: Device Connection Request || ${new Date}`),this.device?this.device.gatt.connect().then(t=>(this.logDeviceState(`[GATT]: Device connected - GATT Server retrieved successfully || ${new Date}`),this.gattServer=t,e())):t(this.buildDeviceErr(D))))),F(this,"disconnect",()=>new Promise(e=>(this.device.gatt.connected&&this.device.gatt.disconnect(),e(M)))),F(this,"cacheCardServiceBase",e=>new Promise((t,i)=>(e=e||0,this.logDeviceState(`[GATT]: Cache Card Service Request || ${new Date}`),this.gattServer?this.findPrimaryService(e).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(S))))),F(this,"findPrimaryService",e=>new Promise((t,i)=>this.gattServer.getPrimaryService(this.deviceUUIDs[e]).then(e=>(this.cardService=e,this.logDeviceState(`[GATT]: Success! GATT Card Service retrieved and cached || ${new Date}`),this.device.addEventListener("gattserverdisconnected",this.disconnectHandler),t(e))).catch(a=>a.code===b.errorCode&&a.name===b.errorName?(this.deviceUUIDs[e+1],this.logDeviceState(`[ERROR]: Failed to connect. UUID: ${this.deviceUUIDs[e]} is not valid for this device. Trying again with UUID: ${this.deviceUUIDs[e+1]} || ${new Date}`),t(this.findPrimaryService(e+1))):(this.logDeviceState(`[ERROR]: Failed to retrieve Card Service - UUID: ${this.deviceUUIDs[e]} is not valid for this device. || ${new Date}`),i(a))))),F(this,"connectAndCache",e=>new Promise((t,i)=>{const a=t=>new Promise((i,s)=>t<4?this.connect().then(()=>this.cacheCardServiceBase(e)).then(e=>i(e)).catch(e=>e.code===C.code&&e.name===C.name?setTimeout(()=>(this.logDeviceState(`[ERROR]: Error caching GATT Service - Clearing cache and trying again. || ${new Date}`),this.clearGattCache(),i(a(t+1))),500):(this.logDeviceState(`[ERROR]: Failed to cache GATT Service || ${new Date}`),s(e))):s(this.buildDeviceErr(P)));return a(0).then(e=>t(e)).catch(e=>i(e))})),F(this,"sendArpcBase",e=>new Promise((t,i)=>{if(!this.device.gatt.connected)return i(this.buildDeviceErr(T));if("string"!=typeof e&&"object"!=typeof e)return i(this.buildDeviceErr(I(["string","array of numbers"],"ARPC")));const a="string"==typeof e?e.length/2:e.length,s="string"==typeof e?this.hexToBytes(e):e;return t(this.buildArpcCommand(a,s))})),F(this,"onDestroyHandler",()=>{if(this.device&&this.device.gatt.connected)return this.device.gatt.disconnect()}),F(this,"waitForDeviceResponse",e=>new Promise(t=>{const i=a=>a<e?this.commandRespAvailable?t(!0):setTimeout(()=>i(a+1),200):t(!1);i(0)})),F(this,"disconnectHandler",e=>{this.gattServer=null,this.cardService=null,this.logDeviceState(`[Disconnected]: Disconnect event. Returning event to user, removing device listener || ${new Date}`),this.disconnectCallback(e),this.device.removeEventListener("gattserverdisconnected",this.disconnectHandler)}),F(this,"isDeviceConnected",()=>!!this.device.gatt&&this.device.gatt.connected),this.device=e,this.disconnectCallback=t.disconnectHandler,this.gattServer=null,this.cardService=null,this.deviceUUIDs=["0508e6f8-ad82-898f-f843-e3410cb60104","0508e6f8-ad82-898f-f843-e3410cb60103","0508e6f8-ad82-898f-f843-e3410cb60101"],this.currencyCode=Object.freeze({dollar:[8,64],euro:[9,120],pound:[8,38],default:[0,0]}),this.transactionTypes=Object.freeze({purchase:0,cashadvance:1,cashback:2,purchasegoods:4,purchaseservices:8,contactlesscashback:9,cashmanual:18,refund:32,chiponlypayment:80}),this.commandRespAvailable=!1}};function q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var W=class extends U{constructor(e,t){super(e,t),q(this,"validateAmount",e=>(t,i,a)=>{switch(typeof t){case"number":return t.toString().length>12?e(B(["number of 12 digits or less","byte array representation of amount (6 bytes, n12 format)"],t)):this.convertNumToAmount(t);case"object":return 6===t.length?t:e(B(["12 digit or less number","byte array representation of amount (6 bytes, n12 format)"],i));case"undefined":return void 0===a?e(R(i)):a;default:return e(I(["number of 12 digits or less","byte array representation of amount (6 bytes, n12 format)"],i))}}),q(this,"validateRequiredInputs",e=>new Promise((t,i)=>{for(let t=0;t<e.length;t++){let{prop:a,validTypes:s,validValues:r,condition:n,propName:o}=e[t];if(void 0===a&&n)return i(R(o));let c=!1;for(let e=0;e<s.length;e++)if(typeof a===s[e]){c=!0;break}if(!c)return i(I(s,o));if(void 0!==r){let e=!1;for(let t=0;t<r.length;t++)if(a.toLowerCase()===r[t]){e=!0;break}if(!e)return i(B(r,o))}}return t(!0)}))}};function z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var G=class extends W{constructor(e,t){super(e,t),z(this,"decimalToBinary",e=>{let t=(e>>>0).toString(2);return"00000000".substr(t.length)+t}),z(this,"stringNumToBool",e=>!!+e),z(this,"findNullTerminatedString",e=>{let t;for(let i=0;i<e.length;i++)if(0===e[i]&&0===e[i+1]&&0===e[i+2]){t=i;break}return t?this.convertArrayToHexString(e.slice(2,t)):this.convertArrayToHexString(e.slice(2))}),z(this,"findPinLength",(e,t)=>{let i=12,a=4;return e&&"number"==typeof e&&e<=12&&(i=e>=4?e:12),t&&"number"==typeof t&&t>=4&&(a=t<=i?t:4),parseInt(`${i.toString(16)}${a.toString(16)}`,16)}),z(this,"buildPinOptionsByte",(e,t,i,a)=>{const s=Object.freeze({disabled:"00",englishfrench:"01",allspecified:"10"}),r=`000${e=e&&s[e.toLowerCase()]||s.disabled}${(t="boolean"!=typeof t||t)?"1":"0"}${"boolean"!=typeof t||t?"1":"0"}${a="string"==typeof a?"iso0"===a.toLowerCase()?"0":"1":"0"}`;return this.logDeviceState(`[PinOptionsByte]: binary string representation: ${r} || byte result: ${parseInt(r,2)}`),parseInt(r,2)}),z(this,"buildN2Format",e=>{const t=e.toString(),i=2===t.length?t:`0${t}`;return parseInt(`0x${i[0]}${i[1]}`,16)})}};function V(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var K=class extends G{constructor(e,t){super(e,t),V(this,"parseDeviceConfiguration",e=>({...this.firstDeviceControlByte(this.decimalToBinary(e[1])),...this.secondDeviceControlByte(this.decimalToBinary(e[2])),...this.maskConfigurationByte(this.decimalToBinary(e[3])),...this.msrConfigurationByte(this.decimalToBinary(e[4])),maskCharacter:this.findMaskCharacter(e[5]),leadingUnmaskedLength:parseInt(this.decimalToBinary(e[6]).slice(4),2),trailingUnmaskedLength:parseInt(this.decimalToBinary(e[6]).slice(0,4),2),emvL2IcsConfig:this.emvL2ConfigOptions[this.decimalToBinary(e[7]).slice(0,4)]||`${x} EMV L2 ICS ${N}`,...this.contactlessConfig(e[8])})),V(this,"contactlessConfig",e=>({contactlessSupport:this.enabledBrands[this.convertArrayToHexString([e])[0]],contactlessGuiControls:"1"===this.decimalToBinary(e)[5]?"Alternate":"Standard"})),V(this,"findMaskCharacter",e=>{if(48===e)return"ASCII: '0'";{const t=this.convertArrayToHexString([e]),i=this.hexToAscii(t);return i?`ASCII: '${i}'`:`Non-ASCII character in hex: '${t}'`}}),V(this,"firstDeviceControlByte",e=>({requireMutualAuth:this.stringNumToBool(e[0]),msrEncryptionVariant:"1"===e[1]?"DATA":"PIN",isClearTextEnabled:this.stringNumToBool(e[3]),isBeeperModeEnabled:this.stringNumToBool(e[4]),isBitmapLocked:this.stringNumToBool(e[6]),isConfigurationLocked:this.stringNumToBool(e[7])})),V(this,"secondDeviceControlByte",e=>({isArpcMacEnabled:this.stringNumToBool(e[1]),isFinancialIccCardTypeReportingEnabled:this.stringNumToBool(e[2]),arqcBatchDataOutputFormat:"1"===e[3]?"Reserved Format":"DynaPro Format"})),V(this,"maskConfigurationByte",e=>({isIsoMaskEnabled:this.stringNumToBool(e[7]),isCheckDigitEnabled:this.stringNumToBool(e[6]),isMs2Point0Enabled:"00"!==e.slice(4,6)})),V(this,"msrConfigurationByte",e=>({isAAMVAcardEnabled:this.stringNumToBool(e[7]),track3Data:this.trackDataOptions[e.slice(4,6)]||"Unknown",track2Data:this.trackDataOptions[e.slice(2,4)]||"Unknown",track1Data:this.trackDataOptions[e.slice(0,2)]||"Unknown"})),this.trackDataOptions=Object.freeze({"00":"Disabled","01":"Enabled",11:"Required"}),this.emvL2ConfigOptions=Object.freeze({"0000":"No L2 Capability","0001":`${N} C1 (EMVCo certified)`,"0010":`${N} C2`,"0011":`${N} C3`,"0100":`${N} C4 (EMVCo certified)`,"0101":`${N} C5 (EMVCo certified)`,"0110":`${N} C6`,"0111":`${N} C7`}),this.enabledBrands=Object.freeze({0:"All contacless kernals enabled",1:"PayPass/MCL support disabled",2:"payWave support disabled",4:"Expresspay support disabled",8:"D-PAS support disabled"})}};function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Q=class extends K{constructor(e,t){super(e,t),_(this,"findEmvCardholderStatus",e=>({emvCardholderStatus:this.cardholderStatusIds[e]||`${x} Cardholder Interaction Status ID: ${e}`})),_(this,"findOperationStatus",e=>({operationStatus:this.operationStatus[e]||`${x} Operation Status`})),_(this,"parseDisplayMessageDone",e=>this.findOperationStatus(e[2])),_(this,"parseEmvCompletion",e=>(this.logDeviceState(`[EMV Completion]: ${this.convertArrayToHexString(e)}`),{emvCompletionResponse:e})),_(this,"formatSerialNumber",e=>this.deviceSerialNumber=this.hexToAscii(this.findNullTerminatedString(e))),_(this,"handleBigBlockBegin",e=>{switch(e[1]){case 164:this.arqcArriving=!0,this.arqcTotalLen=this.readTwoByteLength([e[5],e[4]]);break;case 171:this.batchDataArriving=!0,this.batchTotalLen=this.readTwoByteLength([e[5],e[4]]);break;case 24:case 32:case 33:break;default:this.transactionStatusCallback({bufferType:this.bufferTypes[e[1]]||"Buffer type not documented"})}}),_(this,"handleArqcBigBlockFinish",()=>{const e=this.buildInitialDataArray(!1),t=this.convertArrayToHexString(e);return this.logDeviceState(`[ARQC]: ${t}`),this.cardDataObj={...this.cardDataObj,arqcData:t,arqcDataParsed:this.tlvParser(e.slice(2))},this.rawData={},this.arqcArriving=!1,this.isQuickChipTransaction?void 0:this.transactionCallback(this.cardDataObj)}),_(this,"handleBatchBigBlockFinish",()=>{const e=this.buildInitialDataArray(!1),t=this.convertArrayToHexString(e);this.logDeviceState(`[BATCH DATA]: ${t}`),this.transactionHasStarted=!1;const i=this.tlvParser(e.slice(2)),a=i.find(e=>{let{tag:t}=e;return"DFDF40"===t});return this.cardDataObj=a?{...this.cardDataObj,batchData:t,batchDataParsed:i,signatureRequired:1===a}:{...this.cardDataObj,batchData:t,batchDataParsed:i},this.rawData={},this.batchDataArriving=!1,this.transactionCallback(this.cardDataObj)}),_(this,"handleBigBlockFinish",()=>this.arqcArriving?this.handleArqcBigBlockFinish():this.batchDataArriving?this.handleBatchBigBlockFinish():void 0),_(this,"parseEmvCardholderInteractionStatus",e=>{switch(e[1]){case 2:return{...this.findEmvCardholderStatus(e[1]),isAmountConfirmed:1===e[4]||2!==e[4]&&`${x} Amount Confirmed Status`};case 4:return{...this.findEmvCardholderStatus(e[1]),applicationOrLabelName:this.bufferToUtf8(e.slice(4))};case 10:return{...this.findEmvCardholderStatus(e[1]),methodSelected:1===e[4]?"Credit":2===e[4]?"Debit":`${x} payment method selected`};case 32:return{...this.findEmvCardholderStatus(e[1]),tlvData:this.convertArrayToHexString(e.slice(4)),parsedTlvData:this.tlvParser(e.slice(4))};default:return void 0===e[4]?this.findEmvCardholderStatus(e[1]):{...this.findEmvCardholderStatus(e[1]),undocumentedData:this.convertArrayToHexString(e.slice(4))}}}),_(this,"parseCardStatusReport",e=>e.length<4?this.findOperationStatus(e[2]||e[1]):{...this.findOperationStatus(e[2]),cardStatus:0===e[2]?"Ok":"Error",cardType:this.cardTypesEnum[e[3]]}),_(this,"parseAckResponse",e=>({code:e[1],message:this.ACKSTS[e[1]],commandType:this.pinCommandIds[e[2]]||"Device error or command type not documented"})),_(this,"parseDeviceStateReport",e=>({deviceState:this.deviceState[e[1]]||`${x} device state id: ${e[1]}`,sessionState:this.parseSessionState(this.decimalToBinary(e[2])),deviceStatus:this.parseDeviceStatus(this.decimalToBinary(e[3])),deviceCertStatus:this.parseCertStatus(this.decimalToBinary(e[4])),hardwareStatus:this.parseHardwareStatus(this.decimalToBinary(e[5])),additionalInfo:this.parseAdditionalInfo(this.decimalToBinary(e[6]))})),_(this,"parseSessionState",e=>({powerDidChange:this.stringNumToBool(e[0]),cardDataIsAvailable:this.stringNumToBool(e[4]),panParsedFromCard:this.stringNumToBool(e[5]),externalPanSent:this.stringNumToBool(e[6]),amountWasSent:this.stringNumToBool(e[7])})),_(this,"parseCertStatus",e=>({msrCrlCertExists:this.stringNumToBool(e[0]),pinCrlCertExists:this.stringNumToBool(e[1]),mfgUnbindCertExists:this.stringNumToBool(e[3]),msrCaCertExists:this.stringNumToBool(e[4]),pinCaCertExists:this.stringNumToBool(e[5]),deviceCaCertExists:this.stringNumToBool(e[6]),deviceCertExists:this.stringNumToBool(e[7])})),_(this,"keyStatusEnum",e=>Object.freeze({"00":`${e} Key OK`,"01":`${e} Key Exhausted`,10:`No ${e} Key`,11:`${e} Key Not Bound`})),_(this,"parseDeviceStatus",e=>"00000000"!==e?{pinKeyStatus:this.keyStatusEnum("PIN")[e.slice(6)],msrKeyStatus:this.keyStatusEnum("MSR")[e.slice(4,6)],tamperDetected:this.stringNumToBool(e[3]),isAuthenticated:this.stringNumToBool(e[1]),deviceErrorDetected:this.stringNumToBool(e[0])}:"Ok"),_(this,"parseHardwareStatus",e=>({IE3_only:this.stringNumToBool(e[0]),SRED:this.stringNumToBool(e[1]),MagHeadIsProgrammed:this.stringNumToBool(e[6]),tamperSensorsAreActive:this.stringNumToBool(e[7])})),_(this,"parseAdditionalInfo",e=>({ICC_AcquirerMasterKeyIsInjected:!this.stringNumToBool(e[7]),ICC_SessionKeyIsActive:!this.stringNumToBool(e[6]),CAPK_EmvDatabaseIsCorrupted:this.stringNumToBool(e[5]),EmvTerminalDatabaseIsCorrupted:this.stringNumToBool(e[4]),cardIsPresentInChipCardConnector:this.stringNumToBool(e[3])})),_(this,"parseCardData",e=>{const t=this.cardDataIds[e[1]]||"trackNameUnknown";if(0===e[2])switch(t){case"track1":this.cardDataObj={...this.cardDataObj,[t]:this.bufferToUtf8(e.slice(4))};break;case"track2":this.cardDataObj={...this.cardDataObj,[t]:this.bufferToUtf8(e.slice(4)),...this.formatExpPAN(e)};break;case"ksnAndMagnePrintStatus":this.cardDataObj={...this.cardDataObj,ksn:this.convertArrayToHexString(e.slice(4,14)),magnePrintStatus:this.convertArrayToHexString(e.slice(-4))};break;default:this.cardDataObj={...this.cardDataObj,[t]:this.convertArrayToHexString(e.slice(4))}}else this.cardDataObj={...this.cardDataObj,[t]:this.convertStatusToString[e[2]]}}),_(this,"parsePinResponse",e=>(this.logDeviceState(`[PIN Response]: Response from PIN Entry: ${this.convertArrayToHexString(e)}`),e.length>2?{pinData:{...this.findOperationStatus(e[1]),pinKsn:this.convertArrayToHexString(e.slice(2,12)),encryptedPinBlock:this.convertArrayToHexString(e.slice(12,20))}}:this.findOperationStatus(e[1]))),_(this,"parseCardholderResponse",e=>{const t=Object.freeze({113:"Left function key",114:"Middle function key",116:"Right function key",120:"Enter key"});return e.length>2?{...this.findOperationStatus(e[1]),keyPressed:t[e[2]]||`${x} Key`}:this.findOperationStatus(e[1])}),_(this,"parseTipCashbackReport",e=>e.length>2?this.transactionCallback({tipCashbackReport:{...this.findOperationStatus(e[1]),reportMode:0===e[2]?"Tip":"Cashback",amount:e.slice(3,9),tax:e.slice(9,15),taxRate:e.slice(15,18),tipOrCashbackAmount:e.slice(18,24)}}):this.transactionCallback({tipCashbackReport:{...this.findOperationStatus(e[1])}})),this.operationStatus=Object.freeze({0:"Ok",1:"Cardholder Cancel",2:"Timeout",3:"Host Cancel",4:"Verify fail",5:"Keypad Security",6:"Calibration Done",7:"Write with duplicate RID and index",8:"Write with corrupted Key",9:"CA Public Key reached maximum capacity",10:"CA Public Key read with invalid RID or Index"}),this.ACKSTS=Object.freeze({0:"Ok",21:"RID error/Index not found",128:"Device Error: error, tamper, missing certificate or incorrect signature detected",129:"Device not idle",130:"Data Error or Bad Paramater(s)",131:"Length Error: data size is either too small, too large, incomplete, or OID of the cert doesn't match predefined OID",132:"PAN Exists",133:"Missing or Incorrect Key",134:"Device Busy",135:"Device Locked",136:"Auth required",137:"Bad Auth",138:"Device Not Available",139:"Amount Needed - If PIN amount is required, no amount has been set",140:"Battery is critically low",141:"Device is resetting",144:"Certificate does not exist",145:"Expired (Cert/CRL)",146:"Invalid (Cert/CRL/Message)",147:"Revoked (Cert/CRL)",148:"CRL does not exist",149:"Certificate exists",150:"Duplicate KSN/Key"}),this.pinCommandIds=Object.freeze({1:"responseACK",2:"clearSession",3:"swipe",4:"requestPinEntry",5:"cancelCommand",6:"requestCardholderSelection",7:"displayMessage",8:"requestDeviceStatus",9:"requestDeviceConfiguration",10:"requestMsrData",11:"getChallenge",7:"displayMessage",162:"emvTransactionStatus",171:"requestEmvData",26:"requestDeviceInfo",16:"sendBigBlockData",160:"requestTipOrCashback"}),this.cardTypesEnum=Object.freeze({0:"Other",1:"Financial",2:"AAMVA",3:"Manual",4:"Unknown",5:"ICC",6:"Contactless ICC - EMV",7:"Financial MSR + ICC",8:"Contactless ICC - MSD"}),this.deviceState=Object.freeze({0:"Idle",1:"Session",2:"Wait For Card",3:"Wait For PIN",4:"Wait For Selection",5:"Displaying Message",6:"Test (Reserved for future use)",7:"Manual Card Entry",9:"Wait Cardholder Entry",10:"Chip Card",11:"ICC Kernel Test",12:"EMV Transaction",13:"Show PAN",31:"Wait for Tip Selection"}),this.cardDataIds=Object.freeze({1:"track1",2:"track2",3:"track3",4:"encryptedTrack1",5:"encryptedTrack2",6:"encryptedTrack3",7:"magnePrint",64:"encryptedPanAndExp",65:"serialNumber",99:"ksnAndMagnePrintStatus",100:"CBC-MAC"}),this.cardholderStatusIds=Object.freeze({1:"Waiting for amount confirmation selection",2:"Amount confirmation selected",3:"Waiting for multi-payment ICC Application selection",4:"ICC Application selected",5:"Waiting for signature capture",6:"Signature captured",7:"Waiting for language selection",8:"Language selected",9:"Waiting for credit/debit selection",10:"Credit/Debit selected",11:"Waiting for Pin Entry for ICC",12:"PIN entered for ICC",13:"Waiting for Pin Entry for MSR",14:"PIN entered for MSR",15:"Waiting for tip selection",16:"Tip interaction selected"}),this.bufferTypes=Object.freeze({2:"Device Certificate",50:"Set BIN (MAC)",66:"CSR",161:"EMV data in TLV format, Tag Data (MAC)",162:"RESERVED",163:"RESERVED",164:"EMV data in TLV format, Authorization Request (ARQC)",165:"CA Public Key (MAC)",171:"EMV data in TLV format, Batch Data"}),this.cardDataObj={},this.arqcArriving=!1,this.batchDataArriving=!1,this.arqcTotalLen=0,this.batchTotalLen=0,this.convertStatusToString=Object.freeze({0:"Ok",1:"Empty",2:"Error",4:"Disabled"})}};function J(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Y=class extends Q{constructor(e,t){super(e,t),J(this,"buildSwipeCommand",e=>{let{timeout:t,isFallback:i,toneChoice:a,displayType:s}=e;const r=Object.freeze({swipeidlealternate:0,swipecard:1,pleaseswipe:2,pleaseswipeagain:3,chiperroruseswipe:4});return[1,3,t||60,!0===i?4:void 0!==s?r[s.toLowerCase()]:r.pleaseswipe,void 0!==a?this.toneChoice[a.toLowerCase()]:1]}),J(this,"buildEmvCommand",e=>{let{timeout:t,pinTimeout:i,cardType:a,transactionType:s,cashBack:r,currencyCode:n,toneChoice:o,isQuickChip:c,authorizedAmount:h,emvOptions:d,taxAmount:l,taxPercent:u,tipAmount:m,balanceBeforeGenAC:p,balanceAfterGenAC:v,trxCategoryCode:g}=e;return new Promise((e,f)=>{this.isQuickChipTransaction=!1!==c;const b=this.validateAmount(f);let C=[1,162,t||60,i||20,0,void 0!==o?this.toneChoice[o.toLowerCase()]:1,a?this.cardTypes(a.toLowerCase()):this.cardTypes("all"),void 0!==d?this.emvOptions[d.toLowerCase()]:0];const D=b(h,"authorizedAmount",[0,0,0,0,1,0]);if(void 0===D)return f(D);C=C.concat(D),C=void 0!==s?C.concat(this.transactionTypes[s.toLowerCase()]):C.concat(0);const S=b(r,"cashBack",this.newArrayPartial(0,6));if(void 0===S)return f(S);C=C.concat(S);const y=b(p,"balanceBeforeGenAC",this.newArrayPartial(0,6));if(void 0===y)return f(y);C=C.concat(y);const T=b(v,"balanceAfterGenAC",this.newArrayPartial(0,6));if(void 0===T)return f(T);C=C.concat(T),C=n?C.concat(this.currencyCode[n.toLowerCase()]||this.currencyCode.default):C.concat(this.currencyCode.dollar),C.push(void 0!==g?g:0),C.push(this.isQuickChipTransaction?1:0),C.push(void 0!==m?1:void 0!==r?2:0);const w=b(l,"taxAmount",this.newArrayPartial(0,6));if(void 0===w)return f(w);C=C.concat(w),C=void 0!==u?"number"==typeof u?C.concat(this.convertNumToAmount(u,6)):C.concat(u):C.concat(this.newArrayPartial(0,3)),C=C.concat(this.newArrayPartial(0,3));const A=b(m,"tipAmount",this.newArrayPartial(0,6));return void 0===A?f(A):(C=C.concat(A),C=C.concat(this.newArrayPartial(0,9)),e(C))})}),J(this,"buildPinCommand",e=>{let{languageSelection:t,displayType:i,timeout:a,maxPinLength:s,minPinLength:r,toneChoice:n,waitMessage:o,verifyPin:c,pinBlockFormat:h}=e;const d=Object.freeze({enterpin:0,enterpinamount:1,reenterpinamount:2,reenterpin:3,verifypin:4});return[1,4,a||30,i&&d[i.toLowerCase()]||0,this.findPinLength(s,r),void 0!==n?this.toneChoice[n.toLowerCase()]:1,this.buildPinOptionsByte(t,o,c,h)]}),J(this,"buildArpcCommand",(e,t)=>new Promise((i,a)=>{this.sendBigBlockData(164,e,t).then(()=>i([1,164,...this.newArrayPartial(0,10)])).catch(e=>a(e))})),J(this,"buildTipOrCashbackCmd",e=>{let{timeout:t,commandType:i,toneChoice:a,transactionAmount:s,calculatedTaxAmount:r,taxRate:n,tipSelectionMode:o,leftButton:c,middleButton:h,rightButton:d}=e;return new Promise((e,l)=>{const u=this.validateAmount(l),m=[{prop:i,propName:"commandType",validTypes:["string"],condition:!0,validValues:["tip","cashback"]},{prop:o,propName:"tipSelectionMode",condition:i&&"cashback"!==i.toLowerCase(),validTypes:["string"],validValues:["percent","amount"]},{prop:n,propName:"taxRate",condition:!0,validTypes:["number","object"]}];this.validateRequiredInputs(m).then(()=>{let m=[1,160,void 0!==t?t:30,"tip"===i.toLowerCase()?0:1,"string"==typeof a?this.toneChoice[a.toLowerCase()]:this.toneChoice.onebeep];const p=u(s,"transactionAmount");if(void 0===p)return l(p);m=m.concat(p);const v=u(r,"calculatedTaxAmount");return void 0===v?l(v):(m=m.concat(v),m="number"==typeof n?m.concat(this.convertNumToAmount(n,6)):m.concat(n),m.push(void 0===o||"percent"===o?0:1),m.push(void 0!==c?this.buildN2Format(c):0),m.push(void 0!==h?this.buildN2Format(h):0),m.push(void 0!==d?this.buildN2Format(d):0),m=m.concat(this.newArrayPartial(0,25)),e(m))}).catch(e=>l(e))})}),J(this,"buildDisplayCmd",e=>{let{displayTime:t,messageId:i}=e;return new Promise((e,a)=>void 0===i?a(R("messageId")):e([1,7,void 0!==t?t:15,i]))}),this.toneChoice=Object.freeze({nosound:0,onebeep:1,twobeeps:2}),this.emvOptions=Object.freeze({normal:0,bypasspin:1,forceonline:2,acquirernotavailable:4})}};function X(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Z=class extends Y{constructor(e,t){super(e,t),X(this,"getCardService",()=>new Promise((e,t)=>this.device?this.connectAndCache(2).then(e=>(this.logDeviceState(`[GATT]: Cache AppDataToHostLength Characteristic || ${new Date}`),e.getCharacteristic(this.deviceToHostLen))).then(e=>(this.logDeviceState(`[GATT]: Begin notifications on AppDataToHostLength Characteristic || ${new Date}`),e.startNotifications())).then(e=>(this.logDeviceState(`[GATT]: Add listener to notifications || ${new Date}`),e.removeEventListener("characteristicvaluechanged",this.dataWatcher),e.addEventListener("characteristicvaluechanged",this.dataWatcher),this.cardDataListener=e,this.logDeviceState(`[GATT]: Cache AppDataToHost Characteristic || ${new Date}`),this.cardService.getCharacteristic(this.deviceToHostData))).then(e=>(this.receiveDataChar=e,this.logDeviceState(`[GATT]: Cache AppDataFromHostLength Characteristic || ${new Date}`),this.cardService.getCharacteristic(this.deviceFromHostLen))).then(e=>(this.sendLenToDevice=e,this.logDeviceState(`[GATT]: Cache AppDataFromHost Characteristic || ${new Date}`),this.cardService.getCharacteristic(this.deviceFromHostData))).then(e=>(this.commandCharacteristic=e,window&&(window.removeEventListener("beforeunload",this.onDestroyHandler),window.addEventListener("beforeunload",this.onDestroyHandler)),this.logDeviceState(`[GATT]: Successfully cached all GATT services and characteristics. Returning successful pair to user || ${new Date}`),this.delayPromise(400))).then(()=>e({code:0,message:"Device Open"})).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(D)))),X(this,"dataWatcher",e=>{let t=e.target.value.getUint8(0);return this.logDeviceState(`[NOTIFY: AppDataToHostLength]: ${this.convertArrayToHexString([t])} || ${new Date}`),this.commandSent&&3===t?(this.commandRespAvailable=!0,void(this.commandSent=!1)):this.readCommandResp()}),X(this,"readCommandResp",()=>new Promise((e,t)=>this.receiveDataChar?this.receiveDataChar.readValue().then(e=>this.readValueHandler(e)).then(t=>e(t)).catch(i=>i.code===H.code&&i.message===H.message?(this.logDeviceState(`[INFO]: Read failed due to device being busy. Attempting read again || ${new Date}`),this.delayPromise(100).then(()=>e(this.readCommandResp()))):t(this.buildDeviceErr(i))):t(this.buildDeviceErr(A)))),X(this,"readValueHandler",e=>new Promise(t=>{const i=this.readByteArray(e);if(this.logDeviceState(`[READ: AppDataToHost]: ${this.convertArrayToHexString(i)} || ${new Date}`),i.length)switch(i[0]){case this.reportIds.responseAck:return t(this.parseAckResponse(i));case this.reportIds.deviceStateReport:return t(this.handleDeviceStateReport(i));case this.reportIds.cardStatusReport:return t(this.handleCardStatusReport(i));case this.reportIds.cardDataReport:return t(this.handleCardDataReport(i));case this.reportIds.emvCardholderStatus:return t(this.transactionStatusCallback(this.parseEmvCardholderInteractionStatus(i)));case this.reportIds.emvCompletion:return t(this.transactionStatusCallback(this.parseEmvCompletion(i)));case this.reportIds.bigBlockData:return t(this.handleBigBlockData(i));case this.reportIds.requestSn:return t(this.formatSerialNumber(i));case this.reportIds.deviceConfig:return t(this.parseDeviceConfiguration(i));case this.reportIds.pinResponse:return t(this.transactionCallback(this.parsePinResponse(i)));case this.reportIds.selectionResponse:return t(this.parseCardholderResponse(i));case this.reportIds.displayResp:return t(this.transactionStatusCallback(this.findOperationStatus(i[1])));case this.reportIds.tipCashbackReport:return t(this.parseTipCashbackReport(i));case this.reportIds.delayedAck:const e=this.parseAckResponse(i);return this.transactionStatusCallback({delayedACK:e}),t(e);default:return this.logDeviceState(`[Data Resp]: There is no parser for this data, returning to caller: ${this.convertArrayToHexString(i)} || ${new Date}`),t(this.transactionCallback(i))}else t(i)})),X(this,"handleBigBlockData",e=>{switch(e[2]){case 0:this.handleBigBlockBegin(e);break;case 99:this.maxBlockId=Math.max(...Object.keys(this.rawData))+1,this.handleBigBlockFinish();break;default:this.rawData={...this.rawData,[e[2]]:e.slice(4)}}}),X(this,"handleCardStatusReport",e=>new Promise(t=>(this.transactionStatusCallback(this.parseCardStatusReport(e)),this.swipeHasBegun||this.transactionHasStarted?this.sendCommandWithResp(this.swipeHasBegun?[1,10,0]:[1,171,0]).then(e=>t(this.transactionStatusCallback(e))).catch(e=>this.sendErrToCallback(this.buildDeviceErr(e))):t()))),X(this,"handleDeviceStateReport",e=>{this.dataGathered&&(this.dataGathered=!1,this.transactionCallback({swipeData:this.cardDataObj})),this.transactionStatusCallback(this.parseDeviceStateReport(e))}),X(this,"handleCardDataReport",e=>{this.swipeHasBegun&&(this.swipeHasBegun=!1,this.dataGathered=!0),3!==e.length?this.parseCardData(e):(this.logDeviceState(`[Partial Data] Card Data Report contains no data: ${this.convertArrayToHexString(e)}`),this.logDeviceState())}),X(this,"requestCardSwipe",e=>new Promise((t,i)=>(this.swipeHasBegun=!0,this.cardDataObj={},this.logDeviceState(`[INFO]: MSR transaction has begun || ${new Date}`),this.device.gatt.connected?this.sendCommandWithResp(this.clearSessionCmd).then(t=>(this.transactionStatusCallback(t),this.sendCommandWithResp(this.buildSwipeCommand(e||{})))).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(T))))),X(this,"startTransaction",e=>new Promise((t,i)=>(this.transactionHasStarted=!0,this.cardDataObj={},this.logDeviceState(`[INFO]: EMV transaction has begun || ${new Date}`),this.device.gatt.connected?this.sendCommandWithResp(this.clearSessionCmd).then(t=>(this.transactionStatusCallback(t),this.buildEmvCommand(e||{}))).then(e=>this.sendCommandWithResp(e)).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(T))))),X(this,"requestPinEntry",e=>new Promise((t,i)=>(this.logDeviceState(`[PIN]: Request for PIN entry start || ${new Date}`),this.device.gatt.connected?this.sendCommandWithResp(this.buildPinCommand(e||{})).then(e=>t(e)).catch(e=>i(e)):i(this.buildDeviceErr(T))))),X(this,"sendBigBlockData",(e,t,i)=>new Promise((a,s)=>{let r=[1,16,e,0,255&t];if(t<60){r=r.concat(...this.newArrayPartial(0,60)),this.logDeviceState(`[Send Big Block Data Legacy]: ${this.convertArrayToHexString(r)}`);let n=[1,16,e,1,t,...i];return n.length<65&&(n=n.concat(...this.newArrayPartial(0,65-n.length))),this.sendPinCommand(r).then(()=>this.sendPinCommand(n)).then(()=>a()).catch(e=>s(this.buildDeviceErr(e)))}return r=r.concat([t>>8&255,t>>16&255,t>>24&255,1,...this.newArrayPartial(0,56)]),this.sendExtendedBigBlockData(e,t,i,r).then(()=>a())})),X(this,"sendExtendedBigBlockData",(e,t,i,a)=>new Promise((s,r)=>{const n=Math.ceil(t/60);let o=!1,c=[];this.logDeviceState(`[Send Big Block Data Extended]: ${this.convertArrayToHexString(a)} || ${new Date}`);const h=()=>new Promise((e,t)=>{if(o)return this.delayPromise(500).then(()=>e(h()));const i=c.shift();return i?(o=!0,i.queuedPromise().then(()=>i.resolve()).then(()=>(o=!1,e(h()))).catch(e=>(o=!1,t(i.reject(e))))):e(!0)}),d=e=>new Promise((t,i)=>{c.push({queuedPromise:e,resolve:t,reject:i})});d(()=>new Promise(e=>this.sendPinCommand(a).then(()=>e())));for(let t=0,a=1;a<=n;a++){let s=i.slice(t,t+60),r=[1,16,e,a,s.length,...s];65!==r.length&&(r=r.concat(...this.newArrayPartial(0,65-r.length))),d(()=>new Promise(e=>this.sendPinCommand(r).then(()=>e())))}return this.logDeviceState(`[Send Big Block Data Extended]: Executing queue of ${c.length} commands || ${new Date}`),h().then(e=>s(e)).catch(e=>r(e))})),X(this,"sendArpc",e=>new Promise((t,i)=>this.device.gatt.connected?this.sendArpcBase(e).then(e=>this.delayPromise(200,e)).then(e=>this.sendCommandWithResp(e)).then(e=>(this.logDeviceState(`[Send ARPC Result]: ${this.convertArrayToHexString(e)}`),t(e))).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(T)))),X(this,"setDisplayMessage",e=>new Promise((t,i)=>this.device&&this.device.gatt.connected?this.buildDisplayCmd(e||{}).then(e=>this.sendCommandWithResp(e)).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(T)))),X(this,"sendPinCommand",e=>new Promise((t,i)=>(e="string"==typeof e?this.hexToBytes(e):e,this.logDeviceState(`[AppFromHostLength]: ${this.convertArrayToHexString([e.length])} || ${new Date}`),this.sendLenToDevice?this.sendLenToDevice.writeValue(Uint8Array.of(e.length)).then(()=>(this.logDeviceState(`[AppFromHostData]: ${this.convertArrayToHexString(e)} || ${new Date}`),this.commandSent=!0,t(this.commandCharacteristic.writeValue(Uint8Array.from(e))))).catch(e=>(this.commandSent=!1,i(e))):i(this.buildDeviceErr(w))))),X(this,"sendCommandWithResp",e=>new Promise((t,i)=>this.sendPinCommand(e).then(()=>this.commandRespAvailable?Promise.resolve(!0):this.waitForDeviceResponse(16)).then(t=>t?this.readCommandResp():this.tryCommandAgain(e)).then(e=>(this.commandRespAvailable=!1,t(e))).catch(e=>(this.commandRespAvailable=!1,i(this.buildDeviceErr(e)))))),X(this,"tryCommandAgain",e=>new Promise((t,i)=>this.sendPinCommand(e).then(()=>this.waitForDeviceResponse(5)).then(e=>e?t(this.readCommandResp()):i(this.buildDeviceErr(k))))),X(this,"getDeviceInfo",()=>new Promise((e,t)=>this.device.gatt.connected?this.gatherDeviceInfo().then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(T)))),X(this,"gatherDeviceInfo",()=>new Promise((e,t)=>this.deviceSerialNumber?e({serialNumber:this.deviceSerialNumber,deviceName:this.device.name,deviceType:this.deviceType,isConnected:this.device.gatt.connected}):this.checkIfDeviceIdle().then(()=>this.getDeviceInfoProceed()).then(()=>e({serialNumber:this.deviceSerialNumber,deviceName:this.device.name,deviceType:this.deviceType,isConnected:this.device.gatt.connected})).catch(e=>t(e)))),X(this,"getDeviceInfoProceed",()=>new Promise((e,t)=>{this.sendPinCommand([0,26,5]).then(()=>this.deviceSerialNumber?Promise.resolve(!0):this.waitForSn(7)).then(i=>i?e():t(this.buildDeviceErr(k))).catch(e=>t(e))})),X(this,"checkIfDeviceIdle",()=>new Promise(e=>this.sendCommandWithResp([1,26,5]).then(t=>129===t.code?this.clearSession().then(()=>e(this.checkIfDeviceIdle())):(this.transactionStatusCallback(t),e())))),X(this,"waitForSn",e=>new Promise(t=>{const i=a=>a<e?this.deviceSerialNumber?t(!0):setTimeout(()=>i(a+1),200):t(!1);i(0)})),X(this,"cancelTransaction",()=>new Promise((e,t)=>this.commandCharacteristic?this.sendCommandWithResp([1,5,0]).then(t=>e(t)).catch(e=>t(e)):t(this.buildDeviceErr(y)))),X(this,"clearSession",()=>new Promise((e,t)=>(this.logDeviceState(`[ClearSession]: Request to clear session || ${new Date}`),this.sendLenToDevice?this.sendCommandWithResp(this.clearSessionCmd).then(t=>(this.transactionStatusCallback(t),this.logDeviceState(`[ClearSession]: Received clear session response || ${new Date}`),this.clearInternalState(),e(t))).catch(e=>t(this.buildDeviceErr(e))):e(L)))),X(this,"closePinDevice",()=>new Promise((e,t)=>this.cardDataListener?this.cardDataListener.stopNotifications().then(()=>(this.logDeviceState(`[Close Device]: GATT notifications stopped. Clearing JS cache || ${new Date}`),this.cardDataListener.removeEventListener("characteristicvaluechanged",this.dataWatcher),this.cardDataListener=null,this.clearGattCache(),e(this.disconnect()))).catch(e=>t(e)):this.disconnect().then(()=>(this.logDeviceState(`[Close Device]: Device Closed. Clearing JS cache || ${new Date}`),this.clearGattCache(),e())).catch(e=>t(e)))),X(this,"closeDevice",()=>new Promise((e,t)=>this.device.gatt.connected?this.clearSession().then(()=>this.closePinDevice()).then(()=>e(M)).catch(e=>(this.disconnect(),t(this.buildDeviceErr(e)))):e(M))),X(this,"clearInternalState",()=>{this.commandSent=!1,this.commandRespAvailable=!1,this.dataGathered=!1,this.isQuickChipTransaction=!0}),X(this,"clearGattCache",()=>{this.transactionHasStarted=!1,this.receiveDataChar=null,this.commandCharacteristic=null,this.sendLenToDevice=null,this.clearInternalState(),this.swipeHasBegun=!1,this.transactionHasStarted=!1}),this.transactionCallback=t.transactionCallback||t,this.transactionStatusCallback=t.transactionStatusCallback,this.deviceFromHostLen="0508e6f8-ad82-898f-f843-e3410cb60220",this.deviceFromHostData="0508e6f8-ad82-898f-f843-e3410cb60221",this.deviceToHostLen="0508e6f8-ad82-898f-f843-e3410cb60222",this.deviceToHostData="0508e6f8-ad82-898f-f843-e3410cb60223",this.cardDataListener=null,this.receiveDataChar=null,this.commandCharacteristic=null,this.sendLenToDevice=null,this.commandSent=!1,this.swipeHasBegun=!1,this.transactionHasStarted=!1,this.dataGathered=!1,this.isQuickChipTransaction=!0,this.deviceSerialNumber=null,this.reportIds=Object.freeze({responseAck:1,endSession:2,requestCardSwipe:3,cardStatusReport:34,deviceStateReport:32,cardDataReport:35,emvCardholderStatus:44,bigBlockData:41,emvCompletion:162,requestSn:26,deviceConfig:9,pinResponse:36,selectionResponse:37,displayResp:39,tipCashbackReport:48,delayedAck:42}),this.initialNotification=[0],this.clearSessionCmd=[1,2,0]}};var ee=class extends Z{constructor(e,t){super(e,t),this.deviceType=O}};var te=class extends Z{constructor(e,t){var i,a,s;super(e,t),s=e=>new Promise((t,i)=>this.device.gatt.connected?this.buildTipOrCashbackCmd(e||{}).then(e=>this.sendCommandWithResp(e)).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(deviceNotOpen))),(a="requestTipOrCashback")in(i=this)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,this.deviceType="dynaProGo"}};function ie(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ae=class extends U{constructor(e,t){super(e,t),ie(this,"trackIndices",e=>Object.freeze({track1DecodeStatus:e,track2DecodeStatus:e+1,track3DecodeStatus:e+2,track1Len:e+3,track2Len:e+4,track3Len:e+5,cardEncodeType:e+6,track1Start:e+7,track1End:e+118,track2Start:e+119,track2End:e+230,track3Start:e+231,track3End:e+342,cardStatus:e+343,magnePrintStatusStart:e+344,magnePrintStatusEnd:e+347,magnePrintLen:e+348,magnePrintStart:e+349,magnePrintEnd:e+476,serialNumberStart:e+477,serialNumberEnd:e+492,deviceEncStatusStart:e+493,deviceEncStatusEnd:e+494,ksnStart:e+495,ksnEnd:e+504,track1MaskedLen:e+505,track2MaskedLen:e+506,track3MaskedLen:e+507,track1MaskedStart:e+508,track1MaskedEnd:e+619,track2MaskedStart:e+620,track2MaskedEnd:e+731,track3MaskedStart:e+732,track3MaskedEnd:e+843,encSessionIdStart:e+844,encSessionIdEnd:e+851,track1AbsLen:e+852,track2AbsLen:e+853,track3AbsLen:e+854,magnePrintAbsLen:e+855})),ie(this,"parseHidData",e=>{const t=this.trackIndices(this.offset);let i={};return this.dataNames.forEach(a=>{let s=e.slice(t[`${a}Start`],t[`${a}End`]+1);t.hasOwnProperty(`${a}Len`)&&(s=s.slice(0,e[t[`${a}Len`]])),i="track2Masked"===a?this.formatTrack2Masked(i,a,this.bufferToUtf8(s)):t.hasOwnProperty(`${a}DecodeStatus`)?this.formatTrackWithDecode(i,a,e[t[`${a}DecodeStatus`]],this.convertArrayToHexString(s)):"serialNumber"===a?this.formatSerialNumber(i,s):{...i,[a]:a.toLowerCase().includes("masked")?this.bufferToUtf8(s):this.convertArrayToHexString(s)}}),{swipeData:{...i}}}),ie(this,"formatSerialNumber",(e,t)=>({...e,serialNumber:this.bufferToUtf8(t.length>7?t.slice(0,7):t)})),ie(this,"formatTrack2Masked",(e,t,i)=>({...e,[t]:i,...this.formatExpPAN(i)})),ie(this,"formatTrackWithDecode",(e,t,i,a)=>({...e,[t]:a,[`${t}DecodeStatus`]:0===i?"Ok":"Error",[`${t}DecodeStatusCode`]:i})),this.dataNames=["track1","track2","track3","ksn","magnePrint","magnePrintStatus","serialNumber","encSessionId","track1Masked","track2Masked","track3Masked"],this.offset=3}};function se(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var re=class extends ae{constructor(e,t){super(e,t),se(this,"parseTransactionStatus",e=>{const t=this.readTwoByteLength([e[1],e[2]]);let i=e.slice(3);return i.length===t?this.parseNotifications(i):this.throwLenErr()}),se(this,"parseNotifications",e=>{const t=e.slice(6),i=this.readTwoByteLength([t[0],t[1]]),a=t.slice(2),s=a[0],r=a[2];return a.length===i?{transactionStatus:{statusCode:s,statusMsg:this.TrxStatusEnum[s]||"Status code message not documented",progressCode:r,progressMsg:this.TrxProgressIndicator[r]||"Progress code message not documented"}}:this.throwLenErr()}),this.TrxStatusEnum=Object.freeze({0:"Transaction Started and Idle",1:"Card is Inserted",2:"Error",3:"Transaction Progress Change",4:"Waiting for User Response",5:"Timed Out",6:"Transaction Complete",7:"Cancelled by Host",8:"Card Removed",9:"Contactless Token Detected, Powering Up Card",10:"MSR Swipe Detected"}),this.TrxProgressIndicator=Object.freeze({0:"No transaction in progress",1:"Waiting for cardholder to present payment",2:"Powering up the card",3:"Selecting the application",4:"Waiting for user language selection",5:"Waiting for user application selection",6:"Initiating application",7:"Reading application data",8:"Offline data authentication",9:"Process restrictions",10:"Cardholder verification",11:"Terminal risk management",12:"Terminal action analysis",13:"Generating first application cryptogram",14:"Card action analysis",15:"Online processing",16:"Waiting online processing response",17:"Transaction Complete",18:"Transaction Error",19:"Transaction Approved",20:"Transaction Declined",21:"Transaction Cancelled by MSR Swipe",22:"EMV error - Conditions Not Satisfied",23:"EMV error - Card Blocked",24:"Application selection failed",25:"EMV error - Card Not Accepted",26:"Empty Candidate List",27:"Application Blocked",41:"Contactless Remove Card",42:"Collision Detected",43:"Refer to Mobile Device Prompt",44:"Contactless Transaction Complete",45:"Request Switch to ICC/MSR - Kernel has refused contactless payment",46:"Wrong Card Type (MSD or EMV)",47:"No Application Interchange Profile (Tag 82) Received",49:"Magnetic stripe decoding error.",60:"Magnetic stripe decoding during Technical Fallback. Revert to MSR, powering up but not receiving an Answer to Reset from card.",61:"Magnetic stripe card decoded during MSR Fallback. Device reverted to MSR, but encountered fatal errors.",62:"Magnetic stripe card decoded during a No Fallback MSR read."})}};function ne(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var oe=class extends re{constructor(e,t){super(e,t),ne(this,"parseEmvData",(e,t)=>t?{arqcData:this.convertArrayToHexString(e.slice(11)),arqcDataParsed:this.tlvParser(e.slice(13),!0)}:{signatureRequired:128===e[11]?"CBC-MAC checked in ARQC online response":1===e[11],batchData:this.convertArrayToHexString(e.slice(11)),batchDataParsed:this.tlvParser(e.slice(14),!0)}),ne(this,"parseEmvCommandResponse",e=>{const t=e.slice(4,6);return parseInt(t.join(""))?{code:parseInt(this.convertArrayToHexString(t),16),name:"StartTransactionError",message:this.emvResultCodes[t[1]]||"Transaction Error Message not yet documented"}:{code:0,message:"Success, transaction has started"}}),ne(this,"parseUserSelectionRequest",e=>({userSelectionRequest:{selectionType:0===e[0]?"Application Selection":"Language Selection",timeRemaining:e[1],menuItems:this.convertArrayToHexString(e.slice(2))}})),this.emvResultCodes=Object.freeze({129:"Failure, DUKPT scheme is not loaded",130:"Failure, DUKPT scheme is loaded but all of its keys have been used",131:"Failure, DUKPT scheme is not loaded (Security Level not 3 or 4)",132:"Invalid Total Transaction Time Field",133:"Invalid Card Type Field",134:"Invalid Options Field",135:"Invalid Amount Authorized Field",136:"Invalid Transaction Type Field",137:"Invalid Cash Back Field",138:"Invalid Transaction Currency Code Field",142:"Invalid Reporting Option",143:"Transaction Already In Progress",145:"Invalid Device Serial Number",150:"Invalid System Date and Time"})}};function ce(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var he=class extends oe{constructor(e,t){super(e,t),ce(this,"amountHelper",(e,t,i)=>{switch(typeof e){case"number":return this.convertNumToAmount(e);case"object":return e;case"string":return this.hexToBytes(e);case"undefined":const a="string"==typeof t?t.toLowerCase():"";return"refund"===a||"cashback"===a||"contactlesscashback"===a?this.newArrayPartial(0,6):i;default:return i}}),ce(this,"buildEmvCommand",e=>{let{timeout:t,cardType:i,transactionType:a,cashBack:s,currencyCode:r,reportVerbosity:n,emvOptions:o,authorizedAmount:c}=e,h=[...this.emvCommandBase,t||60,i?this.cardTypes(i.toLowerCase()):3,void 0!==o?this.emvOptions[o.toLowerCase()]:128];return h=h.concat(this.amountHelper(c,a,[0,0,0,0,1,0])),h=a?h.concat(this.transactionTypes[a.toLowerCase()]||0):h.concat(0),h=h.concat(this.amountHelper(s,a,this.newArrayPartial(0,6))),h=r?h.concat(this.currencyCode[r.toLowerCase()]||this.currencyCode.default):h.concat([8,64]),h.push(n?this.statusVerbosity[n.toLowerCase()]||0:1),h}),ce(this,"buildArpcCommand",(e,t)=>[73,e+6,0,0,3,3,e>>8&255,255&e,...t]),ce(this,"buildDateTimeCommand",e=>{let t=[73,34,0,0,3,12,0,28];t=t.concat(this.newArrayPartial(0,17));const i=e instanceof Date?e:new Date;return t.push(this.castDecToHex(i.getMonth()+1)),t.push(this.castDecToHex(i.getDate())),t.push(this.castDecToHex(i.getHours())),t.push(this.castDecToHex(i.getMinutes())),t.push(this.castDecToHex(i.getSeconds())),t.push(0),t.push(this.castDecToHex(i.getFullYear()-2008)),t=t.concat(this.newArrayPartial(0,4)),t}),this.emvOptions=Object.freeze({normal:0,bypasspin:1,forceonline:2,quickchip:128,pinbypassquickchip:129,forceonlinequickchip:130}),this.statusVerbosity=Object.freeze({minimum:0,medium:1,verbose:2}),this.emvCommandBase=[73,25,0,0,3,0,0,19]}};function de(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var le=class extends he{constructor(e,t){super(e,t),de(this,"getCardServiceBase",e=>new Promise((t,i)=>this.device?this.connectAndCache(e).then(e=>e.getCharacteristic(this.cardDataNotification)).then(e=>(this.logDeviceState(`[GATT NOTIFICATIONS]: Request to cache characteristics, start notifications, and attach listeners. || ${new Date}`),e.startNotifications())).then(e=>(e.removeEventListener("characteristicvaluechanged",this.cardDataHandler),e.addEventListener("characteristicvaluechanged",this.cardDataHandler),this.cardDataListener=e,this.cardService.getCharacteristic(this.commandCharId))).then(e=>(this.commandCharacteristic=e,window&&(window.removeEventListener("beforeunload",this.onDestroyHandler),window.addEventListener("beforeunload",this.onDestroyHandler)),this.cardService.getCharacteristic(this.dataReadyId))).then(e=>e.startNotifications()).then(e=>(e.removeEventListener("characteristicvaluechanged",this.dataReadyHandler),e.addEventListener("characteristicvaluechanged",this.dataReadyHandler),this.dataReadyCharacteristic=e,this.cardService.getCharacteristic(this.dataReadStatusId))).then(e=>(this.dataReadStatusCharacteristic=e,this.logDeviceState(`[GATT NOTIFICATIONS]: Success! Cached characteristics, started notifications, and attached listeners. || ${new Date}`),t({code:0,message:"Device Open"}))).catch(e=>i(e)):i(this.buildDeviceErr(D)))),de(this,"dataReadyHandler",e=>{let t=e.target.value,i=this.readByteArray(t);this.logDeviceState(`[Data Ready Listener]: ${this.convertArrayToHexString(i)}`),this.commandSent&&(this.commandRespAvailable=!0,this.commandSent=!1)}),de(this,"cardDataHandler",e=>{let t=e.target.value;if(255!==t.getUint8(0)){let e=this.readByteArray(t);this.rawData={...this.rawData,[e[0]]:e.slice(1)}}else{if(this.maxBlockId=t.getUint8(1),this.checkNotificationLength()){if(this.initialNotification=this.rleFormats[this.rawData[0][0]]?this.decodeRLE(this.rawData[0]):this.rawData[0],0===this.initialNotification[0]||1===this.initialNotification[0])return this.returnToUser(this.transactionCallback)(this.parseHidData(this.buildInitialDataArray(!0)));{const e=this.convertArrayToHexString([this.initialNotification[7],this.initialNotification[8]]);return this.findNotificationType(e)}}this.sendErrToCallback(this.throwLenErr())}}),de(this,"findNotificationType",e=>{let t=this.buildInitialDataArray(!0);switch(e){case"0300":return this.logDeviceState("==Transaction Status=="),this.returnToUser(this.transactionStatusCallback)(this.parseTransactionStatus(t));case"0301":return this.logDeviceState("==Display Message Request=="),this.returnToUser(this.displayCallback)({displayMessage:this.bufferToUtf8(t.slice(11))});case"0302":return this.logDeviceState("==User Selection Request=="),this.logDeviceState(this.convertArrayToHexString(t)),this.returnToUser(this.userSelectionCallback)(this.parseUserSelectionRequest(buildNotification));case"0303":return this.logDeviceState("==ARQC Message=="),this.returnToUser(this.transactionCallback)(this.parseEmvData(t,!0));case"0304":return this.logDeviceState("==Batch Data Message=="),this.returnToUser(this.transactionCallback)(this.parseEmvData(t,!1));default:this.logDeviceState(`Undocumented Notification ID: ${e}`,t),this.logDeviceState(this.convertArrayToHexString(t))}}),de(this,"startTransaction",e=>new Promise((t,i)=>this.device.gatt.connected?this.sendCommandWithResp(this.buildEmvCommand(e||{})).then(a=>{const s=this.parseEmvCommandResponse(a);return 0===s.code?t(s):918!==s.code?i(this.buildDeviceErr(s)):this.setDeviceDateTime().then(()=>this.delayPromise(500)).then(()=>t(this.startTransaction(e)))}).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(T)))),de(this,"readCommandValue",()=>new Promise(e=>this.commandCharacteristic.readValue().then(t=>e(this.readByteArray(t))))),de(this,"checkNotificationLength",()=>Math.max(...Object.keys(this.rawData))===this.maxBlockId-1),de(this,"sendCommandWithResp",e=>new Promise((t,i)=>this.commandCharacteristic?(this.logDeviceState(`Sending command: ${this.convertArrayToHexString(e)}`),this.commandSent=!0,this.commandCharacteristic.writeValue(Uint8Array.from(e)).then(()=>this.commandRespAvailable?Promise.resolve(!0):this.waitForDeviceResponse(15)).then(e=>(this.commandRespAvailable=!1,e?this.readCommandValue():i(this.buildDeviceErr(k)))).then(e=>t(e)).catch(e=>i(this.buildDeviceErr(e)))):i(this.buildDeviceErr(y)))),de(this,"returnToUser",e=>t=>(this.initialNotification=null,this.maxBlockId=null,this.rawData={},e(t))),de(this,"setDeviceDateTime",e=>new Promise((t,i)=>this.device.gatt.connected?this.sendCommandWithResp(this.buildDateTimeCommand(e)).then(e=>t({dateTimeResult:this.resultCodes[this.convertArrayToHexString(e.slice(4,6))]||`${x} result code`})).catch(e=>i(this.buildDeviceErr(e))):i(T))),de(this,"readBatteryLevel",()=>new Promise(e=>this.sendCommandWithResp([69,0]).then(t=>e(t[2])))),de(this,"getDeviceSn",()=>new Promise(e=>this.sendCommandWithResp([0,1,3]).then(e=>this.bufferToUtf8(e.slice(2))).then(t=>e(t)))),de(this,"gatherDeviceInfo",()=>new Promise((e,t)=>{let i,a;this.readBatteryLevel().then(e=>(i=e,this.getDeviceSn())).then(t=>(a=t.substring(0,7),e([i,a]))).catch(e=>t(e))})),de(this,"getDeviceInfo",()=>new Promise((e,t)=>this.device.gatt.connected?this.gatherDeviceInfo().then(t=>e({deviceName:this.device.name,deviceType:this.deviceType,batteryLevel:t[0],serialNumber:t[1],isConnected:this.device.gatt.connected})).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(T)))),de(this,"sendUserSelection",e=>new Promise((t,i)=>this.device.gatt.connected?this.sendCommandWithResp([73,8,0,0,3,2,0,2,0,e]).then(e=>(this.logDeviceState(`[User Selection Resp]: ${this.convertArrayToHexString(e)}`),t({userSelectionResponse:this.resultCodes[this.convertArrayToHexString(e.slice(4,6))]||"Unknown or undocumented result code"}))).catch(e=>i(this.buildDeviceErr(e))):i(this.buildDeviceErr(T)))),de(this,"sendArpc",e=>new Promise((t,i)=>this.sendArpcBase(e).then(e=>this.sendCommandWithResp(e)).then(e=>{this.logDeviceState(`[Send ARPC Resp]: ${this.convertArrayToHexString(e)}`);const i=e.length>5?this.convertArrayToHexString(e.slice(4,6)):"";return t({sendArpcResponse:this.resultCodes[i]||"Unknown or undocumented result code"})}).catch(e=>i(this.buildDeviceErr(e))))),de(this,"clearGattCache",()=>{window&&window.removeEventListener("beforeunload",this.onDestroyHandler),this.maxBlockId=null,this.initialNotification=null,this.rawData={},this.dataReadStatusCharacteristic=null,this.dataReadyCharacteristic=null,this.commandCharacteristic=null,this.cardDataListener=null}),de(this,"ceaseNotifications",()=>new Promise(e=>this.cardDataListener?this.cardDataListener.stopNotifications().then(()=>(this.cardDataListener.removeEventListener("characteristicvaluechanged",this.cardDataHandler),this.dataReadStatusCharacteristic.stopNotifications())).then(()=>(this.dataReadyCharacteristic.removeEventListener("characteristicvaluechanged",this.dataReadyHandler),e())):e())),de(this,"cancelTransaction",()=>new Promise((e,t)=>this.commandCharacteristic?this.sendCommandWithResp(this.cancelEmvCommand).then(t=>e({cancelResponse:this.resultCodes[this.convertArrayToHexString(t.slice(4,6))]||`${x} result code`})).catch(e=>t(this.buildDeviceErr(e))):t(this.buildDeviceErr(y)))),de(this,"closeDevice",()=>new Promise((e,t)=>this.device.gatt.connected?this.ceaseNotifications().then(()=>(this.clearGattCache(),this.disconnect())).then(()=>e({code:0,message:"Device Closed"})).catch(e=>t(this.buildDeviceErr(e))):e({code:0,message:"Device Closed"}))),de(this,"clearSession",()=>new Promise((e,t)=>this.device&&this.device.gatt.connected?e("SCRA devices do not carry a session"):t(this.buildDeviceErr(T)))),this.transactionCallback=t.transactionCallback||t,this.displayCallback=t.displayCallback,this.transactionStatusCallback=t.transactionStatusCallback,this.userSelectionCallback=t.userSelectionCallback,this.maxBlockId=null,this.initialNotification=null,this.rawData={},this.dataReadStatusCharacteristic=null,this.dataReadyCharacteristic=null,this.commandCharacteristic=null,this.cardDataListener=null,this.cardDataNotification="0508e6f8-ad82-898f-f843-e3410cb60201",this.commandCharId="0508e6f8-ad82-898f-f843-e3410cb60200",this.dataReadyId="0508e6f8-ad82-898f-f843-e3410cb60202",this.dataReadStatusId="0508e6f8-ad82-898f-f843-e3410cb60203",this.resultCodes=Object.freeze({"0000":"Success","038B":"Invalid Selection Status","038C":"Invalid Selection Result","038D":"Failure, no transaction currently in progress","038F":"Failure, transaction already in progress","0390":"Device has no keys","0391":"Invalid device serial number","0392":"Invalid type of MAC field","0396":"Invalid date/time data","0397":"Invalid MAC"}),this.cancelEmvCommand=Uint8Array.of(73,6,0,0,3,4,0,0)}};function ue(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var me=class extends le{constructor(e,t){super(e,t),ue(this,"getCardService",()=>new Promise((e,t)=>this.getCardServiceBase(1).then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))))),ue(this,"requestCardSwipe",()=>new Promise((e,t)=>this.device.gatt.connected?e({code:0,message:"Success, listening for swipe"}):t(this.buildDeviceErr(T)))),this.deviceType="eDynamo"}};function pe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ve=class extends le{constructor(e,t){super(e,t),pe(this,"getCardService",()=>new Promise((e,t)=>this.getCardServiceBase().then(t=>e(t)).catch(e=>t(this.buildDeviceErr(e))))),pe(this,"requestCardSwipe",()=>new Promise((e,t)=>this.device.gatt.connected?this.sendCommandWithResp(this.setHeadAlwaysOn).then(i=>0===parseInt(i)?e({code:0,message:"Success, listening for swipe"}):t(this.buildDeviceErr(E))).catch(e=>t(e)):t(this.buildDeviceErr(T)))),this.setHeadAlwaysOn=[88,1,1],this.deviceType="tDynamo"}};const ge=e=>()=>Promise.resolve(`${e?"SCRA":"PinPad"} devices do not use this command`);class fe{constructor(e){let{getCardService:t,startTransaction:i,cancelTransaction:a,sendCommandWithResp:s,clearSession:r,closeDevice:n,getDeviceInfo:o,requestCardSwipe:c,isDeviceConnected:h,disconnect:d,requestPinEntry:l,setDisplayMessage:u,sendUserSelection:m,sendArpc:p,setDeviceDateTime:v,requestTipOrCashback:g}=e;this.openDevice=t,this.startTransaction=i,this.cancelTransaction=a,this.sendCommand=s,this.clearSession=r,this.closeDevice=n,this.deviceInfo=o,this.requestCardSwipe=c,this.isDeviceOpen=h,this.forceDisconnect=d,this.requestPinEntry=l||ge(!0),this.setDisplayMessage=u||ge(!0),this.sendUserSelection=m||ge(),this.sendArpcResponse=p||(()=>Promise.resolve("Feature Pending Completion")),this.setDeviceDateTime=v||ge(),this.requestTipOrCashback=g||(()=>Promise.resolve("This device does not use this command"))}}const be={eDynamo:(e,t)=>new me(e,t),tDynamo:(e,t)=>new ve(e,t),dynaProGo:(e,t)=>new te(e,t),[O]:(e,t)=>new ee(e,t)},Ce=(e,t,i)=>({id:e.id,name:e.name,deviceType:i,deviceInterface:new fe(be[i](e,t))}),De=new RegExp(/^eDynamo-/),Se=new RegExp(/^tDynamo-/),ye=new RegExp(/^DPMini/),Te=new RegExp(/^DPG/),we=(e,t)=>{if(t){const e=(e=>{const t=["dynaProGo",O,"eDynamo","tDynamo"];let i="";for(let a=0;a<t.length;a++)if(e.toLowerCase()===t[a].toLowerCase()){i=t[a];break}return i})(t);if(e)return e}return i=e,Se.test(i)?"tDynamo":De.test(i)?"eDynamo":Te.test(i)?"dynaProGo":ye.test(i)?O:"";var i},Ae=(e,t,i)=>new Promise((a,n)=>{if("object"==typeof e&&void 0===e.transactionCallback)return n("When providing multiple callbacks in an object, 'transactionCallback' must be provided");e=(e=>{const t="function"==typeof(e=e||(e=>{console.warn("Callback not provided to 'scanForDevices' function. Please provide at least one callback function to this method"),console.log("transactionCallback data: ",e)})),i=i=>e[i]?e[i]:t?e:e.transactionCallback;return e.errorCallback=e.errorCallback||(e=>console.error("[MagensaBluetooth Internal Error]: ",e)),e.transactionStatusCallback=e.transactionStatusCallback||i("transactionStatusCallback"),e.userSelectionCallback=e.userSelectionCallback||i("userSelectionCallback"),e.displayCallback=e.displayCallback||i("displayCallback"),e.disconnectHandler=e.disconnectHandler||i("transactionCallback"),e})(e);const o=t?(e=>({filters:[{namePrefix:e}],optionalServices:["0508e6f8-ad82-898f-f843-e3410cb60104","0508e6f8-ad82-898f-f843-e3410cb60103","0508e6f8-ad82-898f-f843-e3410cb60101","0508e6f8-ad82-898f-f843-e3410cb60202","device_information"],keepRepeatedDevices:!1,acceptAllAdvertisements:!1}))(t):r;return navigator.bluetooth.requestDevice(o).then(t=>{const s=we(t.name,i);return s?a(Ce(t,e,s)):(r=t,new Promise((e,t)=>{let i;return r.gatt.connect().then(e=>e.getPrimaryService("device_information")).then(e=>e.getCharacteristic("model_number_string")).then(e=>e.readValue()).then(e=>(i=new TextDecoder("utf-8").decode(e).trim(),Promise.resolve(r.gatt.disconnect()))).then(()=>e(i)).catch(i=>i.code===b.errorCode&&i.name===b.errorName&&i.message.includes("0000180a-0000-1000-8000-00805f9b34fb")?r.gatt.connected?Promise.resolve(r.gatt.disconnect()).then(()=>e("dynaProGo")):e("dynaProGo"):t(i))})).then(i=>i?a(Ce(t,e,i)):n("Selected device is not supported")).catch(e=>n(e));var r}).catch(e=>n("object"==typeof e?new s(e):"Selected device is not supported"))})}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZXJyb3JIYW5kbGVyL2FwaUVycm9yLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2NvbmZpZ3VyYXRpb25zL2luZGV4LmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3BhcnNlcnMvc3dpcGVQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvcGFyc2Vycy9lbXZQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZXJyb3JIYW5kbGVyL2xlbmd0aEVycm9yLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2Vycm9ySGFuZGxlci9kZXZpY2VFcnJvci5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9lcnJvckhhbmRsZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy9iYXNlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvdXRpbHMvcGluVmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy91dGlscy9waW5VdGlscy5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9wYXJzZXJzL3BpbkNvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvcGFyc2Vycy9waW5TdGF0dXNQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvY29tbWFuZEJ1aWxkZXJzL3BpbkNtZEJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy9waW5QYWQuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy9keW5hUHJvTWluaS5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9kZXZpY2VzL2R5bmFQcm9Hby5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9wYXJzZXJzL3NjcmFTd2lwZVBhcnNlci5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9wYXJzZXJzL3RyeFN0YXR1c1BhcnNlci5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9wYXJzZXJzL3NjcmFFbXZQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvY29tbWFuZEJ1aWxkZXJzL3NjcmFDbWRCdWlsZGVyLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2RldmljZXMvc2NyYS5qcyIsIndlYnBhY2s6Ly9tYWdlbnNhLWJsdWV0b290aC8uL3NyYy9kZXZpY2VzL2VEeW5hbW8uanMiLCJ3ZWJwYWNrOi8vbWFnZW5zYS1ibHVldG9vdGgvLi9zcmMvZGV2aWNlcy90RHluYW1vLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3V0aWxzL2luc3RhbmNpYXRlRGV2aWNlLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL3V0aWxzL2lkZW50aWZ5RGV2aWNlLmpzIiwid2VicGFjazovL21hZ2Vuc2EtYmx1ZXRvb3RoLy4vc3JjL2RldmljZUVudHJ5LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcGlFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsInN1cGVyIiwidGhpcyIsImFsbERldmljZUNvbmZpZyIsImZpbHRlcnMiLCJzZXJ2aWNlcyIsIm9wdGlvbmFsU2VydmljZXMiLCJrZWVwUmVwZWF0ZWREZXZpY2VzIiwiYWNjZXB0QWxsQWR2ZXJ0aXNlbWVudHMiLCJVdGlsaXRpZXMiLCJsb2dJbmZvIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImRldGFpbCIsImFycmF5IiwiQXJyYXkiLCJmcm9tIiwiYnl0ZSIsInRvU3RyaW5nIiwic2xpY2UiLCJqb2luIiwidG9VcHBlckNhc2UiLCJ0d29CeXRlcyIsImFycmF5QnVmZmVyIiwiVGV4dERlY29kZXIiLCJkZWNvZGUiLCJVaW50OEFycmF5IiwibnVtIiwicGFyc2VJbnQiLCJyZXBldGl0aW9ucyIsImZpbGwiLCJkYXRhVmlldyIsInZhbHVlQXJyYXkiLCJieXRlTGVuZ3RoIiwicHVzaCIsImdldFVpbnQ4IiwiaGV4U3RyaW5nIiwiYXNjaWlSZXNwIiwibGVuZ3RoIiwic3Vic3RyIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwic3Vic3RyaW5nIiwidHJpbSIsImhleFN0ciIsImJ5dGVzIiwiY3VycmVudCIsImFycmF5U2VnbWVudCIsImluaXRpYWxMZW5ndGgiLCJyZXR1cm5TZWdtZW50IiwibmV4dEluZGV4IiwibmV3QXJyYXlQYXJ0aWFsIiwiY2hlY2tGb3JSbGUiLCJyZXR1cm5BcnJheSIsIk1hdGgiLCJtaW4iLCJrZXlzIiwicmF3RGF0YSIsIm1heEJsb2NrSWQiLCJjb25jYXQiLCJjaGVja1JsZSIsInJsZUZvcm1hdHMiLCJpbml0aWFsTm90aWZpY2F0aW9uIiwiZGVjb2RlUkxFIiwiY3VycmVuY3lTdHJpbmciLCJjdXJyZW5jeSIsInRvTG93ZXJDYXNlIiwib3B0aW9uYWxMZW4iLCJzdHJpbmdOdW0iLCJyZXR1cm5BcnIiLCJkZWxheSIsInBhc3NlZFZhbHVlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiYnl0ZUFycmF5IiwiY29udmVydEFycmF5VG9IZXhTdHJpbmciLCJmcmVlemUiLCIwIiwiU3dpcGVQYXJzZXIiLCJzdHJpbmdEYXRhIiwiYnVmZmVyVG9VdGY4IiwiaW5kZXhPZiIsImZvcm1hdHRlZFN0cmluZyIsInNwbGl0RXhwUEFOIiwibWFza2VkUEFOIiwiTGFzdDQiLCJleHBpcmF0aW9uRGF0ZSIsInNlcnZpY2VDb2RlIiwiZXhwUEFOIiwicmVwbGFjZSIsInNwbGl0IiwiZXhwIiwiZm9ybWF0dGVkRXhwIiwiRW12UGFyc2VyIiwiZGF0YSIsImlzTXNyIiwiZGF0YUxlbmd0aCIsImlUYWciLCJieXRlVmFsdWUiLCJsZW5ndGhWYWx1ZSIsInJlc3VsdCIsImlUTFYiLCJiVGFnIiwidGFnQnl0ZXMiLCJUYWdCdWZmZXIiLCJiTW9yZVRhZ0J5dGVzIiwibW9yZVRhZ0J5dGVzRmxhZzEiLCJtb3JlVGFnQnl0ZXNGbGFnMiIsIm1vcmVMZW5ndGhGbGFnIiwibkxlbmd0aEJ5dGVzIiwib25lQnl0ZUxlbmd0aE1hc2siLCJpTGVuIiwidGFnQnl0ZSIsImxlbiIsInZhbHVlQnl0ZXMiLCJoZXhPckFzY2lpRm9ybWF0dGVyIiwiY29uc3RydWN0ZWRGbGFnIiwidHJ4U3RhdHVzVG9TdHJpbmciLCJoZXhUb0FzY2lpIiwiTGVuZ3RoRXJyb3IiLCJEZXZpY2VFcnJvciIsIkVycm9ySGFuZGxlciIsImNhbGxiYWNrcyIsImVyciIsIkRPTUV4Y2VwdGlvbiIsImVycm9yQ2FsbGJhY2siLCJub3RGb3VuZE9iaiIsImVycm9yQ29kZSIsImVycm9yTmFtZSIsImFwaU5ldHdvcmtFcnIiLCJkZXZpY2VOb3RGb3VuZCIsImdhdHRTZXJ2ZXJOb3RDb25uZWN0ZWQiLCJjb21tYW5kTm90U2VudCIsImRldmljZU5vdE9wZW4iLCJjb21tYW5kTm90U2VudEZyb21Ib3N0IiwicmVhZEZhaWxlZCIsInJlc3BvbnNlTm90UmVjZWl2ZWQiLCJnZXRTZXJ2aWNlRmFpbCIsImNvbW1hbmROb3RBY2NlcHRlZCIsIm1pc3NpbmdSZXF1aXJlZEZpZWxkcyIsImZpZWxkTmFtZSIsIndyb25nSW5wdXRUeXBlcyIsImFjY2VwdGFibGVUeXBlcyIsInByb3BlcnR5TmFtZSIsIndyb25nSW5wdXRWYWx1ZXMiLCJhY2NlcHRhYmxlVmFscyIsImRwTWluaSIsImNvbmZpZ1N0ciIsInVua25vd25VbmRvYyIsIm5vU2Vzc2lvblRvQ2xlYXIiLCJnYXR0QnVzeSIsInN1Y2Nlc3NmdWxDbG9zZSIsImNhcmRUeXBlQWxsIiwiY2FyZFR5cGVzT2JqIiwiRGV2aWNlQmFzZSIsImRldmljZSIsImNhcmRUeXBlU3RyIiwiZGV2aWNlVHlwZSIsInJlamVjdCIsImxvZ0RldmljZVN0YXRlIiwiRGF0ZSIsImdhdHQiLCJjb25uZWN0IiwidGhlbiIsInNlcnZlciIsImdhdHRTZXJ2ZXIiLCJidWlsZERldmljZUVyciIsImNvbm5lY3RlZCIsImRpc2Nvbm5lY3QiLCJzZXJ2aWNlSW5kZXgiLCJmaW5kUHJpbWFyeVNlcnZpY2UiLCJzZXJ2aWNlIiwiY2F0Y2giLCJnZXRQcmltYXJ5U2VydmljZSIsImRldmljZVVVSURzIiwiY2FyZFNlcnZpY2UiLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdEhhbmRsZXIiLCJvcHRpb25hbEluZGV4IiwidHJ5VG9Db25uZWN0IiwidHJ5Q291bnQiLCJpbm5lclJlc29sdmUiLCJpbm5lclJlamVjdCIsImNhY2hlQ2FyZFNlcnZpY2VCYXNlIiwiY2FjaGVTZXJ2aWNlUmVzcCIsImNsZWFyR2F0dENhY2hlIiwiYXJwY1Jlc3AiLCJkYXRhTGVuIiwiaW5wdXREYXRhIiwiaGV4VG9CeXRlcyIsImJ1aWxkQXJwY0NvbW1hbmQiLCJtYXhUcmllcyIsIndhaXRGb3JSZXNwb25zZSIsInRyeU51bWJlciIsImNvbW1hbmRSZXNwQXZhaWxhYmxlIiwiZXZlbnQiLCJkaXNjb25uZWN0Q2FsbGJhY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3VycmVuY3lDb2RlIiwidHJhbnNhY3Rpb25UeXBlcyIsIlBpblZhbGlkYXRpb24iLCJjYWxsQmFja3MiLCJwYXJlbnRSZWplY3QiLCJhbW91bnQiLCJwcm9wTmFtZSIsImRlZmF1bHRWYWwiLCJjb252ZXJ0TnVtVG9BbW91bnQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwicHJvcCIsInZhbGlkVHlwZXMiLCJ2YWxpZFZhbHVlcyIsImNvbmRpdGlvbiIsInR5cGVJc1ZhbGlkIiwiaW5keCIsInZhbHNBcmVWYWxpZCIsImluZGV4IiwiUGluVXRpbHMiLCJiaW5hcnlOdW0iLCJudWxsVGVybWluYXRlZEFycmF5IiwidGFyZ2V0SW5kZXgiLCJtYXhMZW4iLCJtaW5MZW4iLCJtYXhMZW5ndGgiLCJtaW5MZW5ndGgiLCJsYW5ndWFnZVNlbGVjdGlvbiIsIndhaXRNZXNzYWdlIiwidmVyaWZ5UGluIiwicGluQmxvY2tGb3JtYXQiLCJsYW5ndWFnZVByb21wdHMiLCJiaW5hcnlSZXN1bHQiLCJkaXNhYmxlZCIsImhleE51bSIsIlBhcnNlUGluQ29uZmlnIiwiY29uZmlnQXJyIiwiZmlyc3REZXZpY2VDb250cm9sQnl0ZSIsImRlY2ltYWxUb0JpbmFyeSIsInNlY29uZERldmljZUNvbnRyb2xCeXRlIiwibWFza0NvbmZpZ3VyYXRpb25CeXRlIiwibXNyQ29uZmlndXJhdGlvbkJ5dGUiLCJtYXNrQ2hhcmFjdGVyIiwiZmluZE1hc2tDaGFyYWN0ZXIiLCJsZWFkaW5nVW5tYXNrZWRMZW5ndGgiLCJ0cmFpbGluZ1VubWFza2VkTGVuZ3RoIiwiZW12TDJJY3NDb25maWciLCJlbXZMMkNvbmZpZ09wdGlvbnMiLCJjb250YWN0bGVzc0NvbmZpZyIsImNvbnRhY3RsZXNzQnl0ZSIsImNvbnRhY3RsZXNzU3VwcG9ydCIsImVuYWJsZWRCcmFuZHMiLCJjb250YWN0bGVzc0d1aUNvbnRyb2xzIiwibnVtQ2hhciIsIm51bUNoYXJUb0hleCIsIm51bUNoYXJUb0FzY2lpIiwiZGV2aWNlQ29udHJvbEJ5dGUiLCJyZXF1aXJlTXV0dWFsQXV0aCIsInN0cmluZ051bVRvQm9vbCIsIm1zckVuY3J5cHRpb25WYXJpYW50IiwiaXNDbGVhclRleHRFbmFibGVkIiwiaXNCZWVwZXJNb2RlRW5hYmxlZCIsImlzQml0bWFwTG9ja2VkIiwiaXNDb25maWd1cmF0aW9uTG9ja2VkIiwiZGV2aWNlQ3RybEJ5dGUiLCJpc0FycGNNYWNFbmFibGVkIiwiaXNGaW5hbmNpYWxJY2NDYXJkVHlwZVJlcG9ydGluZ0VuYWJsZWQiLCJhcnFjQmF0Y2hEYXRhT3V0cHV0Rm9ybWF0IiwibWFza0NvbmZpZ0J5dGUiLCJpc0lzb01hc2tFbmFibGVkIiwiaXNDaGVja0RpZ2l0RW5hYmxlZCIsImlzTXMyUG9pbnQwRW5hYmxlZCIsIm1zckNvbmZpZ0J5dGUiLCJpc0FBTVZBY2FyZEVuYWJsZWQiLCJ0cmFjazNEYXRhIiwidHJhY2tEYXRhT3B0aW9ucyIsInRyYWNrMkRhdGEiLCJ0cmFjazFEYXRhIiwiUGluU3RhdHVzUGFyc2VyIiwiY2FyZEhvbGRlclN0YXR1c0J5dGUiLCJlbXZDYXJkaG9sZGVyU3RhdHVzIiwiY2FyZGhvbGRlclN0YXR1c0lkcyIsInN0YXR1c0lkIiwib3BlcmF0aW9uU3RhdHVzIiwiZGlzcGxheVN0YXR1cyIsImZpbmRPcGVyYXRpb25TdGF0dXMiLCJjb21tYW5kUmVzcCIsImVtdkNvbXBsZXRpb25SZXNwb25zZSIsImRldmljZVNlcmlhbE51bWJlciIsImZpbmROdWxsVGVybWluYXRlZFN0cmluZyIsImJpZ0Jsb2NrRGF0YSIsImFycWNBcnJpdmluZyIsImFycWNUb3RhbExlbiIsInJlYWRUd29CeXRlTGVuZ3RoIiwiYmF0Y2hEYXRhQXJyaXZpbmciLCJiYXRjaFRvdGFsTGVuIiwidHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayIsImJ1ZmZlclR5cGUiLCJidWZmZXJUeXBlcyIsImFycWMiLCJidWlsZEluaXRpYWxEYXRhQXJyYXkiLCJkYXRhRm9yQXJxYyIsImNhcmREYXRhT2JqIiwiYXJxY0RhdGEiLCJhcnFjRGF0YVBhcnNlZCIsInRsdlBhcnNlciIsImlzUXVpY2tDaGlwVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbkNhbGxiYWNrIiwiYmF0Y2giLCJkYXRhRm9yQmF0Y2giLCJ0cmFuc2FjdGlvbkhhc1N0YXJ0ZWQiLCJwYXJzZWRCYXRjaERhdGEiLCJpc1NpZ25hdHVyZVJlcXVpcmVkIiwiZmluZCIsInRhZyIsImJhdGNoRGF0YSIsImJhdGNoRGF0YVBhcnNlZCIsInNpZ25hdHVyZVJlcXVpcmVkIiwiaGFuZGxlQXJxY0JpZ0Jsb2NrRmluaXNoIiwiaGFuZGxlQmF0Y2hCaWdCbG9ja0ZpbmlzaCIsImNhcmRob2xkZXJSZXNwIiwiZmluZEVtdkNhcmRob2xkZXJTdGF0dXMiLCJpc0Ftb3VudENvbmZpcm1lZCIsImFwcGxpY2F0aW9uT3JMYWJlbE5hbWUiLCJtZXRob2RTZWxlY3RlZCIsInRsdkRhdGEiLCJwYXJzZWRUbHZEYXRhIiwidW5kb2N1bWVudGVkRGF0YSIsImNhcmRTdGF0dXMiLCJjYXJkVHlwZSIsImNhcmRUeXBlc0VudW0iLCJhY2tSZXNwIiwiQUNLU1RTIiwiY29tbWFuZFR5cGUiLCJwaW5Db21tYW5kSWRzIiwiZGV2aWNlUmVzcCIsImRldmljZVN0YXRlIiwic2Vzc2lvblN0YXRlIiwicGFyc2VTZXNzaW9uU3RhdGUiLCJkZXZpY2VTdGF0dXMiLCJwYXJzZURldmljZVN0YXR1cyIsImRldmljZUNlcnRTdGF0dXMiLCJwYXJzZUNlcnRTdGF0dXMiLCJoYXJkd2FyZVN0YXR1cyIsInBhcnNlSGFyZHdhcmVTdGF0dXMiLCJhZGRpdGlvbmFsSW5mbyIsInBhcnNlQWRkaXRpb25hbEluZm8iLCJiaW5hcnlTdHJpbmciLCJwb3dlckRpZENoYW5nZSIsImNhcmREYXRhSXNBdmFpbGFibGUiLCJwYW5QYXJzZWRGcm9tQ2FyZCIsImV4dGVybmFsUGFuU2VudCIsImFtb3VudFdhc1NlbnQiLCJtc3JDcmxDZXJ0RXhpc3RzIiwicGluQ3JsQ2VydEV4aXN0cyIsIm1mZ1VuYmluZENlcnRFeGlzdHMiLCJtc3JDYUNlcnRFeGlzdHMiLCJwaW5DYUNlcnRFeGlzdHMiLCJkZXZpY2VDYUNlcnRFeGlzdHMiLCJkZXZpY2VDZXJ0RXhpc3RzIiwicGluT3JNc3IiLCJwaW5LZXlTdGF0dXMiLCJrZXlTdGF0dXNFbnVtIiwibXNyS2V5U3RhdHVzIiwidGFtcGVyRGV0ZWN0ZWQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJkZXZpY2VFcnJvckRldGVjdGVkIiwiSUUzX29ubHkiLCJTUkVEIiwiTWFnSGVhZElzUHJvZ3JhbW1lZCIsInRhbXBlclNlbnNvcnNBcmVBY3RpdmUiLCJJQ0NfQWNxdWlyZXJNYXN0ZXJLZXlJc0luamVjdGVkIiwiSUNDX1Nlc3Npb25LZXlJc0FjdGl2ZSIsIkNBUEtfRW12RGF0YWJhc2VJc0NvcnJ1cHRlZCIsIkVtdlRlcm1pbmFsRGF0YWJhc2VJc0NvcnJ1cHRlZCIsImNhcmRJc1ByZXNlbnRJbkNoaXBDYXJkQ29ubmVjdG9yIiwicGFydGlhbE5vdGlmaWNhdGlvbiIsInRyYWNrS2V5IiwiY2FyZERhdGFJZHMiLCJmb3JtYXRFeHBQQU4iLCJrc24iLCJtYWduZVByaW50U3RhdHVzIiwiY29udmVydFN0YXR1c1RvU3RyaW5nIiwicGluUmVzcCIsInBpbkRhdGEiLCJwaW5Lc24iLCJlbmNyeXB0ZWRQaW5CbG9jayIsInNlbGVjdGlvblJlc3AiLCJkZXZpY2VLZXlzIiwia2V5UHJlc3NlZCIsInJlcG9ydCIsInRpcENhc2hiYWNrUmVwb3J0IiwicmVwb3J0TW9kZSIsInRheCIsInRheFJhdGUiLCJ0aXBPckNhc2hiYWNrQW1vdW50IiwiUGluQ21kQnVpbGRlciIsInRpbWVvdXQiLCJpc0ZhbGxiYWNrIiwidG9uZUNob2ljZSIsImRpc3BsYXlUeXBlIiwiZGlzcGxheVR5cGVzIiwicGxlYXNlc3dpcGUiLCJwaW5UaW1lb3V0IiwidHJhbnNhY3Rpb25UeXBlIiwiY2FzaEJhY2siLCJpc1F1aWNrQ2hpcCIsImF1dGhvcml6ZWRBbW91bnQiLCJlbXZPcHRpb25zIiwidGF4QW1vdW50IiwidGF4UGVyY2VudCIsInRpcEFtb3VudCIsImJhbGFuY2VCZWZvcmVHZW5BQyIsImJhbGFuY2VBZnRlckdlbkFDIiwidHJ4Q2F0ZWdvcnlDb2RlIiwidmFsaWRhdG9yIiwidmFsaWRhdGVBbW91bnQiLCJjb21tYW5kIiwiY2FyZFR5cGVzIiwiYXV0aEFtb3VudCIsImNhc2hiYWNrQW1udCIsImJhbGFuY2VCZWZvcmVBbW50IiwiYmFsYW5jZUFmdGVyQW1udCIsImRvbGxhciIsInRheEFtbnQiLCJ0aXBBbW50IiwibWF4UGluTGVuZ3RoIiwibWluUGluTGVuZ3RoIiwicGluRGlzcGxheU9wdGlvbnMiLCJmaW5kUGluTGVuZ3RoIiwiYnVpbGRQaW5PcHRpb25zQnl0ZSIsInNlbmRCaWdCbG9ja0RhdGEiLCJ0cmFuc2FjdGlvbkFtb3VudCIsImNhbGN1bGF0ZWRUYXhBbW91bnQiLCJ0aXBTZWxlY3Rpb25Nb2RlIiwibGVmdEJ1dHRvbiIsIm1pZGRsZUJ1dHRvbiIsInJpZ2h0QnV0dG9uIiwicHJvcHNUb1ZhbGlkYXRlIiwidmFsaWRhdGVSZXF1aXJlZElucHV0cyIsInRpcENhc2hiYWNrQ21kIiwib25lYmVlcCIsInRyeEFtbnQiLCJjYWxjVGF4QW1udCIsImJ1aWxkTjJGb3JtYXQiLCJkaXNwbGF5VGltZSIsIm1lc3NhZ2VJZCIsIlBpblBhZCIsInBhcmVudFJlc29sdmUiLCJjb25uZWN0QW5kQ2FjaGUiLCJnZXRDaGFyYWN0ZXJpc3RpYyIsImRldmljZVRvSG9zdExlbiIsImNoYXJhY3RlcmlzdGljIiwic3RhcnROb3RpZmljYXRpb25zIiwiZGF0YVdhdGNoZXIiLCJjYXJkRGF0YUxpc3RlbmVyIiwiZGV2aWNlVG9Ib3N0RGF0YSIsInJlY2VpdmVEYXRhQ2hhciIsImRldmljZUZyb21Ib3N0TGVuIiwic2VuZExlblRvRGV2aWNlIiwiZGV2aWNlRnJvbUhvc3REYXRhIiwiY29tbWFuZENoYXJhY3RlcmlzdGljIiwib25EZXN0cm95SGFuZGxlciIsImRlbGF5UHJvbWlzZSIsImRhdGFFdmVudCIsInRhcmdldCIsImNvbW1hbmRTZW50IiwicmVhZENvbW1hbmRSZXNwIiwicmVhZFZhbHVlIiwicmVhZFZhbHVlSGFuZGxlciIsInJlYWRCeXRlQXJyYXkiLCJyZXBvcnRJZHMiLCJyZXNwb25zZUFjayIsInBhcnNlQWNrUmVzcG9uc2UiLCJkZXZpY2VTdGF0ZVJlcG9ydCIsImhhbmRsZURldmljZVN0YXRlUmVwb3J0IiwiY2FyZFN0YXR1c1JlcG9ydCIsImhhbmRsZUNhcmRTdGF0dXNSZXBvcnQiLCJjYXJkRGF0YVJlcG9ydCIsImhhbmRsZUNhcmREYXRhUmVwb3J0IiwicGFyc2VFbXZDYXJkaG9sZGVySW50ZXJhY3Rpb25TdGF0dXMiLCJlbXZDb21wbGV0aW9uIiwicGFyc2VFbXZDb21wbGV0aW9uIiwiaGFuZGxlQmlnQmxvY2tEYXRhIiwicmVxdWVzdFNuIiwiZm9ybWF0U2VyaWFsTnVtYmVyIiwiZGV2aWNlQ29uZmlnIiwicGFyc2VEZXZpY2VDb25maWd1cmF0aW9uIiwicGluUmVzcG9uc2UiLCJwYXJzZVBpblJlc3BvbnNlIiwic2VsZWN0aW9uUmVzcG9uc2UiLCJwYXJzZUNhcmRob2xkZXJSZXNwb25zZSIsImRpc3BsYXlSZXNwIiwicGFyc2VUaXBDYXNoYmFja1JlcG9ydCIsImRlbGF5ZWRBY2siLCJkZWxheWVkQUNLIiwiaGFuZGxlQmlnQmxvY2tCZWdpbiIsIm1heCIsImhhbmRsZUJpZ0Jsb2NrRmluaXNoIiwicGFyc2VDYXJkU3RhdHVzUmVwb3J0Iiwic3dpcGVIYXNCZWd1biIsInNlbmRDb21tYW5kV2l0aFJlc3AiLCJzZW5kRXJyVG9DYWxsYmFjayIsImRhdGFHYXRoZXJlZCIsInN3aXBlRGF0YSIsInBhcnNlRGV2aWNlU3RhdGVSZXBvcnQiLCJwYXJzZUNhcmREYXRhIiwic3dpcGVPcHRpb25zIiwiY2xlYXJTZXNzaW9uQ21kIiwiYnVpbGRTd2lwZUNvbW1hbmQiLCJyZXNwIiwiYnVpbGRFbXZDb21tYW5kIiwiZW12Q29tbW1hbmQiLCJwaW5PcHRpb25zIiwiYnVpbGRQaW5Db21tYW5kIiwiZGF0YVR5cGUiLCJibG9ja1plcm8iLCJsZWdhY3lEYXRhIiwic2VuZFBpbkNvbW1hbmQiLCJzZW5kRXh0ZW5kZWRCaWdCbG9ja0RhdGEiLCJudW1iZXJPZkJsb2NrcyIsImNlaWwiLCJ3b3JraW5nT25Qcm9taXNlIiwiY29tbWFuZEJsb2NrcyIsImJlZ2luUXVldWUiLCJiZWdpblF1ZXVlUmVzb2x2ZSIsImJlZ2luUXVldWVSZWplY3QiLCJkYXRhQmxvY2siLCJzaGlmdCIsInF1ZXVlZFByb21pc2UiLCJlbnF1ZXVlIiwiYmxvY2siLCJkYXRhRm9yQmxvY2siLCJibG9ja0NtZCIsImJlZ2luUXVlUmVzcCIsInNlbmRBcnBjQmFzZSIsImFycGNDbWQiLCJjbWQiLCJkaXNwbGF5T3B0aW9ucyIsImJ1aWxkRGlzcGxheUNtZCIsIndyaXRlQ29tbWFuZCIsIndyaXRlVmFsdWUiLCJvZiIsIndhaXRGb3JEZXZpY2VSZXNwb25zZSIsIndhaXRSZXNwIiwidHJ5Q29tbWFuZEFnYWluIiwicmVzcG9uc2UiLCJnYXRoZXJEZXZpY2VJbmZvIiwiZGV2aWNlSW5mbyIsInNlcmlhbE51bWJlciIsImRldmljZU5hbWUiLCJpc0Nvbm5lY3RlZCIsImNoZWNrSWZEZXZpY2VJZGxlIiwiZ2V0RGV2aWNlSW5mb1Byb2NlZWQiLCJ3YWl0Rm9yU24iLCJjbGVhclNlc3Npb24iLCJjbGVhckludGVybmFsU3RhdGUiLCJzdG9wTm90aWZpY2F0aW9ucyIsImNsb3NlUGluRGV2aWNlIiwiZW5kU2Vzc2lvbiIsInJlcXVlc3RDYXJkU3dpcGUiLCJEcE1pbmkiLCJEeW5hUHJvR28iLCJ0aXBDYXNoYmFja09wdGlvbnMiLCJidWlsZFRpcE9yQ2FzaGJhY2tDbWQiLCJTY3JhU3dpcGVQYXJzZXIiLCJvZmZzZXQiLCJ0cmFjazFEZWNvZGVTdGF0dXMiLCJ0cmFjazJEZWNvZGVTdGF0dXMiLCJ0cmFjazNEZWNvZGVTdGF0dXMiLCJ0cmFjazFMZW4iLCJ0cmFjazJMZW4iLCJ0cmFjazNMZW4iLCJjYXJkRW5jb2RlVHlwZSIsInRyYWNrMVN0YXJ0IiwidHJhY2sxRW5kIiwidHJhY2syU3RhcnQiLCJ0cmFjazJFbmQiLCJ0cmFjazNTdGFydCIsInRyYWNrM0VuZCIsIm1hZ25lUHJpbnRTdGF0dXNTdGFydCIsIm1hZ25lUHJpbnRTdGF0dXNFbmQiLCJtYWduZVByaW50TGVuIiwibWFnbmVQcmludFN0YXJ0IiwibWFnbmVQcmludEVuZCIsInNlcmlhbE51bWJlclN0YXJ0Iiwic2VyaWFsTnVtYmVyRW5kIiwiZGV2aWNlRW5jU3RhdHVzU3RhcnQiLCJkZXZpY2VFbmNTdGF0dXNFbmQiLCJrc25TdGFydCIsImtzbkVuZCIsInRyYWNrMU1hc2tlZExlbiIsInRyYWNrMk1hc2tlZExlbiIsInRyYWNrM01hc2tlZExlbiIsInRyYWNrMU1hc2tlZFN0YXJ0IiwidHJhY2sxTWFza2VkRW5kIiwidHJhY2syTWFza2VkU3RhcnQiLCJ0cmFjazJNYXNrZWRFbmQiLCJ0cmFjazNNYXNrZWRTdGFydCIsInRyYWNrM01hc2tlZEVuZCIsImVuY1Nlc3Npb25JZFN0YXJ0IiwiZW5jU2Vzc2lvbklkRW5kIiwidHJhY2sxQWJzTGVuIiwidHJhY2syQWJzTGVuIiwidHJhY2szQWJzTGVuIiwibWFnbmVQcmludEFic0xlbiIsInRyYWNrUG9zaXRpb25zIiwidHJhY2tJbmRpY2VzIiwidHJhY2tJbmZvIiwiZGF0YU5hbWVzIiwiZm9yRWFjaCIsImRhdGFQcm9wIiwidHJhY2tEYXRhIiwiZm9ybWF0VHJhY2syTWFza2VkIiwiZm9ybWF0VHJhY2tXaXRoRGVjb2RlIiwiaW5jbHVkZXMiLCJ0cmFjazJNYXNrZWQiLCJkZWNvZGVTdGF0dXNWYWx1ZSIsInRyYWNrVmFsdWUiLCJUcnhTdGF0dXNQYXJzZXIiLCJub3RpZmljYXRpb24iLCJuZXdOb3RpZmljYXRpb24iLCJwYXJzZU5vdGlmaWNhdGlvbnMiLCJ0aHJvd0xlbkVyciIsIm5vdGlmaWNhdGlvblNsaWNlIiwibmV3Tm90aWZpY2F0aW9uU2xpY2UiLCJub3RpZmljYXRpb25MZW5ndGgiLCJub3RpZmljYXRpb25Db250ZW50IiwidHJ4U3RhdHVzQ29kZSIsInRyeFByb2dyZXNzQ29kZSIsInRyYW5zYWN0aW9uU3RhdHVzIiwic3RhdHVzQ29kZSIsInN0YXR1c01zZyIsIlRyeFN0YXR1c0VudW0iLCJwcm9ncmVzc0NvZGUiLCJwcm9ncmVzc01zZyIsIlRyeFByb2dyZXNzSW5kaWNhdG9yIiwiU2NyYUVtdlBhcnNlciIsImVtdkRhdGEiLCJpc0FycWMiLCJyZXN1bHRDb2RlIiwiZW12UmVzdWx0Q29kZXMiLCJzZWxlY3Rpb25SZXF1ZXN0IiwidXNlclNlbGVjdGlvblJlcXVlc3QiLCJzZWxlY3Rpb25UeXBlIiwidGltZVJlbWFpbmluZyIsIm1lbnVJdGVtcyIsImR1a3B0RmFpbHVyZUJhc2UiLCJpbnZhbGlkQmFzZSIsIlNjcmFDbWRCdWlsZGVyIiwidHJ4VHlwZSIsImRlZmF1bHRWYWx1ZSIsInRyeFR5cGVMb3dlciIsInJlcG9ydFZlcmJvc2l0eSIsImVtdkNvbW1hbmRCYXNlIiwiYW1vdW50SGVscGVyIiwic3RhdHVzVmVyYm9zaXR5Iiwic3BlY2lmaWNUaW1lIiwiZGF0ZVRpbWVDb21tYW5kIiwiY2FzdERlY1RvSGV4IiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldEZ1bGxZZWFyIiwiU2NyYSIsImNhcmREYXRhTm90aWZpY2F0aW9uIiwiY2FyZERhdGFIYW5kbGVyIiwiY29tbWFuZENoYXJJZCIsImRhdGFSZWFkeUlkIiwiZGF0YVJlYWR5SGFuZGxlciIsImRhdGFSZWFkeUNoYXJhY3RlcmlzdGljIiwiZGF0YVJlYWRTdGF0dXNJZCIsImRhdGFSZWFkU3RhdHVzQ2hhcmFjdGVyaXN0aWMiLCJldmVudFZhbHVlIiwiZm9ybWF0dGVkRXZlbnRWYWx1ZSIsIm5vdGlmaWNhdGlvbkFycmF5IiwiY2hlY2tOb3RpZmljYXRpb25MZW5ndGgiLCJyZXR1cm5Ub1VzZXIiLCJwYXJzZUhpZERhdGEiLCJub3RpZmljYXRpb25JZCIsImZpbmROb3RpZmljYXRpb25UeXBlIiwiYnVpbHROb3RpZmljYXRpb24iLCJwYXJzZVRyYW5zYWN0aW9uU3RhdHVzIiwiZGlzcGxheUNhbGxiYWNrIiwiZGlzcGxheU1lc3NhZ2UiLCJ1c2VyU2VsZWN0aW9uQ2FsbGJhY2siLCJwYXJzZVVzZXJTZWxlY3Rpb25SZXF1ZXN0IiwiYnVpbGROb3RpZmljYXRpb24iLCJwYXJzZUVtdkRhdGEiLCJwYXJzZUVtdkNvbW1hbmRSZXNwb25zZSIsInNldERldmljZURhdGVUaW1lIiwic3RhcnRUcmFuc2FjdGlvbiIsInJlYWRDb21tYW5kVmFsdWUiLCJzcGVjaWZpZWRDYWxsYmFjayIsInJldHVybk9iaiIsImJ1aWxkRGF0ZVRpbWVDb21tYW5kIiwiZGF0ZVRpbWVSZXN1bHQiLCJyZXN1bHRDb2RlcyIsImZvcm1hdHRlZFZhbHVlIiwiYmF0dGVyeSIsInNlcmlhbE51bSIsInJlYWRCYXR0ZXJ5TGV2ZWwiLCJyZXNwQmF0dGVyeSIsImdldERldmljZVNuIiwicmVzcFNuIiwiYmF0dGVyeUxldmVsIiwic2VsZWN0aW9uUmVzdWx0IiwidXNlclNlbGVjdGlvblJlc3BvbnNlIiwic2VuZEFycGNSZXNwb25zZSIsImNhbmNlbEVtdkNvbW1hbmQiLCJjYW5jZWxSZXNwb25zZSIsImNlYXNlTm90aWZpY2F0aW9ucyIsIkVEeW5hbW8iLCJnZXRDYXJkU2VydmljZUJhc2UiLCJURHluYW1vIiwic2V0SGVhZEFsd2F5c09uIiwic2V0SGVhZE9wZW5SZXNwIiwiY29tbWFuZE5vdFVzZWQiLCJpc1NjcmEiLCJEZXZpY2VJbnRlcmZhY2UiLCJnZXRDYXJkU2VydmljZSIsImNhbmNlbFRyYW5zYWN0aW9uIiwiY2xvc2VEZXZpY2UiLCJnZXREZXZpY2VJbmZvIiwiaXNEZXZpY2VDb25uZWN0ZWQiLCJyZXF1ZXN0UGluRW50cnkiLCJzZXREaXNwbGF5TWVzc2FnZSIsInNlbmRVc2VyU2VsZWN0aW9uIiwic2VuZEFycGMiLCJyZXF1ZXN0VGlwT3JDYXNoYmFjayIsIm9wZW5EZXZpY2UiLCJzZW5kQ29tbWFuZCIsImlzRGV2aWNlT3BlbiIsImZvcmNlRGlzY29ubmVjdCIsIm5ld0RldmljZUluc3RhbmNlIiwiRHluUHJvR28iLCJidWlsZERldmljZU9iamVjdCIsImRldmljZVR5cGVTdHJpbmciLCJpZCIsImRldmljZUludGVyZmFjZSIsImVEeW5hbW9QYXR0ZXJuIiwiUmVnRXhwIiwidER5bmFtb1BhdHRlcm4iLCJkcE1pbmlQYXR0ZXJuIiwiZHBHb1BhdHRlcm4iLCJmaW5kRGV2aWNlVHlwZVN0cmluZyIsIm5hbWVTdHIiLCJ0eXBlU3RyIiwiZm9ybWF0dGVkU3RyIiwiZGV2aWNlVHlwZVN0ciIsImRldmljZVR5cGVBcnIiLCJyZXR1cm5TdHIiLCJmb3JtYXRUeXBlU3RyaW5nIiwidGVzdCIsInNjYW5Gb3JEZXZpY2VzIiwiaXNGdW5jVHlwZSIsImRhdGFPYmoiLCJjb25zb2xlIiwid2FybiIsImxvZyIsInByb3BBc3NpZ25tZW50IiwiZXJyT2JqIiwiZXJyb3IiLCJhcnJhbmdlQ2FsbGJhY2tzIiwib3B0aW9ucyIsIm5hbWVQcmVmaXgiLCJmaW5kRGV2aWNlQnlEZXZpY2VOYW1lIiwibmF2aWdhdG9yIiwiYmx1ZXRvb3RoIiwicmVxdWVzdERldmljZSIsImRldmljZVR5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QUFTMHJCLEVBQWVqbUIsS0FBS08sZ0JBQzdDTCxLQUFNLElBQU0zRixFQUFTMnJCLElBQ3RCdmxCLE1BQU1qRCxHQUNBQSxFQUFJN0gsT0FBU2dJLEVBQVlDLFdBQ3pCSixFQUFJMUosT0FBUzZKLEVBQVlFLFdBQ3pCTCxFQUFJOUgsUUFBUXVtQixTQUFTLHdDQUNuQjhKLEVBQWVqbUIsS0FBS00sVUFDcEJoRyxRQUFRQyxRQUFTMHJCLEVBQWVqbUIsS0FBS08sY0FBZUwsS0FBSyxJQUFNM0YsRWxCdEQzRCxja0JxRDZCQSxFbEJyRDdCLGFrQnVEUnNGLEVBQU9uQyxPQ2hCK0J3QyxLQUM1QjZqQixHQUFzQkEsRUFFaEJ4cEIsRUFBU3VwQixHQUFrQnBrQixFQUFROEMsRUFBV3VoQixJQURoRGxrQixFQUFPLHFDQUViYyxNQUFNakQsR0FBT21DLEVBQU9uQyxJRExDdW9CLFFDTTVCdGxCLE1BQU1qRCxHQUNMbUMsRUFENEIsaUJBQVJuQyxFQUNaLElBQUlqSSxFQUFTaUksR0FDZCIsImZpbGUiOiJtYWdlbnNhLWJsdWV0b290aC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIm1hZ2Vuc2EtYmx1ZXRvb3RoXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIm1hZ2Vuc2EtYmx1ZXRvb3RoXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJjbGFzcyBBcGlFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSwgY29kZSwgbmFtZSB9KSB7XHJcbiAgICAgICAgc3VwZXIoIChtZXNzYWdlIHx8IFwiV2ViIEJsdWV0b290aCBBUEkgdGhyZXcgYW4gdW5rbm93biwgb3IgdW5kb2N1bWVudGVkIGVycm9yXCIgKSk7XHJcbiAgICAgICAgdGhpcy5jb2RlID0gKGNvZGUgfHwgMTAwMCk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gKG5hbWUgfHwgXCJXZWJCbHVldG9vdGhFcnJvclwiKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcGlFcnJvcjsiLCJjb25zdCBhbGxEZXZpY2VDb25maWcgPSB7XHJcbiAgICBmaWx0ZXJzOiBbXHJcbiAgICAgICAgeyBzZXJ2aWNlczogW1wiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTA0XCJdIH0sXHJcbiAgICAgICAgeyBzZXJ2aWNlczogW1wiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTAxXCJdIH0sIFxyXG4gICAgICAgIHsgc2VydmljZXM6IFtcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwM1wiXSB9XHJcbiAgICBdLFxyXG4gICAgb3B0aW9uYWxTZXJ2aWNlczogW1xyXG4gICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTA0XCIsIFxyXG4gICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTAzXCIsIFxyXG4gICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTAxXCIsIFxyXG4gICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMjAyXCIsXHJcbiAgICAgICAgJ2RldmljZV9pbmZvcm1hdGlvbidcclxuICAgIF0sXHJcbiAgICBrZWVwUmVwZWF0ZWREZXZpY2VzOiBmYWxzZSxcclxuICAgIGFjY2VwdEFsbEFkdmVydGlzZW1lbnRzOiBmYWxzZVxyXG59XHJcblxyXG5jb25zdCBmaW5kRGV2aWNlQnlEZXZpY2VOYW1lID0gZGV2aWNlTmFtZSA9PiAoe1xyXG4gICAgZmlsdGVyczogW1xyXG4gICAgICAgIHsgbmFtZVByZWZpeDogZGV2aWNlTmFtZSB9XHJcbiAgICBdLFxyXG4gICAgb3B0aW9uYWxTZXJ2aWNlczogW1xyXG4gICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTA0XCIsIFxyXG4gICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTAzXCIsIFxyXG4gICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTAxXCIsXHJcbiAgICAgICAgXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMDJcIixcclxuICAgICAgICAnZGV2aWNlX2luZm9ybWF0aW9uJ1xyXG4gICAgXSxcclxuICAgIGtlZXBSZXBlYXRlZERldmljZXM6IGZhbHNlLFxyXG4gICAgYWNjZXB0QWxsQWR2ZXJ0aXNlbWVudHM6IGZhbHNlXHJcbn0pO1xyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBhbGxEZXZpY2VDb25maWcsXHJcbiAgICBmaW5kRGV2aWNlQnlEZXZpY2VOYW1lXHJcbn0iLCJjbGFzcyBVdGlsaXRpZXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucmxlRm9ybWF0cyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBmYWxzZSwgICAgLy9Ob3JtYWxcclxuICAgICAgICAgICAgMHgwMTogdHJ1ZSwgICAgIC8vUkxFIGZvcm1hdFxyXG4gICAgICAgICAgICAweDAyOiBmYWxzZSwgICAgLy9Ob3RpZnkgVW5jb21wcmVzc2VkXHJcbiAgICAgICAgICAgIDB4MDM6IHRydWUgICAgICAvL05vdGlmeSBSTEUgZm9ybWF0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgIH07XHJcblxyXG4gICAgIGxvZ0RldmljZVN0YXRlID0gbG9nSW5mbyA9PiB3aW5kb3cuZGlzcGF0Y2hFdmVudChcclxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJkZXZpY2VMb2dcIiwgeyBcclxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcclxuICAgICAgICAgICAgZGV0YWlsOiBsb2dJbmZvIFxyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnZlcnRBcnJheVRvSGV4U3RyaW5nID0gYXJyYXkgPT5cclxuICAgICAgICBBcnJheS5mcm9tKGFycmF5LCBieXRlID0+XHJcbiAgICAgICAgICAgICgnMCcgKyAoYnl0ZSAmIDB4RkYpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpXHJcbiAgICAgICAgKS5qb2luKCcnKS50b1VwcGVyQ2FzZSgpXHJcbiAgICBcclxuICAgIHJlYWRUd29CeXRlTGVuZ3RoID0gdHdvQnl0ZXMgPT4gKHR3b0J5dGVzWzBdIDw8IDgpIHwgdHdvQnl0ZXNbMV07XHJcblxyXG4gICAgYnVmZmVyVG9VdGY4ID0gYXJyYXlCdWZmZXIgPT5cclxuICAgICAgICBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JykuZGVjb2RlKFVpbnQ4QXJyYXkuZnJvbShhcnJheUJ1ZmZlcikpO1xyXG5cclxuICAgIGNhc3REZWNUb0hleCA9IG51bSA9PiBwYXJzZUludCggbnVtLnRvU3RyaW5nKDE2KSwgMTYpO1xyXG5cclxuICAgIG5ld0FycmF5UGFydGlhbCA9IChudW0sIHJlcGV0aXRpb25zKSA9PiBuZXcgQXJyYXkocmVwZXRpdGlvbnMpLmZpbGwobnVtKTtcclxuXHJcbiAgICByZWFkQnl0ZUFycmF5ID0gZGF0YVZpZXcgPT4ge1xyXG4gICAgICAgIGxldCB2YWx1ZUFycmF5ID0gW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhVmlldy5ieXRlTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFsdWVBcnJheS5wdXNoKGRhdGFWaWV3LmdldFVpbnQ4KGkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZUFycmF5O1xyXG4gICAgfVxyXG5cclxuICAgIGhleFRvQXNjaWkgPSBoZXhTdHJpbmcgPT4ge1xyXG4gICAgICAgIGxldCBhc2NpaVJlc3AgPSAnJztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgKGkgPCBoZXhTdHJpbmcubGVuZ3RoICYmIGhleFN0cmluZy5zdWJzdHIoaSwgMikgIT09ICcwMCcpOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgYXNjaWlSZXNwICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICBwYXJzZUludChoZXhTdHJpbmcuc3Vic3RyaW5nKGksIChpICsgMikpLCAxNilcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGFzY2lpUmVzcC50cmltKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGV4VG9CeXRlcyA9IGhleFN0ciA9PiB7XHJcbiAgICAgICAgbGV0IGJ5dGVzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgY3VycmVudCA9IDA7IGN1cnJlbnQgPCBoZXhTdHIubGVuZ3RoOyBjdXJyZW50ICs9IDIpXHJcbiAgICAgICAgICAgIGJ5dGVzLnB1c2goIHBhcnNlSW50KGhleFN0ci5zdWJzdHJpbmcoY3VycmVudCwgKGN1cnJlbnQgKyAyKSksIDE2KSApO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZVJMRSA9IGFycmF5U2VnbWVudCA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbExlbmd0aCA9IGFycmF5U2VnbWVudC5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHJldHVyblNlZ21lbnQgPSBbIGFycmF5U2VnbWVudFswXSBdO1xyXG4gICAgICAgIGxldCBuZXh0SW5kZXggPSAwO1xyXG4gICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBpbml0aWFsTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbmV4dEluZGV4ID0gaSArIDE7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKG5leHRJbmRleCArIDEgPCBpbml0aWFsTGVuZ3RoKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChhcnJheVNlZ21lbnRbaV0gPT09IGFycmF5U2VnbWVudFtuZXh0SW5kZXhdKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5TZWdtZW50LnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMubmV3QXJyYXlQYXJ0aWFsKGFycmF5U2VnbWVudFtpXSwgYXJyYXlTZWdtZW50W25leHRJbmRleCArIDFdKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAvL2FkanVzdCBpbmRleCBhY2NvcmRpbmdseSwgcHJpb3IgdG8gYmVpbmcgaW5jcmVtZW50ZWQgYnkgdGhlIGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICBpID0gbmV4dEluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuU2VnbWVudC5wdXNoKGFycmF5U2VnbWVudFtpXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHJldHVyblNlZ21lbnQucHVzaChhcnJheVNlZ21lbnRbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJldHVyblNlZ21lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgYnVpbGRJbml0aWFsRGF0YUFycmF5ID0gY2hlY2tGb3JSbGUgPT4ge1xyXG4gICAgICAgIGxldCByZXR1cm5BcnJheSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gTWF0aC5taW4oLi4uT2JqZWN0LmtleXModGhpcy5yYXdEYXRhKSk7IGkgPCB0aGlzLm1heEJsb2NrSWQ7IGkrKylcclxuICAgICAgICAgICAgcmV0dXJuQXJyYXkgPSByZXR1cm5BcnJheS5jb25jYXQoLi4udGhpcy5yYXdEYXRhW2ldKVxyXG5cclxuICAgICAgICByZXR1cm4gKCFjaGVja0ZvclJsZSkgPyByZXR1cm5BcnJheSA6IHRoaXMuY2hlY2tSbGUocmV0dXJuQXJyYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrUmxlID0gcmV0dXJuQXJyYXkgPT4gKHRoaXMucmxlRm9ybWF0c1sgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uWzBdIF0pID8gdGhpcy5kZWNvZGVSTEUocmV0dXJuQXJyYXkpIDogcmV0dXJuQXJyYXk7XHJcblxyXG4gICAgY29udmVydEN1cnJlbmN5Q29kZSA9IGN1cnJlbmN5U3RyaW5nID0+IHtcclxuICAgICAgICBjb25zdCBjdXJyZW5jeSA9IGN1cnJlbmN5U3RyaW5nLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoY3VycmVuY3kgPT09ICd1cycpID8gWzB4MDgsIDB4NDBdIDogXHJcbiAgICAgICAgICAgIChjdXJyZW5jeSA9PT0gJ2V1cm8nKSA/IFsweDA5LCAweDc4XSA6IFsweDAwLCAweDAwXTtcclxuICAgIH1cclxuXHJcbiAgICAvL0NvbnZlcnQgbnVtYmVyIHRvIDYgYnl0ZSBhcnJheS5cclxuICAgIGNvbnZlcnROdW1Ub0Ftb3VudCA9IChudW0sIG9wdGlvbmFsTGVuKSA9PiB7XHJcbiAgICAgICAgb3B0aW9uYWxMZW4gPSBvcHRpb25hbExlbiB8fCAxMjtcclxuXHJcbiAgICAgICAgbGV0IHN0cmluZ051bSA9IG51bS50b1N0cmluZygpO1xyXG4gICAgICAgIGxldCByZXR1cm5BcnIgPSBbXTtcclxuXHJcbiAgICAgICAgd2hpbGUgKHN0cmluZ051bS5sZW5ndGggPCBvcHRpb25hbExlbilcclxuICAgICAgICAgICAgc3RyaW5nTnVtID0gXCIwXCIgKyBzdHJpbmdOdW07XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nTnVtLmxlbmd0aDsgaSArPSAyKVxyXG4gICAgICAgICAgICByZXR1cm5BcnIucHVzaChcclxuICAgICAgICAgICAgICAgIHBhcnNlSW50KHN0cmluZ051bS5zdWJzdHJpbmcoaSwgKGkgKyAyKSksIDE2KVxyXG4gICAgICAgICAgICApXHJcbiAgICBcclxuICAgICAgICByZXR1cm4gcmV0dXJuQXJyO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGF5UHJvbWlzZSA9IChkZWxheSwgcGFzc2VkVmFsdWUpID0+XHJcbiAgICAgICAgbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5LCBwYXNzZWRWYWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgYnl0ZUFycmF5VG9OdW1iZXIgPSBieXRlQXJyYXkgPT4gcGFyc2VJbnQodGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhieXRlQXJyYXkpLCAxMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFV0aWxpdGllcztcclxuIiwiaW1wb3J0IFV0aWxpdGllcyBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNsYXNzIFN3aXBlUGFyc2VyIGV4dGVuZHMgVXRpbGl0aWVzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0RXhwUEFOID0gcmF3RGF0YSA9PiB7XHJcbiAgICAgICAgbGV0IHN0cmluZ0RhdGEgPSAodHlwZW9mIHJhd0RhdGEgPT09ICdvYmplY3QnKSA/IHRoaXMuYnVmZmVyVG9VdGY4KHJhd0RhdGEuc2xpY2UoNCkpIDogcmF3RGF0YTtcclxuICAgIFxyXG4gICAgICAgIGlmIChzdHJpbmdEYXRhLmluZGV4T2YoJzsnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy5zcGxpdEV4cFBBTihzdHJpbmdEYXRhKTtcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbWFza2VkUEFOOiBmb3JtYXR0ZWRTdHJpbmdbMF0sXHJcbiAgICAgICAgICAgICAgICBMYXN0NDogZm9ybWF0dGVkU3RyaW5nWzFdLFxyXG4gICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IGZvcm1hdHRlZFN0cmluZ1syXSxcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VDb2RlOiBmb3JtYXR0ZWRTdHJpbmdbM11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1hc2tlZFBBTjogXCJcIixcclxuICAgICAgICAgICAgTGFzdDQ6IFwiXCIsXHJcbiAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlOiBcIlwiLFxyXG4gICAgICAgICAgICBzZXJ2aWNlQ29kZTogXCJcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzcGxpdEV4cFBBTiA9IHN0cmluZ0RhdGEgPT4ge1xyXG4gICAgICAgIGlmIChzdHJpbmdEYXRhLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICAgICAgY29uc3QgZXhwUEFOID0gc3RyaW5nRGF0YS5yZXBsYWNlKCc7JywnJykucmVwbGFjZSgnPycsJycpLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4cCA9IGV4cFBBTlsxXS5zbGljZSgwLCA0KTtcclxuICAgICAgICAgICAgY29uc3Qgc2VydmljZUNvZGUgPSBleHBQQU5bMV0uc2xpY2UoNCwgNyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZEV4cCA9IGV4cC5zbGljZSgtMikgKyAnLycgKyBleHAuc2xpY2UoMCwgMik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hc2tlZFBBTiA9IGV4cFBBTlswXTtcclxuICAgICAgICAgICAgY29uc3QgbGFzdEZvdXIgPSBleHBQQU5bMF0uc2xpY2UoLTQpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFttYXNrZWRQQU4sIGxhc3RGb3VyLCBmb3JtYXR0ZWRFeHAsIHNlcnZpY2VDb2RlXVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBbXCJOb3QgRm91bmRcIiwgXCJOb3QgRm91bmRcIiwgXCJOb3QgRm91bmRcIiwgXCJOb3QgRm91bmRcIl1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN3aXBlUGFyc2VyOyIsImltcG9ydCBTd2lwZVBhcnNlciBmcm9tICcuL3N3aXBlUGFyc2VyJztcclxuXHJcbmNsYXNzIEVtdlBhcnNlciBleHRlbmRzIFN3aXBlUGFyc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMubW9yZVRhZ0J5dGVzRmxhZzEgPSAweDFGO1xyXG4gICAgICAgIHRoaXMubW9yZVRhZ0J5dGVzRmxhZzIgPSAweDgwO1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0ZWRGbGFnID0gMHgyMDtcclxuICAgICAgICB0aGlzLm1vcmVMZW5ndGhGbGFnID0gMHg4MDtcclxuICAgICAgICB0aGlzLm9uZUJ5dGVMZW5ndGhNYXNrID0gMHg3RjtcclxuXHJcbiAgICAgICAgdGhpcy50cnhTdGF0dXNUb1N0cmluZyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIkFwcHJvdmVkXCIsXHJcbiAgICAgICAgICAgIDB4MDE6IFwiRGVjbGluZWRcIixcclxuICAgICAgICAgICAgMHgwMjogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICAweDEwOiBcIkNhbmNlbGxlZCBCeSBIb3N0XCIsXHJcbiAgICAgICAgICAgIDB4MTE6IFwiQ29uZmlybSBBbW91bnQgTm9cIixcclxuICAgICAgICAgICAgMHgxMjogXCJDb25maXJtIEFtb3VudCBUaW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MTM6IFwiQ29uZmlybSBBbW91bnQgQ2FuY2VsXCIsXHJcbiAgICAgICAgICAgIDB4MTQ6IFwiTVNSIFNlbGVjdCBEZWJpdFwiLFxyXG4gICAgICAgICAgICAweDE1OiBcIk1TUiBTZWxlY3QgRGViaXRcIixcclxuICAgICAgICAgICAgMHgxNjogXCJNU1IgU2VsZWN0IENyZWRpdC9EZWJpdCB0aW1vdXRcIixcclxuICAgICAgICAgICAgMHgxNzogXCJNU1IgU2VsZWN0IENyZWRpdC9EZWJpdCBjYW5jZWxcIixcclxuICAgICAgICAgICAgMHgxODogXCJTaWduYXR1cmUgQ2FwdHVyZSBDYW5jZWxsZWQgYnkgSG9zdCAoU0MtUyBPbmx5IHwgU0MtRiBvbmx5KVwiLFxyXG4gICAgICAgICAgICAweDE5OiBcIlNpZ25hdHVyZSBDYXB0dXJlIFRpbWVvdXQgKFNDLVMgT25seSB8IFNDLUYgT25seSlcIixcclxuICAgICAgICAgICAgMHgxQTogXCJTaWduYXR1cmUgQ2FwdHVyZSBDYW5jZWxsZWQgYnkgQ2FyZGhvbGRlciAoU0MtUyBPbmx5IHwgU0MtRiBPbmx5KVwiLFxyXG4gICAgICAgICAgICAweDFCOiBcIlBJTiBFbnRyeSBDYW5jZWxsZWQgYnkgSG9zdFwiLFxyXG4gICAgICAgICAgICAweDFDOiBcIlBJTiBlbnRyeSB0aW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MUQ6IFwiUElOIGVudHJ5IENhbmNlbGxlZCBieSBDYXJkaG9sZGVyXCIsXHJcbiAgICAgICAgICAgIDB4MUU6IFwiTWFudWFsIFNlbGVjdGVkIENhbmNlbGxlZCBieSBIb3N0XCIsXHJcbiAgICAgICAgICAgIDB4MUY6IFwiTWFudWFsIFNlbGVjdGlvbiBUaW1lb3V0XCIsXHJcbiAgICAgICAgICAgIDB4MjA6IFwiTWFudWFsIFNlbGN0aW9uIENhbmNlbGxlZCBieSBDYXJkaG9sZGVyXCIsXHJcbiAgICAgICAgICAgIDB4MjE6IFwiV2FpdGluZyBmb3IgQ2FyZCBDYW5jZWxsZWQgYnkgSG9zdFwiLFxyXG4gICAgICAgICAgICAweDIyOiBcIldhaXRpbmcgZm9yIENhcmQgVGltZW91dFwiLFxyXG4gICAgICAgICAgICAweDIzOiBcIltTQ1JBXTogQ2FuY2VsbGVkIGJ5IENhcmQgU3dpcGUgKE1TUikgfHxbUElOXTogV2FpdGluZyBmb3IgQ2FyZCBDYW5jZWxsZWQgYnkgQ2FyZGhvbGRlciBcIixcclxuICAgICAgICAgICAgMHgyNDogXCJXYWl0aW5nIGZvciBDYXJkIElDQyBTZWF0ZWRcIixcclxuICAgICAgICAgICAgMHgyNTogXCJXYWl0aW5nIGZvciBDYXJkIE1TUiBTd2lwZWRcIixcclxuICAgICAgICAgICAgMHhGRjogXCJVbmtub3duIFRyYW5zYWN0aW9uIFN0YXR1c1wiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRsdlBhcnNlciA9IChkYXRhLCBpc01zcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgbGV0IGlUTFYgPSAwO1xyXG4gICAgICAgIGxldCBpVGFnO1xyXG4gICAgICAgIGxldCBiVGFnID0gdHJ1ZTtcclxuICAgICAgICBsZXQgYnl0ZVZhbHVlO1xyXG4gICAgICAgIGxldCBsZW5ndGhWYWx1ZTtcclxuICAgICAgICBsZXQgdGFnQnl0ZXMgPSBudWxsO1xyXG4gICAgICAgIGxldCBUYWdCdWZmZXIgPSBbXTtcclxuXHJcbiAgICAgICAgd2hpbGUgKGlUTFYgPCBkYXRhTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGJ5dGVWYWx1ZSA9IGRhdGFbaVRMVl07XHJcblxyXG4gICAgICAgICAgICBpZiAoYlRhZykge1xyXG4gICAgICAgICAgICAgICAgaVRhZyA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgYk1vcmVUYWdCeXRlcyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJ5dGVWYWx1ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRmlyc3QgYnl0ZSBvZiB0YWcgY2Fubm90IGJlIHplcm8uXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGJNb3JlVGFnQnl0ZXMgJiYgKGlUTFYgPCBkYXRhTGVuZ3RoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVWYWx1ZSA9IGRhdGFbaVRMVl07XHJcbiAgICAgICAgICAgICAgICAgICAgaVRMVisrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBUYWdCdWZmZXJbaVRhZ10gPSBieXRlVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJNb3JlVGFnQnl0ZXMgPSAoaVRhZyA9PT0gMCkgPyAoKGJ5dGVWYWx1ZSAmIHRoaXMubW9yZVRhZ0J5dGVzRmxhZzEpID09IHRoaXMubW9yZVRhZ0J5dGVzRmxhZzEpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgKChieXRlVmFsdWUgJiB0aGlzLm1vcmVUYWdCeXRlc0ZsYWcyKSA9PSB0aGlzLm1vcmVUYWdCeXRlc0ZsYWcyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaVRhZysrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRhZ0J5dGVzID0gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhUYWdCdWZmZXIuc2xpY2UoMCwgaVRhZykpO1xyXG4gICAgICAgICAgICAgICAgYlRhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGVuZ3RoVmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgoYnl0ZVZhbHVlICYgdGhpcy5tb3JlTGVuZ3RoRmxhZykgPT0gdGhpcy5tb3JlTGVuZ3RoRmxhZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuTGVuZ3RoQnl0ZXMgPSBieXRlVmFsdWUgJiB0aGlzLm9uZUJ5dGVMZW5ndGhNYXNrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlUTFYrKztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaUxlbiA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoaUxlbiA8IG5MZW5ndGhCeXRlcykgJiYgKGlUTFYgPCBkYXRhTGVuZ3RoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlVmFsdWUgPSBkYXRhW2lUTFZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpVExWKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aFZhbHVlID0gKChsZW5ndGhWYWx1ZSAmIDB4MDAwMDAwRkYpIDw8IDgpICsgYnl0ZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpTGVuKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoVmFsdWUgPSBieXRlVmFsdWUgJiB0aGlzLm9uZUJ5dGVMZW5ndGhNYXNrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlUTFYrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGFnQnl0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFnQnl0ZSA9IFRhZ0J1ZmZlclswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZEluZGV4ID0gKChpVExWICsgbGVuZ3RoVmFsdWUpID4gZGF0YUxlbmd0aCkgPyBkYXRhTGVuZ3RoIDogaVRMViArIGxlbmd0aFZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVuID0gZW5kSW5kZXggLSBpVExWO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZUJ5dGVzID0gKGxlbiA+IDApID8gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhkYXRhLnNsaWNlKGlUTFYsIGlUTFYgKyBsZW4pKSA6IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YWdcIjogdGFnQnl0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGFnTGVuZ3RoXCI6ICghbGVuZ3RoVmFsdWUpID8gKHZhbHVlQnl0ZXMubGVuZ3RoICsgMSAvIDIpIDogbGVuZ3RoVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGFnVmFsdWVcIjogdGhpcy5oZXhPckFzY2lpRm9ybWF0dGVyKHRhZ0J5dGVzLCB2YWx1ZUJ5dGVzLCBpc01zcilcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhKCh0YWdCeXRlICYgdGhpcy5jb25zdHJ1Y3RlZEZsYWcpID09IHRoaXMuY29uc3RydWN0ZWRGbGFnKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaVRMViArPSBsZW5ndGhWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYlRhZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBoZXhPckFzY2lpRm9ybWF0dGVyID0gKHRhZ0J5dGVzLCB2YWx1ZUJ5dGVzLCBpc01zcikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCh0YWdCeXRlcykge1xyXG4gICAgICAgICAgICBjYXNlIFwiREZERjFBXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dmFsdWVCeXRlc30gJHt0aGlzLnRyeFN0YXR1c1RvU3RyaW5nWyBwYXJzZUludCh2YWx1ZUJ5dGVzLCAxNikgXX1gXHJcbiAgICAgICAgICAgIGNhc2UgXCJERkRGNERcIjpcclxuICAgICAgICAgICAgY2FzZSBcIjVGMjBcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhleFRvQXNjaWkodmFsdWVCeXRlcyk7XHJcbiAgICAgICAgICAgIGNhc2UgXCJERkRGMjVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoaXNNc3IpID8gdGhpcy5oZXhUb0FzY2lpKCAodmFsdWVCeXRlcyA/IHZhbHVlQnl0ZXMuc3Vic3RyaW5nKDAsIDE0KSA6IHZhbHVlQnl0ZXMpICkgOiB2YWx1ZUJ5dGVzO1xyXG4gICAgICAgICAgICBjYXNlIFwiREZERjQwXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlQnl0ZXMgPT09IDB4ODApID8gYCR7dmFsdWVCeXRlc30gIENCQy1NQUMgY2hlY2tlZCBpbiBBUlFDIG9ubGluZSByZXNwb25zZWAgOiAodmFsdWVCeXRlcyA9PT0gMHgwMSk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVCeXRlcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEVtdlBhcnNlcjsiLCJjbGFzcyBMZW5ndGhFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKFwiRGV2aWNlIGNvbW11bmljYXRpb24gZXJyb3IuIExlbmd0aCBkb2VzIG5vdCBtYXRjaCBkYXRhXCIpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwiQmxlVHJhbnNtaXNzaW9uRXJyb3JcIjtcclxuICAgICAgICB0aGlzLmNvZGUgPSAxMDEyO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMZW5ndGhFcnJvcjsiLCJjbGFzcyBEZXZpY2VFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgY29kZSwgbmFtZSwgbWVzc2FnZSB9KSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gKG5hbWUgfHwgXCJEZXZpY2VFcnJvclwiKTtcclxuICAgICAgICB0aGlzLmNvZGUgPSAoY29kZSB8fCAxMDAwKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEZXZpY2VFcnJvcjsiLCJpbXBvcnQgRW12UGFyc2VyIGZyb20gJy4uL3BhcnNlcnMvZW12UGFyc2VyJ1xyXG5pbXBvcnQgQXBpRXJyb3IgZnJvbSAnLi9hcGlFcnJvcic7XHJcbmltcG9ydCBMZW5ndGhFcnJvciBmcm9tICcuL2xlbmd0aEVycm9yJztcclxuaW1wb3J0IERldmljZUVycm9yIGZyb20gJy4vZGV2aWNlRXJyb3InO1xyXG5cclxuY2xhc3MgRXJyb3JIYW5kbGVyIGV4dGVuZHMgRW12UGFyc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrcykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGNhbGxiYWNrcy5lcnJvckNhbGxiYWNrO1xyXG4gICAgfTtcclxuXHJcbiAgICBidWlsZERldmljZUVyciA9IGVyciA9PiAoZXJyIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSA/IFxyXG4gICAgICAgIG5ldyBBcGlFcnJvcihlcnIpIDogKGVyciBpbnN0YW5jZW9mIEVycm9yKSA/IFxyXG4gICAgICAgICAgICBlcnIgOiBuZXcgRGV2aWNlRXJyb3IoZXJyKTtcclxuXHJcbiAgICB0aHJvd0xlbkVyciA9ICgpID0+IG5ldyBMZW5ndGhFcnJvcigpO1xyXG5cclxuICAgIHNlbmRFcnJUb0NhbGxiYWNrID0gZXJyID0+IHtcclxuICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2soZXJyKTtcclxuICAgICAgICByZXR1cm4gZXJyO1xyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRXJyb3JIYW5kbGVyOyIsImNvbnN0IG5vdEZvdW5kT2JqID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBlcnJvckNvZGU6IDgsXHJcbiAgICBlcnJvck5hbWU6IFwiTm90Rm91bmRFcnJvclwiXHJcbn0pO1xyXG5cclxuY29uc3QgYXBpTmV0d29ya0VyciA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTksXHJcbiAgICBuYW1lOiAnTmV0d29ya0Vycm9yJ1xyXG59KTtcclxuXHJcbmNvbnN0IGRldmljZU5vdEZvdW5kID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDAyLFxyXG4gICAgbmFtZTogJ0RldmljZU5vdEZvdW5kJyxcclxuICAgIG1lc3NhZ2U6IFwiUGxlYXNlIHNlbGVjdCBkZXZpY2UgdG8gY29ubmVjdFwiXHJcbn0pO1xyXG5cclxuY29uc3QgZ2F0dFNlcnZlck5vdENvbm5lY3RlZCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAwMyxcclxuICAgIG5hbWU6IFwiR2F0dFNlcnZlck5vdENvbm5lY3RlZFwiLFxyXG4gICAgbWVzc2FnZTogXCJQbGVhc2UgY29ubmVjdCBkZXNpcmVkIGRldmljZVwiXHJcbn0pO1xyXG5cclxuY29uc3QgY29tbWFuZE5vdFNlbnQgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDQsIFxyXG4gICAgbmFtZTogXCJDb21tYW5kTm90U2VudFwiLCBcclxuICAgIG1lc3NhZ2U6IFwiQ29tbWFuZCBjaGFyYWN0ZXJpc3RpYyBub3QgZm91bmQsIGRldmljZSBub3Qgb3BlbmVkXCJcclxufSk7XHJcblxyXG5jb25zdCBkZXZpY2VOb3RPcGVuID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDA1LCBcclxuICAgIG5hbWU6IFwiQ29tbWFuZE5vdFNlbnRcIiwgXHJcbiAgICBtZXNzYWdlOiBcIkRldmljZSBub3Qgb3BlbmVkXCJcclxufSk7XHJcblxyXG5jb25zdCBjb21tYW5kTm90U2VudEZyb21Ib3N0ID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDA2LCBcclxuICAgIG5hbWU6IFwiQ29tbWFuZE5vdFNlbnRcIiwgXHJcbiAgICBtZXNzYWdlOiBcIkFwcGxpY2F0aW9uIEZyb20gSG9zdCBub3QgZm91bmQuICBEZXZpY2Ugbm90IGNvbm5lY3RlZFwiXHJcbn0pO1xyXG5cclxuY29uc3QgcmVhZEZhaWxlZCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAwNywgXHJcbiAgICBuYW1lOiBcIlJlYWRGYWlsZWRcIiwgXHJcbiAgICBtZXNzYWdlOiBcIlVuYWJsZSB0byByZWFkIGRhdGEgZnJvbSBkZXZpY2UuIENvbW11bmljYXRpb24gZXJyb3JcIlxyXG59KTtcclxuXHJcbmNvbnN0IHJlc3BvbnNlTm90UmVjZWl2ZWQgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMDgsIFxyXG4gICAgbmFtZTogJ1Jlc3BvbnNlTm90UmVjZWl2ZWQnLCBcclxuICAgIG1lc3NhZ2U6IFwiQ29tbWFuZCB3YXMgc2VudCwgYnV0IHJlc3BvbnNlIHdhcyBub3QgcmVjZWl2ZWQgZnJvbSBkZXZpY2VcIlxyXG59KTtcclxuXHJcbmNvbnN0IGdldFNlcnZpY2VGYWlsID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxMDA5LCBcclxuICAgIG5hbWU6IFwiR2V0U2VydmljZUZhaWxcIiwgXHJcbiAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byByZXRyaWV2ZSBwcmltYXJ5IEdBVFQgc2VydmljZS4gUGxlYXNlIGNvbm5lY3QgZGV2aWNlXCJcclxufSk7XHJcblxyXG5jb25zdCBjb21tYW5kTm90QWNjZXB0ZWQgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMTMsXHJcbiAgICBuYW1lOiBcIkNvbW1hbmROb3RBY2NlcHRlZFwiLFxyXG4gICAgbWVzc2FnZTogXCJEZXZpY2UgZGlkIG5vdCBhY2NlcHQgY29tbWFuZFwiXHJcbn0pO1xyXG5cclxuY29uc3QgbWlzc2luZ1JlcXVpcmVkRmllbGRzID0gZmllbGROYW1lID0+IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAxNCxcclxuICAgIG5hbWU6IFwiTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyXCIsXHJcbiAgICBtZXNzYWdlOiBgJyR7ZmllbGROYW1lfScgaXMgcmVxdWlyZWQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uLmBcclxufSk7XHJcblxyXG5jb25zdCB3cm9uZ0lucHV0VHlwZXMgPSAoYWNjZXB0YWJsZVR5cGVzLCBwcm9wZXJ0eU5hbWUpID0+IE9iamVjdC5mcmVlemUoe1xyXG4gICAgY29kZTogMTAxNSxcclxuICAgIG5hbWU6IFwiSW5jb3JyZWN0SW5wdXRUeXBlXCIsXHJcbiAgICBtZXNzYWdlOiBgUGFyYW1ldGVyIHR5cGUgZm9yICR7cHJvcGVydHlOYW1lfSB3YXMgbm90IGNvcnJlY3QsIGFjY2VwdGFibGUgdHlwZShzKSBhcmU6ICR7YWNjZXB0YWJsZVR5cGVzLmpvaW4oXCIsIFwiKX1gXHJcbn0pO1xyXG5cclxuY29uc3Qgd3JvbmdJbnB1dFZhbHVlcyA9IChhY2NlcHRhYmxlVmFscywgcHJvcGVydHlOYW1lKSA9PiBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IDEwMTUsXHJcbiAgICBuYW1lOiBcIkluY29ycmVjdElucHV0VmFsdWVcIixcclxuICAgIG1lc3NhZ2U6IGBQYXJhbWV0ZXIgdmFsdWUgZm9yICR7cHJvcGVydHlOYW1lfSB3YXMgbm90IGNvcnJlY3QsIGFjY2VwdGFibGUgdmFsdWUocykgYXJlOiAke2FjY2VwdGFibGVWYWxzLmpvaW4oXCIsIFwiKX1gXHJcbn0pO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIGNvbW1hbmROb3RBY2NlcHRlZCxcclxuICAgIGNvbW1hbmROb3RTZW50LFxyXG4gICAgcmVzcG9uc2VOb3RSZWNlaXZlZCxcclxuICAgIGRldmljZU5vdEZvdW5kLFxyXG4gICAgZGV2aWNlTm90T3BlbixcclxuICAgIGdhdHRTZXJ2ZXJOb3RDb25uZWN0ZWQsXHJcbiAgICByZWFkRmFpbGVkLFxyXG4gICAgY29tbWFuZE5vdFNlbnRGcm9tSG9zdCxcclxuICAgIGdldFNlcnZpY2VGYWlsLFxyXG4gICAgbm90Rm91bmRPYmosXHJcbiAgICBhcGlOZXR3b3JrRXJyLFxyXG4gICAgbWlzc2luZ1JlcXVpcmVkRmllbGRzLFxyXG4gICAgd3JvbmdJbnB1dFR5cGVzLFxyXG4gICAgd3JvbmdJbnB1dFZhbHVlc1xyXG59XHJcbiIsImNvbnN0IG9wZW5TdWNjZXNzID0gXCJEZXZpY2UgT3BlblwiO1xyXG5jb25zdCBjbG9zZVN1Y2Nlc3MgPSBcIkRldmljZSBDbG9zZWRcIlxyXG5jb25zdCBzdWNjZXNzQ29kZSA9IDA7XHJcbmNvbnN0IHN3aXBlTGlzdGVuaW5nID0gXCJTdWNjZXNzLCBsaXN0ZW5pbmcgZm9yIHN3aXBlXCJcclxuY29uc3QgZGV2aWNlTm90SWRsZSA9IFwiRGV2aWNlIG5vdCBpZGxlXCI7XHJcbmNvbnN0IHREeW5hbW8gPSBcInREeW5hbW9cIjtcclxuY29uc3QgZUR5bmFtbyA9IFwiZUR5bmFtb1wiO1xyXG5jb25zdCBkeW5hUHJvR28gPSBcImR5bmFQcm9Hb1wiO1xyXG5jb25zdCBkcE1pbmkgPSBcIkR5bmFQcm8gTWluaVwiO1xyXG5cclxuY29uc3QgY29uZmlnU3RyID0gXCJDb25maWd1cmF0aW9uXCI7XHJcbmNvbnN0IHVua25vd24gPSBcIlVua25vd25cIjtcclxuY29uc3QgdW5rbm93blVuZG9jID0gYCR7dW5rbm93bn0vVW5kb2N1bWVudGVkYDtcclxuY29uc3QgYXNjaWkgPSBcIkFTQ0lJXCI7XHJcblxyXG5jb25zdCBub1Nlc3Npb25Ub0NsZWFyID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiBzdWNjZXNzQ29kZSxcclxuICAgIG1lc3NhZ2U6IFwiU3VjY2VzcywgdGhlcmUgd2FzIG5vIHNlc3Npb24gdG8gY2xlYXJcIlxyXG59KTtcclxuXHJcbmNvbnN0IGdhdHRCdXN5ID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBjb2RlOiAxOSwgXHJcbiAgICBtZXNzYWdlOiBcIkdBVFQgb3BlcmF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MuXCJcclxufSk7XHJcblxyXG5jb25zdCBzdWNjZXNzZnVsQ2xvc2UgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIGNvZGU6IHN1Y2Nlc3NDb2RlLFxyXG4gICAgbWVzc2FnZTogY2xvc2VTdWNjZXNzXHJcbn0pO1xyXG5cclxuY29uc3QgY2FyZFR5cGVBbGwgPSBPYmplY3QuZnJlZXplKHtcclxuICAgIFtlRHluYW1vXTogMHgwMyxcclxuICAgIFt0RHluYW1vXTogMHgwNyxcclxuICAgIFtkcE1pbmldOiAweDAzLFxyXG4gICAgW2R5bmFQcm9Hb106IDB4MDdcclxufSk7XHJcblxyXG5jb25zdCBjYXJkVHlwZXNPYmogPSBPYmplY3QuZnJlZXplKHtcclxuICAgICdtc3InOiAweDAxLFxyXG4gICAgJ2NoaXAnOiAweDAyLFxyXG4gICAgJ2NoaXBtc3InOiAweDAzLFxyXG4gICAgJ2NvbnRhY3RsZXNzJzogMHgwNCxcclxuICAgICdjb250YWN0bGVzc21zcic6IDB4MDUsXHJcbiAgICAnY29udGFjdGxlc3NjaGlwJzoweDA2LFxyXG4gICAgJ2FsbCc6IDB4MDdcclxufSk7XHJcblxyXG5leHBvcnQge1xyXG4gICAgb3BlblN1Y2Nlc3MsXHJcbiAgICBzdWNjZXNzQ29kZSxcclxuICAgIHN3aXBlTGlzdGVuaW5nLFxyXG4gICAgZGV2aWNlTm90SWRsZSxcclxuICAgIGNsb3NlU3VjY2VzcyxcclxuICAgIG5vU2Vzc2lvblRvQ2xlYXIsXHJcbiAgICB0RHluYW1vLFxyXG4gICAgZUR5bmFtbyxcclxuICAgIGR5bmFQcm9HbyxcclxuICAgIGRwTWluaSxcclxuICAgIGNhcmRUeXBlQWxsLFxyXG4gICAgY2FyZFR5cGVzT2JqLFxyXG4gICAgZ2F0dEJ1c3ksXHJcbiAgICBzdWNjZXNzZnVsQ2xvc2UsXHJcbiAgICBjb25maWdTdHIsXHJcbiAgICB1bmtub3duLFxyXG4gICAgdW5rbm93blVuZG9jLFxyXG4gICAgYXNjaWlcclxufVxyXG4iLCJpbXBvcnQgRXJyb3JIYW5kbGVyIGZyb20gJy4uL2Vycm9ySGFuZGxlcic7XHJcbmltcG9ydCB7IFxyXG4gICAgZGV2aWNlTm90Rm91bmQsIFxyXG4gICAgZ2F0dFNlcnZlck5vdENvbm5lY3RlZCxcclxuICAgIGdldFNlcnZpY2VGYWlsLFxyXG4gICAgbm90Rm91bmRPYmosXHJcbiAgICBkZXZpY2VOb3RPcGVuLFxyXG4gICAgYXBpTmV0d29ya0VycixcclxuICAgIHdyb25nSW5wdXRUeXBlc1xyXG59IGZyb20gJy4uL2Vycm9ySGFuZGxlci9lcnJDb25zdGFudHMnO1xyXG5pbXBvcnQgeyBjYXJkVHlwZUFsbCwgY2FyZFR5cGVzT2JqLCBzdWNjZXNzZnVsQ2xvc2UgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY2xhc3MgRGV2aWNlQmFzZSBleHRlbmRzIEVycm9ySGFuZGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxiYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGNhbGxiYWNrcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlID0gZGV2aWNlO1xyXG4gICAgICAgIHRoaXMuZGlzY29ubmVjdENhbGxiYWNrID0gY2FsbGJhY2tzLmRpc2Nvbm5lY3RIYW5kbGVyO1xyXG4gICAgICAgIHRoaXMuZ2F0dFNlcnZlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jYXJkU2VydmljZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlVVVJRHMgPSBbXHJcbiAgICAgICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTA0XCIsXHJcbiAgICAgICAgICAgIFwiMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMTAzXCIsIFxyXG4gICAgICAgICAgICBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDEwMVwiXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW5jeUNvZGUgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgJ2RvbGxhcic6IFsweDA4LCAweDQwXSxcclxuICAgICAgICAgICAgJ2V1cm8nOiBbMHgwOSwgMHg3OF0sXHJcbiAgICAgICAgICAgICdwb3VuZCc6IFsweDA4LCAweDI2XSxcclxuICAgICAgICAgICAgJ2RlZmF1bHQnOiBbMHgwMCwgMHgwMF0gXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25UeXBlcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAncHVyY2hhc2UnOiAweDAwLFxyXG4gICAgICAgICAgICAnY2FzaGFkdmFuY2UnOiAweDAxLFxyXG4gICAgICAgICAgICAnY2FzaGJhY2snOiAweDAyLFxyXG4gICAgICAgICAgICAncHVyY2hhc2Vnb29kcyc6IDB4MDQsXHJcbiAgICAgICAgICAgICdwdXJjaGFzZXNlcnZpY2VzJzogMHgwOCxcclxuICAgICAgICAgICAgJ2NvbnRhY3RsZXNzY2FzaGJhY2snOiAweDA5LFxyXG4gICAgICAgICAgICAnY2FzaG1hbnVhbCc6IDB4MTIsXHJcbiAgICAgICAgICAgICdyZWZ1bmQnOiAweDIwLCBcclxuICAgICAgICAgICAgJ2NoaXBvbmx5cGF5bWVudCc6IDB4NTBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tYW5kUmVzcEF2YWlsYWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNhcmRUeXBlcyA9IGNhcmRUeXBlU3RyID0+IChjYXJkVHlwZVN0ciAhPT0gJ2FsbCcpID8gXHJcbiAgICAgICAgKGNhcmRUeXBlc09ialsgY2FyZFR5cGVTdHIgXSB8fCAweDAzKSA6IChjYXJkVHlwZUFsbFsgdGhpcy5kZXZpY2VUeXBlIF0gfHwgMHgwMyk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgY29ubmVjdCA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBEZXZpY2UgQ29ubmVjdGlvbiBSZXF1ZXN0IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmRldmljZSkgP1xyXG4gICAgICAgICAgICB0aGlzLmRldmljZS5nYXR0LmNvbm5lY3QoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc2VydmVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IERldmljZSBjb25uZWN0ZWQgLSBHQVRUIFNlcnZlciByZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhdHRTZXJ2ZXIgPSBzZXJ2ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RGb3VuZCkgKVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGlzY29ubmVjdCA9ICgpID0+IG5ldyBQcm9taXNlKCByZXNvbHZlID0+ICB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKVxyXG4gICAgICAgICAgICB0aGlzLmRldmljZS5nYXR0LmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoIHN1Y2Nlc3NmdWxDbG9zZSApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FjaGVDYXJkU2VydmljZUJhc2UgPSBzZXJ2aWNlSW5kZXggPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBzZXJ2aWNlSW5kZXggPSBzZXJ2aWNlSW5kZXggfHwgMDtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IENhY2hlIENhcmQgU2VydmljZSBSZXF1ZXN0IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICghdGhpcy5nYXR0U2VydmVyKSA/IFxyXG4gICAgICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZ2F0dFNlcnZlck5vdENvbm5lY3RlZCkgKVxyXG4gICAgICAgICAgICA6IHRoaXMuZmluZFByaW1hcnlTZXJ2aWNlKHNlcnZpY2VJbmRleClcclxuICAgICAgICAgICAgLnRoZW4oc2VydmljZSA9PiByZXNvbHZlKHNlcnZpY2UpKVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKVxyXG4gICAgfSk7XHJcblxyXG4gICAgZmluZFByaW1hcnlTZXJ2aWNlID0gc2VydmljZUluZGV4ID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PlxyXG4gICAgICAgIHRoaXMuZ2F0dFNlcnZlci5nZXRQcmltYXJ5U2VydmljZSh0aGlzLmRldmljZVVVSURzW3NlcnZpY2VJbmRleF0pXHJcbiAgICAgICAgLnRoZW4oc2VydmljZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FyZFNlcnZpY2UgPSBzZXJ2aWNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBTdWNjZXNzISBHQVRUIENhcmQgU2VydmljZSByZXRyaWV2ZWQgYW5kIGNhY2hlZCB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRldmljZS5hZGRFdmVudExpc3RlbmVyKCdnYXR0c2VydmVyZGlzY29ubmVjdGVkJywgdGhpcy5kaXNjb25uZWN0SGFuZGxlcik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCBzZXJ2aWNlICk7XHJcbiAgICAgICAgfSkuY2F0Y2goIGVyciA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gbm90Rm91bmRPYmouZXJyb3JDb2RlICYmIGVyci5uYW1lID09PSBub3RGb3VuZE9iai5lcnJvck5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoIHRoaXMuZGV2aWNlVVVJRHNbc2VydmljZUluZGV4ICsgMV0gIT09IFwidW5kZWZpbmVkXCIgKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBbRVJST1JdOiBGYWlsZWQgdG8gY29ubmVjdC4gVVVJRDogJHt0aGlzLmRldmljZVVVSURzWyBzZXJ2aWNlSW5kZXggXX0gaXMgbm90IHZhbGlkIGZvciB0aGlzIGRldmljZS4gVHJ5aW5nIGFnYWluIHdpdGggVVVJRDogJHt0aGlzLmRldmljZVVVSURzWyBzZXJ2aWNlSW5kZXggKyAxIF19IHx8ICR7bmV3IERhdGUoKX1gXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuZmluZFByaW1hcnlTZXJ2aWNlKHNlcnZpY2VJbmRleCArIDEpICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbRVJST1JdOiBGYWlsZWQgdG8gcmV0cmlldmUgQ2FyZCBTZXJ2aWNlIC0gVVVJRDogJHt0aGlzLmRldmljZVVVSURzWyBzZXJ2aWNlSW5kZXggXX0gaXMgbm90IHZhbGlkIGZvciB0aGlzIGRldmljZS4gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCggZXJyICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25uZWN0QW5kQ2FjaGUgPSBvcHRpb25hbEluZGV4ID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IHRyeVRvQ29ubmVjdCA9IHRyeUNvdW50ID0+IG5ldyBQcm9taXNlKCAoaW5uZXJSZXNvbHZlLCBpbm5lclJlamVjdCkgPT4gKHRyeUNvdW50IDwgNCkgPyBcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0KClcclxuICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLmNhY2hlQ2FyZFNlcnZpY2VCYXNlKG9wdGlvbmFsSW5kZXgpIClcclxuICAgICAgICAgICAgICAgIC50aGVuKCBjYWNoZVNlcnZpY2VSZXNwID0+IGlubmVyUmVzb2x2ZSggY2FjaGVTZXJ2aWNlUmVzcCApXHJcbiAgICAgICAgICAgICAgICApLmNhdGNoKCBlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gYXBpTmV0d29ya0Vyci5jb2RlICYmIGVyci5uYW1lID09PSBhcGlOZXR3b3JrRXJyLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtFUlJPUl06IEVycm9yIGNhY2hpbmcgR0FUVCBTZXJ2aWNlIC0gQ2xlYXJpbmcgY2FjaGUgYW5kIHRyeWluZyBhZ2Fpbi4gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckdhdHRDYWNoZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlubmVyUmVzb2x2ZSggdHJ5VG9Db25uZWN0KCB0cnlDb3VudCArIDEgKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbRVJST1JdOiBGYWlsZWQgdG8gY2FjaGUgR0FUVCBTZXJ2aWNlIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlubmVyUmVqZWN0KCBlcnIgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgaW5uZXJSZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZ2V0U2VydmljZUZhaWwpIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ5VG9Db25uZWN0KDApLnRoZW4oXHJcbiAgICAgICAgICAgIGNhY2hlU2VydmljZVJlc3AgPT4gcmVzb2x2ZSggY2FjaGVTZXJ2aWNlUmVzcClcclxuICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZW5kQXJwY0Jhc2UgPSBhcnBjUmVzcCA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZClcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSApO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGFycGNSZXNwICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgYXJwY1Jlc3AgIT09ICdvYmplY3QnKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKCB3cm9uZ0lucHV0VHlwZXMoWydzdHJpbmcnLCAnYXJyYXkgb2YgbnVtYmVycyddLCBcIkFSUENcIikgKSApO1xyXG5cclxuICAgICAgICBjb25zdCBkYXRhTGVuID0gKHR5cGVvZiBhcnBjUmVzcCA9PT0gJ3N0cmluZycpID8gKGFycGNSZXNwLmxlbmd0aCAvIDIpIDogYXJwY1Jlc3AubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGlucHV0RGF0YSA9ICh0eXBlb2YgYXJwY1Jlc3AgPT09ICdzdHJpbmcnKSA/IHRoaXMuaGV4VG9CeXRlcyhhcnBjUmVzcCkgOiBhcnBjUmVzcDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRBcnBjQ29tbWFuZChkYXRhTGVuLCBpbnB1dERhdGEpXHJcbiAgICAgICAgKVxyXG4gICAgfSk7XHJcblxyXG4gICAgb25EZXN0cm95SGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kZXZpY2UgJiYgdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpIFxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXZpY2UuZ2F0dC5kaXNjb25uZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgd2FpdEZvckRldmljZVJlc3BvbnNlID0gbWF4VHJpZXMgPT4gbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCB3YWl0Rm9yUmVzcG9uc2UgPSB0cnlOdW1iZXIgPT4gXHJcbiAgICAgICAgICAgICh0cnlOdW1iZXIgPCBtYXhUcmllcykgPyBcclxuICAgICAgICAgICAgICAgICh0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlKSA/IHJlc29sdmUoIHRydWUgKSA6IHNldFRpbWVvdXQoKCkgPT4gd2FpdEZvclJlc3BvbnNlKHRyeU51bWJlciArIDEpLCAyMDApXHJcbiAgICAgICAgICAgIDogcmVzb2x2ZSggZmFsc2UgKTtcclxuXHJcbiAgICAgICAgd2FpdEZvclJlc3BvbnNlKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGlzY29ubmVjdEhhbmRsZXIgPSBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5nYXR0U2VydmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNhcmRTZXJ2aWNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0Rpc2Nvbm5lY3RlZF06IERpc2Nvbm5lY3QgZXZlbnQuIFJldHVybmluZyBldmVudCB0byB1c2VyLCByZW1vdmluZyBkZXZpY2UgbGlzdGVuZXIgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RDYWxsYmFjayhldmVudCk7XHJcbiAgICAgICAgdGhpcy5kZXZpY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZ2F0dHNlcnZlcmRpc2Nvbm5lY3RlZCcsIHRoaXMuZGlzY29ubmVjdEhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRGV2aWNlQ29ubmVjdGVkID0gKCkgPT4gKHRoaXMuZGV2aWNlLmdhdHQpID8gdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQgOiBmYWxzZTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGV2aWNlQmFzZTsiLCJpbXBvcnQgRGV2aWNlQmFzZSBmcm9tICcuLi9kZXZpY2VzL2Jhc2VDbGFzcyc7XHJcbmltcG9ydCB7XHJcbiAgICBtaXNzaW5nUmVxdWlyZWRGaWVsZHMsXHJcbiAgICB3cm9uZ0lucHV0VHlwZXMsXHJcbiAgICB3cm9uZ0lucHV0VmFsdWVzXHJcbn0gZnJvbSAnLi4vZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cyc7XHJcblxyXG5jbGFzcyBQaW5WYWxpZGF0aW9uIGV4dGVuZHMgRGV2aWNlQmFzZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZUFtb3VudCA9IHBhcmVudFJlamVjdCA9PiAoYW1vdW50LCBwcm9wTmFtZSwgZGVmYXVsdFZhbCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCh0eXBlb2YoYW1vdW50KSkge1xyXG4gICAgICAgICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChhbW91bnQudG9TdHJpbmcoKS5sZW5ndGggPiAxMikgPyBwYXJlbnRSZWplY3Qod3JvbmdJbnB1dFZhbHVlcyhbJ251bWJlciBvZiAxMiBkaWdpdHMgb3IgbGVzcycsICdieXRlIGFycmF5IHJlcHJlc2VudGF0aW9uIG9mIGFtb3VudCAoNiBieXRlcywgbjEyIGZvcm1hdCknXSwgYW1vdW50KSkgXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNvbnZlcnROdW1Ub0Ftb3VudChhbW91bnQpO1xyXG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChhbW91bnQubGVuZ3RoID09PSA2KSA/IGFtb3VudCBcclxuICAgICAgICAgICAgICAgICAgICA6IHBhcmVudFJlamVjdCh3cm9uZ0lucHV0VmFsdWVzKFsnMTIgZGlnaXQgb3IgbGVzcyBudW1iZXInLCAnYnl0ZSBhcnJheSByZXByZXNlbnRhdGlvbiBvZiBhbW91bnQgKDYgYnl0ZXMsIG4xMiBmb3JtYXQpJ10sIHByb3BOYW1lKSk7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHR5cGVvZihkZWZhdWx0VmFsKSA9PT0gJ3VuZGVmaW5lZCcpID8gcGFyZW50UmVqZWN0KG1pc3NpbmdSZXF1aXJlZEZpZWxkcyhwcm9wTmFtZSkpIDogZGVmYXVsdFZhbDtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRSZWplY3Qod3JvbmdJbnB1dFR5cGVzKFsnbnVtYmVyIG9mIDEyIGRpZ2l0cyBvciBsZXNzJywgJ2J5dGUgYXJyYXkgcmVwcmVzZW50YXRpb24gb2YgYW1vdW50ICg2IGJ5dGVzLCBuMTIgZm9ybWF0KSddLCBwcm9wTmFtZSkpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB2YWxpZGF0ZVJlcXVpcmVkSW5wdXRzID0gdmFsaWRhdGlvbkNvbmZpZyA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWxpZGF0aW9uQ29uZmlnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB7IHByb3AsIHZhbGlkVHlwZXMsIHZhbGlkVmFsdWVzLCBjb25kaXRpb24sIHByb3BOYW1lIH0gPSB2YWxpZGF0aW9uQ29uZmlnW2ldO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZihwcm9wKSA9PT0gJ3VuZGVmaW5lZCcgJiYgY29uZGl0aW9uKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChtaXNzaW5nUmVxdWlyZWRGaWVsZHMocHJvcE5hbWUpKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB0eXBlSXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmR4ID0gMDsgaW5keCA8IHZhbGlkVHlwZXMubGVuZ3RoOyBpbmR4KyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocHJvcCkgPT09IHZhbGlkVHlwZXNbaW5keF0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlSXNWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghdHlwZUlzVmFsaWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KHdyb25nSW5wdXRUeXBlcyh2YWxpZFR5cGVzLCBwcm9wTmFtZSkpOyBcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YodmFsaWRWYWx1ZXMpICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHNBcmVWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHZhbGlkVmFsdWVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wLnRvTG93ZXJDYXNlKCkgPT09IHZhbGlkVmFsdWVzW2luZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxzQXJlVmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF2YWxzQXJlVmFsaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh3cm9uZ0lucHV0VmFsdWVzKHZhbGlkVmFsdWVzLCBwcm9wTmFtZSkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQaW5WYWxpZGF0aW9uOyIsImltcG9ydCBQaW5WYWxpZGF0aW9uIGZyb20gJy4vcGluVmFsaWRhdGlvbic7XHJcblxyXG5jbGFzcyBQaW5VdGlscyBleHRlbmRzIFBpblZhbGlkYXRpb24ge1xyXG4gICAgY29uc3RydWN0b3IoZGV2aWNlLCBjYWxsQmFja3MpIHtcclxuICAgICAgICBzdXBlcihkZXZpY2UsIGNhbGxCYWNrcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjaW1hbFRvQmluYXJ5ID0gbnVtID0+IHtcclxuICAgICAgICBsZXQgYmluYXJ5TnVtID0gKG51bSA+Pj4gMCkudG9TdHJpbmcoMik7XHJcbiAgICAgICAgcmV0dXJuIFwiMDAwMDAwMDBcIi5zdWJzdHIoYmluYXJ5TnVtLmxlbmd0aCkgKyBiaW5hcnlOdW07XHJcbiAgICB9XHJcblxyXG4gICAgc3RyaW5nTnVtVG9Cb29sID0gc3RyaW5nTnVtID0+ICEhK3N0cmluZ051bTtcclxuXHJcbiAgICBmaW5kTnVsbFRlcm1pbmF0ZWRTdHJpbmcgPSBudWxsVGVybWluYXRlZEFycmF5ID0+IHtcclxuICAgICAgICBsZXQgdGFyZ2V0SW5kZXg7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVsbFRlcm1pbmF0ZWRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobnVsbFRlcm1pbmF0ZWRBcnJheVtpXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bGxUZXJtaW5hdGVkQXJyYXlbaSArIDFdID09PSAwICYmIG51bGxUZXJtaW5hdGVkQXJyYXlbaSArIDJdID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKHRhcmdldEluZGV4KSA/IFxyXG4gICAgICAgICAgICB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKG51bGxUZXJtaW5hdGVkQXJyYXkuc2xpY2UoMiwgdGFyZ2V0SW5kZXgpICkgXHJcbiAgICAgICAgICAgIDogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhudWxsVGVybWluYXRlZEFycmF5LnNsaWNlKDIpICk7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZFBpbkxlbmd0aCA9IChtYXhMZW4sIG1pbkxlbikgPT4ge1xyXG4gICAgICAgIGxldCBtYXhMZW5ndGggPSAxMjtcclxuICAgICAgICBsZXQgbWluTGVuZ3RoID0gNDtcclxuXHJcbiAgICAgICAgaWYgKG1heExlbikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG1heExlbiA9PT0gJ251bWJlcicgJiYgbWF4TGVuIDw9IDEyKVxyXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoID0gKG1heExlbiA+PSA0KSA/IG1heExlbiA6IDEyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1pbkxlbikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG1pbkxlbiA9PT0gJ251bWJlcicgJiYgbWluTGVuID49NClcclxuICAgICAgICAgICAgICAgIG1pbkxlbmd0aCA9IChtaW5MZW4gPD0gbWF4TGVuZ3RoKSA/IG1pbkxlbiA6IDQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoYCR7bWF4TGVuZ3RoLnRvU3RyaW5nKDE2KX0ke21pbkxlbmd0aC50b1N0cmluZygxNil9YCwgMTYpO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkUGluT3B0aW9uc0J5dGUgPSAobGFuZ3VhZ2VTZWxlY3Rpb24sIHdhaXRNZXNzYWdlLCB2ZXJpZnlQaW4sIHBpbkJsb2NrRm9ybWF0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VQcm9tcHRzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwiZGlzYWJsZWRcIjogXCIwMFwiLFxyXG4gICAgICAgICAgICBcImVuZ2xpc2hmcmVuY2hcIjogXCIwMVwiLFxyXG4gICAgICAgICAgICBcImFsbHNwZWNpZmllZFwiOiBcIjEwXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGFuZ3VhZ2VTZWxlY3Rpb24gPSAobGFuZ3VhZ2VTZWxlY3Rpb24pID8gKGxhbmd1YWdlUHJvbXB0c1sgbGFuZ3VhZ2VTZWxlY3Rpb24udG9Mb3dlckNhc2UoKSBdIHx8IGxhbmd1YWdlUHJvbXB0cy5kaXNhYmxlZCkgOiBsYW5ndWFnZVByb21wdHMuZGlzYWJsZWQ7XHJcbiAgICAgICAgd2FpdE1lc3NhZ2UgPSAodHlwZW9mIHdhaXRNZXNzYWdlID09PSAnYm9vbGVhbicpID8gd2FpdE1lc3NhZ2UgOiB0cnVlO1xyXG4gICAgICAgIHZlcmlmeVBpbiA9ICh0eXBlb2Ygd2FpdE1lc3NhZ2UgPT09ICdib29sZWFuJykgPyB3YWl0TWVzc2FnZSA6IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGluQmxvY2tGb3JtYXQgPSAodHlwZW9mKHBpbkJsb2NrRm9ybWF0KSA9PT0gJ3N0cmluZycpID8gXHJcbiAgICAgICAgICAgICAgICAocGluQmxvY2tGb3JtYXQudG9Mb3dlckNhc2UoKSA9PT0gJ2lzbzAnKSA/ICcwJyA6ICcxJyBcclxuICAgICAgICAgICAgOiAnMCc7XHJcblxyXG4gICAgICAgIGNvbnN0IGJpbmFyeVJlc3VsdCA9IGAwMDAke2xhbmd1YWdlU2VsZWN0aW9ufSR7KCh3YWl0TWVzc2FnZSkgPyAnMScgOiAnMCcpfSR7KCh2ZXJpZnlQaW4pID8gJzEnIDogJzAnKX0ke3BpbkJsb2NrRm9ybWF0fWA7XHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW1Bpbk9wdGlvbnNCeXRlXTogYmluYXJ5IHN0cmluZyByZXByZXNlbnRhdGlvbjogJHtiaW5hcnlSZXN1bHR9IHx8IGJ5dGUgcmVzdWx0OiAke3BhcnNlSW50KGJpbmFyeVJlc3VsdCwgMil9YClcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGJpbmFyeVJlc3VsdCwgMik7XHJcbiAgICB9XHJcblxyXG4gICAgYnVpbGROMkZvcm1hdCA9IG51bSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3RyaW5nTnVtID0gbnVtLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgY29uc3QgaGV4TnVtID0gKHN0cmluZ051bS5sZW5ndGggPT09IDIpID8gc3RyaW5nTnVtIDogYDAke3N0cmluZ051bX1gO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGAweCR7aGV4TnVtWzBdfSR7aGV4TnVtWzFdfWAsIDE2KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGluVXRpbHM7IiwiaW1wb3J0IFBpblV0aWxzIGZyb20gJy4uL3V0aWxzL3BpblV0aWxzJztcclxuaW1wb3J0IHsgY29uZmlnU3RyLCB1bmtub3duLCBhc2NpaSwgdW5rbm93blVuZG9jIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIFBhcnNlUGluQ29uZmlnIGV4dGVuZHMgUGluVXRpbHMge1xyXG4gICAgY29uc3RydWN0b3IoZGV2aWNlLCBjYWxsQmFja3MpIHtcclxuICAgICAgICBzdXBlcihkZXZpY2UsIGNhbGxCYWNrcyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJhY2tEYXRhT3B0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBcIjAwXCI6IFwiRGlzYWJsZWRcIixcclxuICAgICAgICAgICAgXCIwMVwiOiBcIkVuYWJsZWRcIixcclxuICAgICAgICAgICAgXCIxMVwiOiBcIlJlcXVpcmVkXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5lbXZMMkNvbmZpZ09wdGlvbnMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgXCIwMDAwXCI6IFwiTm8gTDIgQ2FwYWJpbGl0eVwiLFxyXG4gICAgICAgICAgICBcIjAwMDFcIjogYCR7Y29uZmlnU3RyfSBDMSAoRU1WQ28gY2VydGlmaWVkKWAsXHJcbiAgICAgICAgICAgIFwiMDAxMFwiOiBgJHtjb25maWdTdHJ9IEMyYCxcclxuICAgICAgICAgICAgXCIwMDExXCI6IGAke2NvbmZpZ1N0cn0gQzNgLFxyXG4gICAgICAgICAgICBcIjAxMDBcIjogYCR7Y29uZmlnU3RyfSBDNCAoRU1WQ28gY2VydGlmaWVkKWAsXHJcbiAgICAgICAgICAgIFwiMDEwMVwiOiBgJHtjb25maWdTdHJ9IEM1IChFTVZDbyBjZXJ0aWZpZWQpYCxcclxuICAgICAgICAgICAgXCIwMTEwXCI6IGAke2NvbmZpZ1N0cn0gQzZgLFxyXG4gICAgICAgICAgICBcIjAxMTFcIjogYCR7Y29uZmlnU3RyfSBDN2BcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmFibGVkQnJhbmRzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwiMFwiOiBcIkFsbCBjb250YWNsZXNzIGtlcm5hbHMgZW5hYmxlZFwiLFxyXG4gICAgICAgICAgICBcIjFcIjogXCJQYXlQYXNzL01DTCBzdXBwb3J0IGRpc2FibGVkXCIsXHJcbiAgICAgICAgICAgIFwiMlwiOiBcInBheVdhdmUgc3VwcG9ydCBkaXNhYmxlZFwiLFxyXG4gICAgICAgICAgICBcIjRcIjogXCJFeHByZXNzcGF5IHN1cHBvcnQgZGlzYWJsZWRcIixcclxuICAgICAgICAgICAgXCI4XCI6IFwiRC1QQVMgc3VwcG9ydCBkaXNhYmxlZFwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VEZXZpY2VDb25maWd1cmF0aW9uID0gY29uZmlnQXJyID0+ICh7XHJcbiAgICAgICAgLi4udGhpcy5maXJzdERldmljZUNvbnRyb2xCeXRlKCB0aGlzLmRlY2ltYWxUb0JpbmFyeShjb25maWdBcnJbMV0pICksXHJcbiAgICAgICAgLi4udGhpcy5zZWNvbmREZXZpY2VDb250cm9sQnl0ZSggdGhpcy5kZWNpbWFsVG9CaW5hcnkoY29uZmlnQXJyWzJdKSApLFxyXG4gICAgICAgIC4uLnRoaXMubWFza0NvbmZpZ3VyYXRpb25CeXRlKCB0aGlzLmRlY2ltYWxUb0JpbmFyeShjb25maWdBcnJbM10pICksXHJcbiAgICAgICAgLi4udGhpcy5tc3JDb25maWd1cmF0aW9uQnl0ZSggdGhpcy5kZWNpbWFsVG9CaW5hcnkoY29uZmlnQXJyWzRdKSApLFxyXG4gICAgICAgIG1hc2tDaGFyYWN0ZXI6IHRoaXMuZmluZE1hc2tDaGFyYWN0ZXIoY29uZmlnQXJyWzVdKSxcclxuICAgICAgICBsZWFkaW5nVW5tYXNrZWRMZW5ndGg6IHBhcnNlSW50KHRoaXMuZGVjaW1hbFRvQmluYXJ5KCBjb25maWdBcnJbNl0pLnNsaWNlKDQpLCAyKSxcclxuICAgICAgICB0cmFpbGluZ1VubWFza2VkTGVuZ3RoOiBwYXJzZUludCh0aGlzLmRlY2ltYWxUb0JpbmFyeSggY29uZmlnQXJyWzZdKS5zbGljZSgwLCA0KSwgMiksXHJcbiAgICAgICAgZW12TDJJY3NDb25maWc6ICh0aGlzLmVtdkwyQ29uZmlnT3B0aW9uc1sgdGhpcy5kZWNpbWFsVG9CaW5hcnkoY29uZmlnQXJyWzddKS5zbGljZSgwLCA0KSBdIHx8IGAke3Vua25vd25VbmRvY30gRU1WIEwyIElDUyAke2NvbmZpZ1N0cn1gKSxcclxuICAgICAgICAuLi50aGlzLmNvbnRhY3RsZXNzQ29uZmlnKCBjb25maWdBcnJbOF0gKVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29udGFjdGxlc3NDb25maWcgPSBjb250YWN0bGVzc0J5dGUgPT4gKHtcclxuICAgICAgICBjb250YWN0bGVzc1N1cHBvcnQ6IHRoaXMuZW5hYmxlZEJyYW5kc1sgdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhbY29udGFjdGxlc3NCeXRlXSlbMF0gXSxcclxuICAgICAgICBjb250YWN0bGVzc0d1aUNvbnRyb2xzOiAodGhpcy5kZWNpbWFsVG9CaW5hcnkoY29udGFjdGxlc3NCeXRlKVs1XSA9PT0gXCIxXCIpID8gXCJBbHRlcm5hdGVcIiA6IFwiU3RhbmRhcmRcIlxyXG4gICAgfSlcclxuXHJcbiAgICBmaW5kTWFza0NoYXJhY3RlciA9IG51bUNoYXIgPT4ge1xyXG4gICAgICAgIGlmIChudW1DaGFyID09PSA0OCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7YXNjaWl9OiAnMCdgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBudW1DaGFyVG9IZXggPSB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKFtudW1DaGFyXSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG51bUNoYXJUb0FzY2lpID0gdGhpcy5oZXhUb0FzY2lpKCBudW1DaGFyVG9IZXggKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAobnVtQ2hhclRvQXNjaWkpID8gYCR7YXNjaWl9OiAnJHtudW1DaGFyVG9Bc2NpaX0nYCBcclxuICAgICAgICAgICAgICAgIDogYE5vbi0ke2FzY2lpfSBjaGFyYWN0ZXIgaW4gaGV4OiAnJHtudW1DaGFyVG9IZXh9J2BcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmlyc3REZXZpY2VDb250cm9sQnl0ZSA9IGRldmljZUNvbnRyb2xCeXRlID0+ICh7XHJcbiAgICAgICAgcmVxdWlyZU11dHVhbEF1dGg6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKGRldmljZUNvbnRyb2xCeXRlWzBdKSxcclxuICAgICAgICBtc3JFbmNyeXB0aW9uVmFyaWFudDogKGRldmljZUNvbnRyb2xCeXRlWzFdID09PSBcIjFcIikgPyBcIkRBVEFcIiA6IFwiUElOXCIsXHJcbiAgICAgICAgaXNDbGVhclRleHRFbmFibGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbChkZXZpY2VDb250cm9sQnl0ZVszXSksXHJcbiAgICAgICAgaXNCZWVwZXJNb2RlRW5hYmxlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woZGV2aWNlQ29udHJvbEJ5dGVbNF0pLFxyXG4gICAgICAgIGlzQml0bWFwTG9ja2VkOiB0aGlzLnN0cmluZ051bVRvQm9vbChkZXZpY2VDb250cm9sQnl0ZVs2XSksXHJcbiAgICAgICAgaXNDb25maWd1cmF0aW9uTG9ja2VkOiB0aGlzLnN0cmluZ051bVRvQm9vbChkZXZpY2VDb250cm9sQnl0ZVs3XSlcclxuICAgIH0pO1xyXG5cclxuICAgIHNlY29uZERldmljZUNvbnRyb2xCeXRlID0gZGV2aWNlQ3RybEJ5dGUgPT4gKHtcclxuICAgICAgICBpc0FycGNNYWNFbmFibGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbChkZXZpY2VDdHJsQnl0ZVsxXSksXHJcbiAgICAgICAgaXNGaW5hbmNpYWxJY2NDYXJkVHlwZVJlcG9ydGluZ0VuYWJsZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKGRldmljZUN0cmxCeXRlWzJdKSxcclxuICAgICAgICBhcnFjQmF0Y2hEYXRhT3V0cHV0Rm9ybWF0OiAoZGV2aWNlQ3RybEJ5dGVbM10gPT09IFwiMVwiKSA/IFwiUmVzZXJ2ZWQgRm9ybWF0XCIgOiBcIkR5bmFQcm8gRm9ybWF0XCJcclxuICAgIH0pO1xyXG5cclxuICAgIG1hc2tDb25maWd1cmF0aW9uQnl0ZSA9IG1hc2tDb25maWdCeXRlID0+ICh7XHJcbiAgICAgICAgaXNJc29NYXNrRW5hYmxlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2wobWFza0NvbmZpZ0J5dGVbN10pLFxyXG4gICAgICAgIGlzQ2hlY2tEaWdpdEVuYWJsZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKG1hc2tDb25maWdCeXRlWzZdKSxcclxuICAgICAgICBpc01zMlBvaW50MEVuYWJsZWQ6ICggbWFza0NvbmZpZ0J5dGUuc2xpY2UoNCwgNikgIT09IFwiMDBcIilcclxuICAgIH0pO1xyXG5cclxuICAgIG1zckNvbmZpZ3VyYXRpb25CeXRlID0gbXNyQ29uZmlnQnl0ZSA9PiAoe1xyXG4gICAgICAgIGlzQUFNVkFjYXJkRW5hYmxlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2wobXNyQ29uZmlnQnl0ZVs3XSksXHJcbiAgICAgICAgdHJhY2szRGF0YTogKCB0aGlzLnRyYWNrRGF0YU9wdGlvbnNbIG1zckNvbmZpZ0J5dGUuc2xpY2UoNCwgNikgXSB8fCB1bmtub3duICksXHJcbiAgICAgICAgdHJhY2syRGF0YTogKCB0aGlzLnRyYWNrRGF0YU9wdGlvbnNbIG1zckNvbmZpZ0J5dGUuc2xpY2UoMiwgNCkgXSB8fCB1bmtub3duICksXHJcbiAgICAgICAgdHJhY2sxRGF0YTogKCB0aGlzLnRyYWNrRGF0YU9wdGlvbnNbIG1zckNvbmZpZ0J5dGUuc2xpY2UoMCwgMikgXSB8fCB1bmtub3duICksXHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYXJzZVBpbkNvbmZpZztcclxuIiwiaW1wb3J0IFBhcnNlUGluQ29uZmlnIGZyb20gJy4vcGluQ29uZmlndXJhdGlvbic7XHJcbmltcG9ydCB7IHVua25vd24sIHVua25vd25VbmRvYyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcblxyXG5jbGFzcyBQaW5TdGF0dXNQYXJzZXIgZXh0ZW5kcyBQYXJzZVBpbkNvbmZpZyB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25TdGF0dXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHgwMDogXCJPa1wiLFxyXG4gICAgICAgICAgICAweDAxOiBcIkNhcmRob2xkZXIgQ2FuY2VsXCIsXHJcbiAgICAgICAgICAgIDB4MDI6IFwiVGltZW91dFwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIkhvc3QgQ2FuY2VsXCIsXHJcbiAgICAgICAgICAgIDB4MDQ6IFwiVmVyaWZ5IGZhaWxcIixcclxuICAgICAgICAgICAgMHgwNTogXCJLZXlwYWQgU2VjdXJpdHlcIixcclxuICAgICAgICAgICAgMHgwNjogXCJDYWxpYnJhdGlvbiBEb25lXCIsXHJcbiAgICAgICAgICAgIDB4MDc6IFwiV3JpdGUgd2l0aCBkdXBsaWNhdGUgUklEIGFuZCBpbmRleFwiLFxyXG4gICAgICAgICAgICAweDA4OiBcIldyaXRlIHdpdGggY29ycnVwdGVkIEtleVwiLFxyXG4gICAgICAgICAgICAweDA5OiBcIkNBIFB1YmxpYyBLZXkgcmVhY2hlZCBtYXhpbXVtIGNhcGFjaXR5XCIsXHJcbiAgICAgICAgICAgIDB4MEE6IFwiQ0EgUHVibGljIEtleSByZWFkIHdpdGggaW52YWxpZCBSSUQgb3IgSW5kZXhcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLkFDS1NUUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIk9rXCIsXHJcbiAgICAgICAgICAgIDB4MTU6IFwiUklEIGVycm9yL0luZGV4IG5vdCBmb3VuZFwiLFxyXG4gICAgICAgICAgICAweDgwOiBcIkRldmljZSBFcnJvcjogZXJyb3IsIHRhbXBlciwgbWlzc2luZyBjZXJ0aWZpY2F0ZSBvciBpbmNvcnJlY3Qgc2lnbmF0dXJlIGRldGVjdGVkXCIsXHJcbiAgICAgICAgICAgIDB4ODE6IFwiRGV2aWNlIG5vdCBpZGxlXCIsXHJcbiAgICAgICAgICAgIDB4ODI6IFwiRGF0YSBFcnJvciBvciBCYWQgUGFyYW1hdGVyKHMpXCIsXHJcbiAgICAgICAgICAgIDB4ODM6IFwiTGVuZ3RoIEVycm9yOiBkYXRhIHNpemUgaXMgZWl0aGVyIHRvbyBzbWFsbCwgdG9vIGxhcmdlLCBpbmNvbXBsZXRlLCBvciBPSUQgb2YgdGhlIGNlcnQgZG9lc24ndCBtYXRjaCBwcmVkZWZpbmVkIE9JRFwiLFxyXG4gICAgICAgICAgICAweDg0OiBcIlBBTiBFeGlzdHNcIixcclxuICAgICAgICAgICAgMHg4NTogXCJNaXNzaW5nIG9yIEluY29ycmVjdCBLZXlcIixcclxuICAgICAgICAgICAgMHg4NjogXCJEZXZpY2UgQnVzeVwiLFxyXG4gICAgICAgICAgICAweDg3OiBcIkRldmljZSBMb2NrZWRcIixcclxuICAgICAgICAgICAgMHg4ODogXCJBdXRoIHJlcXVpcmVkXCIsXHJcbiAgICAgICAgICAgIDB4ODk6IFwiQmFkIEF1dGhcIixcclxuICAgICAgICAgICAgMHg4QTogXCJEZXZpY2UgTm90IEF2YWlsYWJsZVwiLFxyXG4gICAgICAgICAgICAweDhCOiBcIkFtb3VudCBOZWVkZWQgLSBJZiBQSU4gYW1vdW50IGlzIHJlcXVpcmVkLCBubyBhbW91bnQgaGFzIGJlZW4gc2V0XCIsXHJcbiAgICAgICAgICAgIDB4OEM6IFwiQmF0dGVyeSBpcyBjcml0aWNhbGx5IGxvd1wiLFxyXG4gICAgICAgICAgICAweDhEOiBcIkRldmljZSBpcyByZXNldHRpbmdcIixcclxuICAgICAgICAgICAgMHg5MDogXCJDZXJ0aWZpY2F0ZSBkb2VzIG5vdCBleGlzdFwiLFxyXG4gICAgICAgICAgICAweDkxOiBcIkV4cGlyZWQgKENlcnQvQ1JMKVwiLFxyXG4gICAgICAgICAgICAweDkyOiBcIkludmFsaWQgKENlcnQvQ1JML01lc3NhZ2UpXCIsXHJcbiAgICAgICAgICAgIDB4OTM6IFwiUmV2b2tlZCAoQ2VydC9DUkwpXCIsXHJcbiAgICAgICAgICAgIDB4OTQ6IFwiQ1JMIGRvZXMgbm90IGV4aXN0XCIsXHJcbiAgICAgICAgICAgIDB4OTU6IFwiQ2VydGlmaWNhdGUgZXhpc3RzXCIsXHJcbiAgICAgICAgICAgIDB4OTY6IFwiRHVwbGljYXRlIEtTTi9LZXlcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBpbkNvbW1hbmRJZHMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHgwMTogXCJyZXNwb25zZUFDS1wiLFxyXG4gICAgICAgICAgICAweDAyOiBcImNsZWFyU2Vzc2lvblwiLFxyXG4gICAgICAgICAgICAweDAzOiBcInN3aXBlXCIsXHJcbiAgICAgICAgICAgIDB4MDQ6IFwicmVxdWVzdFBpbkVudHJ5XCIsXHJcbiAgICAgICAgICAgIDB4MDU6IFwiY2FuY2VsQ29tbWFuZFwiLFxyXG4gICAgICAgICAgICAweDA2OiBcInJlcXVlc3RDYXJkaG9sZGVyU2VsZWN0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MDc6IFwiZGlzcGxheU1lc3NhZ2VcIixcclxuICAgICAgICAgICAgMHgwODogXCJyZXF1ZXN0RGV2aWNlU3RhdHVzXCIsXHJcbiAgICAgICAgICAgIDB4MDk6IFwicmVxdWVzdERldmljZUNvbmZpZ3VyYXRpb25cIixcclxuICAgICAgICAgICAgMHgwQTogXCJyZXF1ZXN0TXNyRGF0YVwiLFxyXG4gICAgICAgICAgICAweDBCOiBcImdldENoYWxsZW5nZVwiLFxyXG4gICAgICAgICAgICAweDA3OiBcImRpc3BsYXlNZXNzYWdlXCIsXHJcbiAgICAgICAgICAgIDB4QTI6IFwiZW12VHJhbnNhY3Rpb25TdGF0dXNcIixcclxuICAgICAgICAgICAgMHhBQjogXCJyZXF1ZXN0RW12RGF0YVwiLFxyXG4gICAgICAgICAgICAweDFBOiBcInJlcXVlc3REZXZpY2VJbmZvXCIsXHJcbiAgICAgICAgICAgIDB4MTA6IFwic2VuZEJpZ0Jsb2NrRGF0YVwiLFxyXG4gICAgICAgICAgICAweEEwOiBcInJlcXVlc3RUaXBPckNhc2hiYWNrXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkVHlwZXNFbnVtID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IFwiT3RoZXJcIixcclxuICAgICAgICAgICAgMHgwMTogXCJGaW5hbmNpYWxcIixcclxuICAgICAgICAgICAgMHgwMjogXCJBQU1WQVwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIk1hbnVhbFwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIlVua25vd25cIixcclxuICAgICAgICAgICAgMHgwNTogXCJJQ0NcIixcclxuICAgICAgICAgICAgMHgwNjogXCJDb250YWN0bGVzcyBJQ0MgLSBFTVZcIixcclxuICAgICAgICAgICAgMHgwNzogXCJGaW5hbmNpYWwgTVNSICsgSUNDXCIsXHJcbiAgICAgICAgICAgIDB4MDg6IFwiQ29udGFjdGxlc3MgSUNDIC0gTVNEXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXZpY2VTdGF0ZSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAwOiBcIklkbGVcIixcclxuICAgICAgICAgICAgMHgwMTogXCJTZXNzaW9uXCIsXHJcbiAgICAgICAgICAgIDB4MDI6IFwiV2FpdCBGb3IgQ2FyZFwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIldhaXQgRm9yIFBJTlwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIldhaXQgRm9yIFNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDA1OiBcIkRpc3BsYXlpbmcgTWVzc2FnZVwiLFxyXG4gICAgICAgICAgICAweDA2OiBcIlRlc3QgKFJlc2VydmVkIGZvciBmdXR1cmUgdXNlKVwiLFxyXG4gICAgICAgICAgICAweDA3OiBcIk1hbnVhbCBDYXJkIEVudHJ5XCIsXHJcbiAgICAgICAgICAgIDB4MDk6IFwiV2FpdCBDYXJkaG9sZGVyIEVudHJ5XCIsXHJcbiAgICAgICAgICAgIDB4MEE6IFwiQ2hpcCBDYXJkXCIsXHJcbiAgICAgICAgICAgIDB4MEI6IFwiSUNDIEtlcm5lbCBUZXN0XCIsXHJcbiAgICAgICAgICAgIDB4MEM6IFwiRU1WIFRyYW5zYWN0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MEQ6IFwiU2hvdyBQQU5cIixcclxuICAgICAgICAgICAgMHgxRjogXCJXYWl0IGZvciBUaXAgU2VsZWN0aW9uXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YUlkcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAxOiBcInRyYWNrMVwiLFxyXG4gICAgICAgICAgICAweDAyOiBcInRyYWNrMlwiLFxyXG4gICAgICAgICAgICAweDAzOiBcInRyYWNrM1wiLFxyXG4gICAgICAgICAgICAweDA0OiBcImVuY3J5cHRlZFRyYWNrMVwiLFxyXG4gICAgICAgICAgICAweDA1OiBcImVuY3J5cHRlZFRyYWNrMlwiLFxyXG4gICAgICAgICAgICAweDA2OiBcImVuY3J5cHRlZFRyYWNrM1wiLFxyXG4gICAgICAgICAgICAweDA3OiBcIm1hZ25lUHJpbnRcIixcclxuICAgICAgICAgICAgMHg0MDogXCJlbmNyeXB0ZWRQYW5BbmRFeHBcIixcclxuICAgICAgICAgICAgMHg0MTogXCJzZXJpYWxOdW1iZXJcIixcclxuICAgICAgICAgICAgMHg2MzogXCJrc25BbmRNYWduZVByaW50U3RhdHVzXCIsXHJcbiAgICAgICAgICAgIDB4NjQ6IFwiQ0JDLU1BQ1wiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZGhvbGRlclN0YXR1c0lkcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAweDAxOiBcIldhaXRpbmcgZm9yIGFtb3VudCBjb25maXJtYXRpb24gc2VsZWN0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MDI6IFwiQW1vdW50IGNvbmZpcm1hdGlvbiBzZWxlY3RlZFwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIldhaXRpbmcgZm9yIG11bHRpLXBheW1lbnQgSUNDIEFwcGxpY2F0aW9uIHNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIklDQyBBcHBsaWNhdGlvbiBzZWxlY3RlZFwiLFxyXG4gICAgICAgICAgICAweDA1OiBcIldhaXRpbmcgZm9yIHNpZ25hdHVyZSBjYXB0dXJlXCIsXHJcbiAgICAgICAgICAgIDB4MDY6IFwiU2lnbmF0dXJlIGNhcHR1cmVkXCIsXHJcbiAgICAgICAgICAgIDB4MDc6IFwiV2FpdGluZyBmb3IgbGFuZ3VhZ2Ugc2VsZWN0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MDg6IFwiTGFuZ3VhZ2Ugc2VsZWN0ZWRcIixcclxuICAgICAgICAgICAgMHgwOTogXCJXYWl0aW5nIGZvciBjcmVkaXQvZGViaXQgc2VsZWN0aW9uXCIsXHJcbiAgICAgICAgICAgIDB4MEE6IFwiQ3JlZGl0L0RlYml0IHNlbGVjdGVkXCIsXHJcbiAgICAgICAgICAgIDB4MEI6IFwiV2FpdGluZyBmb3IgUGluIEVudHJ5IGZvciBJQ0NcIixcclxuICAgICAgICAgICAgMHgwQzogXCJQSU4gZW50ZXJlZCBmb3IgSUNDXCIsXHJcbiAgICAgICAgICAgIDB4MEQ6IFwiV2FpdGluZyBmb3IgUGluIEVudHJ5IGZvciBNU1JcIixcclxuICAgICAgICAgICAgMHgwRTogXCJQSU4gZW50ZXJlZCBmb3IgTVNSXCIsXHJcbiAgICAgICAgICAgIDB4MEY6IFwiV2FpdGluZyBmb3IgdGlwIHNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICAweDEwOiBcIlRpcCBpbnRlcmFjdGlvbiBzZWxlY3RlZFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYnVmZmVyVHlwZXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHgwMjogXCJEZXZpY2UgQ2VydGlmaWNhdGVcIixcclxuICAgICAgICAgICAgMHgzMjogXCJTZXQgQklOIChNQUMpXCIsXHJcbiAgICAgICAgICAgIDB4NDI6IFwiQ1NSXCIsXHJcbiAgICAgICAgICAgIDB4QTE6IFwiRU1WIGRhdGEgaW4gVExWIGZvcm1hdCwgVGFnIERhdGEgKE1BQylcIixcclxuICAgICAgICAgICAgMHhBMjogXCJSRVNFUlZFRFwiLFxyXG4gICAgICAgICAgICAweEEzOiBcIlJFU0VSVkVEXCIsXHJcbiAgICAgICAgICAgIDB4QTQ6IFwiRU1WIGRhdGEgaW4gVExWIGZvcm1hdCwgQXV0aG9yaXphdGlvbiBSZXF1ZXN0IChBUlFDKVwiLFxyXG4gICAgICAgICAgICAweEE1OiBcIkNBIFB1YmxpYyBLZXkgKE1BQylcIixcclxuICAgICAgICAgICAgMHhBQjogXCJFTVYgZGF0YSBpbiBUTFYgZm9ybWF0LCBCYXRjaCBEYXRhXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmFycWNBcnJpdmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYmF0Y2hEYXRhQXJyaXZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnFjVG90YWxMZW4gPSAwO1xyXG4gICAgICAgIHRoaXMuYmF0Y2hUb3RhbExlbiA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuY29udmVydFN0YXR1c1RvU3RyaW5nID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IFwiT2tcIixcclxuICAgICAgICAgICAgMHgwMTogXCJFbXB0eVwiLFxyXG4gICAgICAgICAgICAweDAyOiBcIkVycm9yXCIsXHJcbiAgICAgICAgICAgIDB4MDQ6IFwiRGlzYWJsZWRcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRFbXZDYXJkaG9sZGVyU3RhdHVzID0gY2FyZEhvbGRlclN0YXR1c0J5dGUgPT4gICh7XHJcbiAgICAgICAgZW12Q2FyZGhvbGRlclN0YXR1czogKHRoaXMuY2FyZGhvbGRlclN0YXR1c0lkc1sgY2FyZEhvbGRlclN0YXR1c0J5dGUgXSB8fCBgJHt1bmtub3duVW5kb2N9IENhcmRob2xkZXIgSW50ZXJhY3Rpb24gU3RhdHVzIElEOiAke2NhcmRIb2xkZXJTdGF0dXNCeXRlfWApXHJcbiAgICB9KTtcclxuXHJcbiAgICBmaW5kT3BlcmF0aW9uU3RhdHVzID0gc3RhdHVzSWQgPT4gKHtcclxuICAgICAgICBvcGVyYXRpb25TdGF0dXM6ICh0aGlzLm9wZXJhdGlvblN0YXR1c1sgc3RhdHVzSWQgXSB8fCBgJHt1bmtub3duVW5kb2N9IE9wZXJhdGlvbiBTdGF0dXNgKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcGFyc2VEaXNwbGF5TWVzc2FnZURvbmUgPSBkaXNwbGF5U3RhdHVzID0+IHRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhkaXNwbGF5U3RhdHVzWzJdKTtcclxuXHJcbiAgICBwYXJzZUVtdkNvbXBsZXRpb24gPSBjb21tYW5kUmVzcCA9PiB7XHJcbiAgICAgICAgLy9UT0RPOiBNb3JlIHJlc2VhcmNoIHJlcXVpcmVkXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0VNViBDb21wbGV0aW9uXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKGNvbW1hbmRSZXNwKX1gKTtcclxuICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgZW12Q29tcGxldGlvblJlc3BvbnNlOiBjb21tYW5kUmVzcFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcm1hdFNlcmlhbE51bWJlciA9IGNvbW1hbmRSZXNwID0+ICh0aGlzLmRldmljZVNlcmlhbE51bWJlciA9IHRoaXMuaGV4VG9Bc2NpaSggdGhpcy5maW5kTnVsbFRlcm1pbmF0ZWRTdHJpbmcoY29tbWFuZFJlc3ApICkpO1xyXG5cclxuICAgIGhhbmRsZUJpZ0Jsb2NrQmVnaW4gPSBiaWdCbG9ja0RhdGEgPT4ge1xyXG4gICAgICAgIHN3aXRjaChiaWdCbG9ja0RhdGFbMV0pIHtcclxuICAgICAgICAgICAgY2FzZSAweEE0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcnFjQXJyaXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcnFjVG90YWxMZW4gPSB0aGlzLnJlYWRUd29CeXRlTGVuZ3RoKFsgYmlnQmxvY2tEYXRhWzVdLCBiaWdCbG9ja0RhdGFbNF0gXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAweEFCOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaERhdGFBcnJpdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVG90YWxMZW4gPSB0aGlzLnJlYWRUd29CeXRlTGVuZ3RoKFsgYmlnQmxvY2tEYXRhWzVdLCBiaWdCbG9ja0RhdGFbNF0gXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAweDE4OlxyXG4gICAgICAgICAgICBjYXNlIDB4MjA6XHJcbiAgICAgICAgICAgIGNhc2UgMHgyMTpcclxuICAgICAgICAgICAgICAgIC8vRGVidWcgZGF0YS4gSWdub3JlLlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlclR5cGU6ICh0aGlzLmJ1ZmZlclR5cGVzWyBiaWdCbG9ja0RhdGFbMV0gXSB8fCBcIkJ1ZmZlciB0eXBlIG5vdCBkb2N1bWVudGVkXCIpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUFycWNCaWdCbG9ja0ZpbmlzaCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBhcnFjID0gdGhpcy5idWlsZEluaXRpYWxEYXRhQXJyYXkoZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IGRhdGFGb3JBcnFjID0gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggYXJxYyApO1xyXG5cclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQVJRQ106ICR7ZGF0YUZvckFycWN9YCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgIGFycWNEYXRhOiBkYXRhRm9yQXJxYyxcclxuICAgICAgICAgICAgYXJxY0RhdGFQYXJzZWQ6IHRoaXMudGx2UGFyc2VyKFxyXG4gICAgICAgICAgICAgICAgYXJxYy5zbGljZSgyKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJhd0RhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnFjQXJyaXZpbmcgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gKCF0aGlzLmlzUXVpY2tDaGlwVHJhbnNhY3Rpb24pID8gdGhpcy50cmFuc2FjdGlvbkNhbGxiYWNrKCB0aGlzLmNhcmREYXRhT2JqICkgOiB2b2lkKDApO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUJhdGNoQmlnQmxvY2tGaW5pc2ggPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLmJ1aWxkSW5pdGlhbERhdGFBcnJheShmYWxzZSk7XHJcbiAgICAgICAgY29uc3QgZGF0YUZvckJhdGNoID0gdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggYmF0Y2ggKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0JBVENIIERBVEFdOiAke2RhdGFGb3JCYXRjaH1gKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkhhc1N0YXJ0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyc2VkQmF0Y2hEYXRhID0gdGhpcy50bHZQYXJzZXIoXHJcbiAgICAgICAgICAgIGJhdGNoLnNsaWNlKDIpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgaXNTaWduYXR1cmVSZXF1aXJlZCA9IHBhcnNlZEJhdGNoRGF0YS5maW5kKCAoeyB0YWcgfSkgPT4gdGFnID09PSBcIkRGREY0MFwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IChpc1NpZ25hdHVyZVJlcXVpcmVkKSA/ICh7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgIGJhdGNoRGF0YTogZGF0YUZvckJhdGNoLFxyXG4gICAgICAgICAgICBiYXRjaERhdGFQYXJzZWQ6IHBhcnNlZEJhdGNoRGF0YSxcclxuICAgICAgICAgICAgc2lnbmF0dXJlUmVxdWlyZWQ6IChpc1NpZ25hdHVyZVJlcXVpcmVkID09PSAweDAxKVxyXG4gICAgICAgIH0pIDogKHtcclxuICAgICAgICAgICAgLi4udGhpcy5jYXJkRGF0YU9iaixcclxuICAgICAgICAgICAgYmF0Y2hEYXRhOiBkYXRhRm9yQmF0Y2gsXHJcbiAgICAgICAgICAgIGJhdGNoRGF0YVBhcnNlZDogcGFyc2VkQmF0Y2hEYXRhXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmF3RGF0YSA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmJhdGNoRGF0YUFycml2aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2soIHRoaXMuY2FyZERhdGFPYmogKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVCaWdCbG9ja0ZpbmlzaCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hcnFjQXJyaXZpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQXJxY0JpZ0Jsb2NrRmluaXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYmF0Y2hEYXRhQXJyaXZpbmcpIHtcclxuICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVCYXRjaEJpZ0Jsb2NrRmluaXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlRW12Q2FyZGhvbGRlckludGVyYWN0aW9uU3RhdHVzID0gY2FyZGhvbGRlclJlc3AgPT4ge1xyXG4gICAgICAgIHN3aXRjaChjYXJkaG9sZGVyUmVzcFsxXSkge1xyXG4gICAgICAgICAgICBjYXNlIDB4MDI6IFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5maW5kRW12Q2FyZGhvbGRlclN0YXR1cyhjYXJkaG9sZGVyUmVzcFsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgaXNBbW91bnRDb25maXJtZWQ6IChjYXJkaG9sZGVyUmVzcFs0XSA9PT0gMHgwMSkgPyB0cnVlIDogKGNhcmRob2xkZXJSZXNwWzRdID09PSAweDAyKSA/IGZhbHNlIDogYCR7dW5rbm93blVuZG9jfSBBbW91bnQgQ29uZmlybWVkIFN0YXR1c2BcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYXNlIDB4MDQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZpbmRFbXZDYXJkaG9sZGVyU3RhdHVzKGNhcmRob2xkZXJSZXNwWzFdKSxcclxuICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbk9yTGFiZWxOYW1lOiB0aGlzLmJ1ZmZlclRvVXRmOCggY2FyZGhvbGRlclJlc3Auc2xpY2UoNCkgKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgMHgwQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZEVtdkNhcmRob2xkZXJTdGF0dXMoY2FyZGhvbGRlclJlc3BbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZFNlbGVjdGVkOiAoY2FyZGhvbGRlclJlc3BbNF0gPT09IDB4MDEpID8gXCJDcmVkaXRcIiA6IFxyXG4gICAgICAgICAgICAgICAgICAgIChjYXJkaG9sZGVyUmVzcFs0XSA9PT0gMHgwMikgPyBcIkRlYml0XCIgOiBgJHt1bmtub3duVW5kb2N9IHBheW1lbnQgbWV0aG9kIHNlbGVjdGVkYFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgMHgyMDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZEVtdkNhcmRob2xkZXJTdGF0dXMoY2FyZGhvbGRlclJlc3BbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHRsdkRhdGE6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIGNhcmRob2xkZXJSZXNwLnNsaWNlKDQpICksXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkVGx2RGF0YTogdGhpcy50bHZQYXJzZXIoIGNhcmRob2xkZXJSZXNwLnNsaWNlKDQpIClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YoY2FyZGhvbGRlclJlc3BbNF0pID09PSAndW5kZWZpbmVkJykgPyB0aGlzLmZpbmRFbXZDYXJkaG9sZGVyU3RhdHVzKGNhcmRob2xkZXJSZXNwWzFdKSBcclxuICAgICAgICAgICAgICAgICAgICA6ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZEVtdkNhcmRob2xkZXJTdGF0dXMoY2FyZGhvbGRlclJlc3BbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRvY3VtZW50ZWREYXRhOiB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCBjYXJkaG9sZGVyUmVzcC5zbGljZSg0KSApXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlQ2FyZFN0YXR1c1JlcG9ydCA9IGNhcmRTdGF0dXMgPT4gKGNhcmRTdGF0dXMubGVuZ3RoIDwgNCkgPyAgXHJcbiAgICAgICAgdGhpcy5maW5kT3BlcmF0aW9uU3RhdHVzKCAoY2FyZFN0YXR1c1syXSB8fCBjYXJkU3RhdHVzWzFdKSApXHJcbiAgICAgICAgOiAoe1xyXG4gICAgICAgICAgICAuLi50aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMoY2FyZFN0YXR1c1syXSksXHJcbiAgICAgICAgICAgIGNhcmRTdGF0dXM6IChjYXJkU3RhdHVzWzJdID09PSAweDAwKSA/IFwiT2tcIiA6IFwiRXJyb3JcIixcclxuICAgICAgICAgICAgY2FyZFR5cGU6IHRoaXMuY2FyZFR5cGVzRW51bVsgY2FyZFN0YXR1c1szXSBdXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgcGFyc2VBY2tSZXNwb25zZSA9IGFja1Jlc3AgPT4gKHtcclxuICAgICAgICBjb2RlOiBhY2tSZXNwWzFdLFxyXG4gICAgICAgIG1lc3NhZ2U6IHRoaXMuQUNLU1RTWyBhY2tSZXNwWzFdIF0sXHJcbiAgICAgICAgY29tbWFuZFR5cGU6ICggdGhpcy5waW5Db21tYW5kSWRzWyBhY2tSZXNwWzJdIF0gfHwgXCJEZXZpY2UgZXJyb3Igb3IgY29tbWFuZCB0eXBlIG5vdCBkb2N1bWVudGVkXCIgKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcGFyc2VEZXZpY2VTdGF0ZVJlcG9ydCA9IGRldmljZVJlc3AgPT4gKHtcclxuICAgICAgICBkZXZpY2VTdGF0ZTogKHRoaXMuZGV2aWNlU3RhdGVbIGRldmljZVJlc3BbMV0gXSB8fCBgJHt1bmtub3duVW5kb2N9IGRldmljZSBzdGF0ZSBpZDogJHtkZXZpY2VSZXNwWzFdfWApLCBcclxuICAgICAgICBzZXNzaW9uU3RhdGU6IHRoaXMucGFyc2VTZXNzaW9uU3RhdGUoXHJcbiAgICAgICAgICAgIHRoaXMuZGVjaW1hbFRvQmluYXJ5KCBkZXZpY2VSZXNwWzJdIClcclxuICAgICAgICApLFxyXG4gICAgICAgIGRldmljZVN0YXR1czogdGhpcy5wYXJzZURldmljZVN0YXR1cyhcclxuICAgICAgICAgICAgdGhpcy5kZWNpbWFsVG9CaW5hcnkoZGV2aWNlUmVzcFszXSlcclxuICAgICAgICApLFxyXG4gICAgICAgIGRldmljZUNlcnRTdGF0dXM6IHRoaXMucGFyc2VDZXJ0U3RhdHVzKCBcclxuICAgICAgICAgICAgdGhpcy5kZWNpbWFsVG9CaW5hcnkoIGRldmljZVJlc3BbNF0gKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgaGFyZHdhcmVTdGF0dXM6IHRoaXMucGFyc2VIYXJkd2FyZVN0YXR1cyhcclxuICAgICAgICAgICAgdGhpcy5kZWNpbWFsVG9CaW5hcnkoZGV2aWNlUmVzcFs1XSlcclxuICAgICAgICApLFxyXG4gICAgICAgIGFkZGl0aW9uYWxJbmZvOiB0aGlzLnBhcnNlQWRkaXRpb25hbEluZm8oXHJcbiAgICAgICAgICAgIHRoaXMuZGVjaW1hbFRvQmluYXJ5KGRldmljZVJlc3BbNl0pXHJcbiAgICAgICAgKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcGFyc2VTZXNzaW9uU3RhdGUgPSBiaW5hcnlTdHJpbmcgPT4gKHtcclxuICAgICAgICBwb3dlckRpZENoYW5nZTogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1swXSApLFxyXG4gICAgICAgIGNhcmREYXRhSXNBdmFpbGFibGU6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNF0gKSxcclxuICAgICAgICBwYW5QYXJzZWRGcm9tQ2FyZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s1XSApLFxyXG4gICAgICAgIGV4dGVybmFsUGFuU2VudDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s2XSApLFxyXG4gICAgICAgIGFtb3VudFdhc1NlbnQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbN10gKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcGFyc2VDZXJ0U3RhdHVzID0gYmluYXJ5U3RyaW5nID0+ICh7XHJcbiAgICAgICAgbXNyQ3JsQ2VydEV4aXN0czogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1swXSApLFxyXG4gICAgICAgIHBpbkNybENlcnRFeGlzdHM6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbMV0gKSxcclxuICAgICAgICBtZmdVbmJpbmRDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzNdICksXHJcbiAgICAgICAgbXNyQ2FDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzRdICksXHJcbiAgICAgICAgcGluQ2FDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzVdICksXHJcbiAgICAgICAgZGV2aWNlQ2FDZXJ0RXhpc3RzOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzZdICksXHJcbiAgICAgICAgZGV2aWNlQ2VydEV4aXN0czogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s3XSApXHJcbiAgICB9KTtcclxuXHJcbiAgICBrZXlTdGF0dXNFbnVtID0gcGluT3JNc3IgPT4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgXCIwMFwiOiBgJHtwaW5Pck1zcn0gS2V5IE9LYCxcclxuICAgICAgICBcIjAxXCI6IGAke3Bpbk9yTXNyfSBLZXkgRXhoYXVzdGVkYCxcclxuICAgICAgICBcIjEwXCI6IGBObyAke3Bpbk9yTXNyfSBLZXlgLFxyXG4gICAgICAgIFwiMTFcIjogYCR7cGluT3JNc3J9IEtleSBOb3QgQm91bmRgXHJcbiAgICB9KTtcclxuXHJcbiAgICBwYXJzZURldmljZVN0YXR1cyA9IGJpbmFyeVN0cmluZyA9PiAoYmluYXJ5U3RyaW5nICE9PSBcIjAwMDAwMDAwXCIpID8gKHtcclxuICAgICAgICBwaW5LZXlTdGF0dXM6IHRoaXMua2V5U3RhdHVzRW51bShcIlBJTlwiKVsgYmluYXJ5U3RyaW5nLnNsaWNlKDYpIF0sXHJcbiAgICAgICAgbXNyS2V5U3RhdHVzOiB0aGlzLmtleVN0YXR1c0VudW0oXCJNU1JcIilbIGJpbmFyeVN0cmluZy5zbGljZSg0LCA2KSBdLFxyXG4gICAgICAgIHRhbXBlckRldGVjdGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzNdICksXHJcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzFdICksXHJcbiAgICAgICAgZGV2aWNlRXJyb3JEZXRlY3RlZDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1swXSApXHJcbiAgICB9KVxyXG4gICAgOiBcIk9rXCI7XHJcblxyXG4gICAgcGFyc2VIYXJkd2FyZVN0YXR1cyA9IGJpbmFyeVN0cmluZyA9PiAoe1xyXG4gICAgICAgIElFM19vbmx5OiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzBdICksXHJcbiAgICAgICAgU1JFRDogdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1sxXSApLFxyXG4gICAgICAgIE1hZ0hlYWRJc1Byb2dyYW1tZWQ6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbNl0gKSxcclxuICAgICAgICB0YW1wZXJTZW5zb3JzQXJlQWN0aXZlOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzddIClcclxuICAgIH0pO1xyXG5cclxuICAgIHBhcnNlQWRkaXRpb25hbEluZm8gPSBiaW5hcnlTdHJpbmcgPT4gKHtcclxuICAgICAgICBJQ0NfQWNxdWlyZXJNYXN0ZXJLZXlJc0luamVjdGVkOiAhdGhpcy5zdHJpbmdOdW1Ub0Jvb2woIGJpbmFyeVN0cmluZ1s3XSApLFxyXG4gICAgICAgIElDQ19TZXNzaW9uS2V5SXNBY3RpdmU6ICF0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzZdICksXHJcbiAgICAgICAgQ0FQS19FbXZEYXRhYmFzZUlzQ29ycnVwdGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzVdICksXHJcbiAgICAgICAgRW12VGVybWluYWxEYXRhYmFzZUlzQ29ycnVwdGVkOiB0aGlzLnN0cmluZ051bVRvQm9vbCggYmluYXJ5U3RyaW5nWzRdICksXHJcbiAgICAgICAgY2FyZElzUHJlc2VudEluQ2hpcENhcmRDb25uZWN0b3I6IHRoaXMuc3RyaW5nTnVtVG9Cb29sKCBiaW5hcnlTdHJpbmdbM10gKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcGFyc2VDYXJkRGF0YSA9IHBhcnRpYWxOb3RpZmljYXRpb24gPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYWNrS2V5ID0gKHRoaXMuY2FyZERhdGFJZHNbIHBhcnRpYWxOb3RpZmljYXRpb25bMV0gXSB8fCBgdHJhY2tOYW1lJHt1bmtub3dufWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vMHgwMCA9PT0gXCJPa1wiXHJcbiAgICAgICAgaWYgKHBhcnRpYWxOb3RpZmljYXRpb25bMl0gPT09IDB4MDApIHtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCh0cmFja0tleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRyYWNrMVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmFja0tleV06IHRoaXMuYnVmZmVyVG9VdGY4KHBhcnRpYWxOb3RpZmljYXRpb24uc2xpY2UoNCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRyYWNrMlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmFja0tleV06IHRoaXMuYnVmZmVyVG9VdGY4KHBhcnRpYWxOb3RpZmljYXRpb24uc2xpY2UoNCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZvcm1hdEV4cFBBTihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxOb3RpZmljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwia3NuQW5kTWFnbmVQcmludFN0YXR1c1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtzbjogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhwYXJ0aWFsTm90aWZpY2F0aW9uLnNsaWNlKDQsIDE0KSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25lUHJpbnRTdGF0dXM6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcocGFydGlhbE5vdGlmaWNhdGlvbi5zbGljZSgtNCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5jYXJkRGF0YU9iaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3RyYWNrS2V5XTogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhwYXJ0aWFsTm90aWZpY2F0aW9uLnNsaWNlKDQpKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYXJkRGF0YU9iaiA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2FyZERhdGFPYmosXHJcbiAgICAgICAgICAgICAgICBbdHJhY2tLZXldOiB0aGlzLmNvbnZlcnRTdGF0dXNUb1N0cmluZ1sgcGFydGlhbE5vdGlmaWNhdGlvblsyXSBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VQaW5SZXNwb25zZSA9IHBpblJlc3AgPT4ge1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtQSU4gUmVzcG9uc2VdOiBSZXNwb25zZSBmcm9tIFBJTiBFbnRyeTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHBpblJlc3ApfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiAocGluUmVzcC5sZW5ndGggPiAyKSA/ICh7XHJcbiAgICAgICAgICAgIHBpbkRhdGE6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhwaW5SZXNwWzFdKSxcclxuICAgICAgICAgICAgICAgIHBpbktzbjogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggcGluUmVzcC5zbGljZSgyLCAxMikgKSxcclxuICAgICAgICAgICAgICAgIGVuY3J5cHRlZFBpbkJsb2NrOiB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCBwaW5SZXNwLnNsaWNlKDEyLCAyMCkgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICA6IHRoaXMuZmluZE9wZXJhdGlvblN0YXR1cyhwaW5SZXNwWzFdKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZUNhcmRob2xkZXJSZXNwb25zZSA9IHNlbGVjdGlvblJlc3AgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRldmljZUtleXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHg3MTogXCJMZWZ0IGZ1bmN0aW9uIGtleVwiLFxyXG4gICAgICAgICAgICAweDcyOiBcIk1pZGRsZSBmdW5jdGlvbiBrZXlcIixcclxuICAgICAgICAgICAgMHg3NDogXCJSaWdodCBmdW5jdGlvbiBrZXlcIixcclxuICAgICAgICAgICAgMHg3ODogXCJFbnRlciBrZXlcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKHNlbGVjdGlvblJlc3AubGVuZ3RoID4gMikgPyAoe1xyXG4gICAgICAgICAgICAuLi50aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMoc2VsZWN0aW9uUmVzcFsxXSksXHJcbiAgICAgICAgICAgIGtleVByZXNzZWQ6IChkZXZpY2VLZXlzWyBzZWxlY3Rpb25SZXNwWzJdIF0gfHwgYCR7dW5rbm93blVuZG9jfSBLZXlgKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgOiB0aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMoc2VsZWN0aW9uUmVzcFsxXSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgcGFyc2VUaXBDYXNoYmFja1JlcG9ydCA9IHJlcG9ydCA9PiAocmVwb3J0Lmxlbmd0aCA+IDIpID8gXHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkNhbGxiYWNrKHtcclxuICAgICAgICAgICAgdGlwQ2FzaGJhY2tSZXBvcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMocmVwb3J0WzFdKSxcclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRNb2RlOiAocmVwb3J0WzJdID09PSAweDAwKSA/IFwiVGlwXCIgOiBcIkNhc2hiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiByZXBvcnQuc2xpY2UoMywgOSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGF4OiByZXBvcnQuc2xpY2UoOSwgMTUpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRheFJhdGU6IHJlcG9ydC5zbGljZSgxNSwgMTgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpcE9yQ2FzaGJhY2tBbW91bnQ6IHJlcG9ydC5zbGljZSgxOCwgMjQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICA6IHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjayh7XHJcbiAgICAgICAgICAgIHRpcENhc2hiYWNrUmVwb3J0OiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLmZpbmRPcGVyYXRpb25TdGF0dXMocmVwb3J0WzFdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGluU3RhdHVzUGFyc2VyO1xyXG4iLCJpbXBvcnQgUGluU3RhdHVzUGFyc2VyIGZyb20gJy4uL3BhcnNlcnMvcGluU3RhdHVzUGFyc2VyJztcclxuaW1wb3J0IHsgbWlzc2luZ1JlcXVpcmVkRmllbGRzIH0gZnJvbSAnLi4vZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cyc7XHJcblxyXG5jbGFzcyBQaW5DbWRCdWlsZGVyIGV4dGVuZHMgUGluU3RhdHVzUGFyc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLnRvbmVDaG9pY2UgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgJ25vc291bmQnOiAweDAwLFxyXG4gICAgICAgICAgICAnb25lYmVlcCc6IDB4MDEsXHJcbiAgICAgICAgICAgICd0d29iZWVwcyc6IDB4MDJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5lbXZPcHRpb25zID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgICdub3JtYWwnOiAweDAwLFxyXG4gICAgICAgICAgICAnYnlwYXNzcGluJzogMHgwMSxcclxuICAgICAgICAgICAgJ2ZvcmNlb25saW5lJzogMHgwMixcclxuICAgICAgICAgICAgJ2FjcXVpcmVybm90YXZhaWxhYmxlJzogMHgwNFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkU3dpcGVDb21tYW5kID0gKHsgdGltZW91dCwgaXNGYWxsYmFjaywgdG9uZUNob2ljZSwgZGlzcGxheVR5cGUgfSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlUeXBlcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAnc3dpcGVpZGxlYWx0ZXJuYXRlJzogMHgwMCxcclxuICAgICAgICAgICAgJ3N3aXBlY2FyZCc6IDB4MDEsXHJcbiAgICAgICAgICAgICdwbGVhc2Vzd2lwZSc6IDB4MDIsXHJcbiAgICAgICAgICAgICdwbGVhc2Vzd2lwZWFnYWluJzogMHgwMyxcclxuICAgICAgICAgICAgJ2NoaXBlcnJvcnVzZXN3aXBlJzogMHgwNFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFsgXHJcbiAgICAgICAgICAgIDB4MDEsIDB4MDMsICh0aW1lb3V0IHx8IDB4M0MpLFxyXG4gICAgICAgICAgICAoaXNGYWxsYmFjayA9PT0gdHJ1ZSkgPyAweDA0IDogKHR5cGVvZihkaXNwbGF5VHlwZSkgIT09ICd1bmRlZmluZWQnKSA/IGRpc3BsYXlUeXBlc1sgZGlzcGxheVR5cGUudG9Mb3dlckNhc2UoKSBdIDogZGlzcGxheVR5cGVzLnBsZWFzZXN3aXBlLFxyXG4gICAgICAgICAgICAodHlwZW9mKHRvbmVDaG9pY2UpICE9PSAndW5kZWZpbmVkJykgPyB0aGlzLnRvbmVDaG9pY2VbIHRvbmVDaG9pY2UudG9Mb3dlckNhc2UoKSBdIDogMHgwMVxyXG4gICAgICAgIF0pXHJcbiAgICB9O1xyXG5cclxuICAgIGJ1aWxkRW12Q29tbWFuZCA9ICh7IFxyXG4gICAgICAgIHRpbWVvdXQsIFxyXG4gICAgICAgIHBpblRpbWVvdXQsIFxyXG4gICAgICAgIGNhcmRUeXBlLCBcclxuICAgICAgICB0cmFuc2FjdGlvblR5cGUsIFxyXG4gICAgICAgIGNhc2hCYWNrLCBcclxuICAgICAgICBjdXJyZW5jeUNvZGUsXHJcbiAgICAgICAgdG9uZUNob2ljZSwgXHJcbiAgICAgICAgaXNRdWlja0NoaXAsIFxyXG4gICAgICAgIGF1dGhvcml6ZWRBbW91bnQsIFxyXG4gICAgICAgIGVtdk9wdGlvbnMsXHJcbiAgICAgICAgdGF4QW1vdW50LFxyXG4gICAgICAgIHRheFBlcmNlbnQsXHJcbiAgICAgICAgdGlwQW1vdW50LFxyXG4gICAgICAgIGJhbGFuY2VCZWZvcmVHZW5BQyxcclxuICAgICAgICBiYWxhbmNlQWZ0ZXJHZW5BQyxcclxuICAgICAgICB0cnhDYXRlZ29yeUNvZGVcclxuICAgIH0pID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmlzUXVpY2tDaGlwVHJhbnNhY3Rpb24gPSAoaXNRdWlja0NoaXAgPT09IGZhbHNlKSA/IGZhbHNlIDogdHJ1ZTtcclxuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLnZhbGlkYXRlQW1vdW50KHJlamVjdCk7XHJcblxyXG4gICAgICAgIGxldCBjb21tYW5kID0gWyBcclxuICAgICAgICAgICAgMHgwMSwgMHhBMixcclxuICAgICAgICAgICAgKHRpbWVvdXQgfHwgMHgzQyksXHJcbiAgICAgICAgICAgIChwaW5UaW1lb3V0IHx8IDB4MTQpLFxyXG4gICAgICAgICAgICAweDAwLFxyXG4gICAgICAgICAgICAodHlwZW9mKHRvbmVDaG9pY2UpICE9PSAndW5kZWZpbmVkJykgPyB0aGlzLnRvbmVDaG9pY2VbIHRvbmVDaG9pY2UudG9Mb3dlckNhc2UoKSBdIDogMHgwMSxcclxuICAgICAgICAgICAgKGNhcmRUeXBlKSA/IHRoaXMuY2FyZFR5cGVzKCBjYXJkVHlwZS50b0xvd2VyQ2FzZSgpICkgOiB0aGlzLmNhcmRUeXBlcyhcImFsbFwiKSxcclxuICAgICAgICAgICAgKHR5cGVvZihlbXZPcHRpb25zKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5lbXZPcHRpb25zWyBlbXZPcHRpb25zLnRvTG93ZXJDYXNlKCkgXSA6IDB4MDBcclxuICAgICAgICBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGF1dGhBbW91bnQgPSB2YWxpZGF0b3IoYXV0aG9yaXplZEFtb3VudCwgJ2F1dGhvcml6ZWRBbW91bnQnLCBbMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgMHgwMF0pO1xyXG4gICAgICAgIGlmICh0eXBlb2YoYXV0aEFtb3VudCkgPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGF1dGhBbW91bnQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29tbWFuZCA9IGNvbW1hbmQuY29uY2F0KCBhdXRoQW1vdW50ICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQgPSAodHlwZW9mKHRyYW5zYWN0aW9uVHlwZSkgIT09ICd1bmRlZmluZWQnKSA/IFxyXG4gICAgICAgICAgICBjb21tYW5kLmNvbmNhdCh0aGlzLnRyYW5zYWN0aW9uVHlwZXNbIHRyYW5zYWN0aW9uVHlwZS50b0xvd2VyQ2FzZSgpIF0pXHJcbiAgICAgICAgICAgIDogY29tbWFuZC5jb25jYXQoMHgwMClcclxuXHJcbiAgICAgICAgY29uc3QgY2FzaGJhY2tBbW50ID0gdmFsaWRhdG9yKGNhc2hCYWNrLCAnY2FzaEJhY2snLCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCA2KSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZihjYXNoYmFja0FtbnQpID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChjYXNoYmFja0FtbnQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29tbWFuZCA9IGNvbW1hbmQuY29uY2F0KCBjYXNoYmFja0FtbnQgKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFsYW5jZUJlZm9yZUFtbnQgPSB2YWxpZGF0b3IoYmFsYW5jZUJlZm9yZUdlbkFDLCAnYmFsYW5jZUJlZm9yZUdlbkFDJywgdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgNikpO1xyXG4gICAgICAgIGlmICh0eXBlb2YoYmFsYW5jZUJlZm9yZUFtbnQpID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChiYWxhbmNlQmVmb3JlQW1udCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBjb21tYW5kID0gY29tbWFuZC5jb25jYXQoIGJhbGFuY2VCZWZvcmVBbW50ICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhbGFuY2VBZnRlckFtbnQgPSB2YWxpZGF0b3IoYmFsYW5jZUFmdGVyR2VuQUMsICdiYWxhbmNlQWZ0ZXJHZW5BQycsIHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDYpKTtcclxuICAgICAgICBpZiAodHlwZW9mKGJhbGFuY2VBZnRlckFtbnQpID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChiYWxhbmNlQWZ0ZXJBbW50KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGNvbW1hbmQgPSBjb21tYW5kLmNvbmNhdCggYmFsYW5jZUFmdGVyQW1udCApO1xyXG5cclxuICAgICAgICBjb21tYW5kID0gKGN1cnJlbmN5Q29kZSkgPyBjb21tYW5kLmNvbmNhdCgoIHRoaXMuY3VycmVuY3lDb2RlWyBjdXJyZW5jeUNvZGUudG9Mb3dlckNhc2UoKSBdIHx8ICB0aGlzLmN1cnJlbmN5Q29kZVsnZGVmYXVsdCddICkpXHJcbiAgICAgICAgICAgIDogY29tbWFuZC5jb25jYXQodGhpcy5jdXJyZW5jeUNvZGUuZG9sbGFyKTtcclxuXHJcbiAgICAgICAgY29tbWFuZC5wdXNoKCAodHlwZW9mKHRyeENhdGVnb3J5Q29kZSkgIT09ICd1bmRlZmluZWQnKSA/IHRyeENhdGVnb3J5Q29kZSA6IDB4MDAgKTtcclxuXHJcbiAgICAgICAgY29tbWFuZC5wdXNoKCAodGhpcy5pc1F1aWNrQ2hpcFRyYW5zYWN0aW9uKSA/IDB4MDEgOiAweDAwICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQucHVzaCggXHJcbiAgICAgICAgICAgICgodHlwZW9mKHRpcEFtb3VudCkgIT09ICd1bmRlZmluZWQnKSA/IDB4MDEgOiAodHlwZW9mKGNhc2hCYWNrKSAhPT0gJ3VuZGVmaW5lZCcpID8gMHgwMiA6IDB4MDApIFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRheEFtbnQgPSB2YWxpZGF0b3IodGF4QW1vdW50LCAndGF4QW1vdW50JywgdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgNikpO1xyXG4gICAgICAgIGlmICh0eXBlb2YodGF4QW1udCkgPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KHRheEFtbnQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29tbWFuZCA9IGNvbW1hbmQuY29uY2F0KCB0YXhBbW50ICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQgPSAodHlwZW9mKHRheFBlcmNlbnQpICE9PSAndW5kZWZpbmVkJykgPyBcclxuICAgICAgICAgICAgKHR5cGVvZih0YXhQZXJjZW50KSA9PT0gJ251bWJlcicpID8gY29tbWFuZC5jb25jYXQodGhpcy5jb252ZXJ0TnVtVG9BbW91bnQodGF4UGVyY2VudCwgNikpIDogY29tbWFuZC5jb25jYXQodGF4UGVyY2VudClcclxuICAgICAgICA6IGNvbW1hbmQuY29uY2F0KCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCAzKSApO1xyXG5cclxuICAgICAgICBjb21tYW5kID0gY29tbWFuZC5jb25jYXQoIHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDMpICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRpcEFtbnQgPSB2YWxpZGF0b3IodGlwQW1vdW50LCAndGlwQW1vdW50JywgdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgNikpO1xyXG4gICAgICAgIGlmICh0eXBlb2YodGlwQW1udCkgPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KHRpcEFtbnQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29tbWFuZCA9IGNvbW1hbmQuY29uY2F0KCB0aXBBbW50ICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQgPSBjb21tYW5kLmNvbmNhdCggdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgOSkgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoY29tbWFuZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBidWlsZFBpbkNvbW1hbmQgPSAoe1xyXG4gICAgICAgIGxhbmd1YWdlU2VsZWN0aW9uLFxyXG4gICAgICAgIGRpc3BsYXlUeXBlLFxyXG4gICAgICAgIHRpbWVvdXQsXHJcbiAgICAgICAgbWF4UGluTGVuZ3RoLFxyXG4gICAgICAgIG1pblBpbkxlbmd0aCxcclxuICAgICAgICB0b25lQ2hvaWNlLFxyXG4gICAgICAgIHdhaXRNZXNzYWdlLFxyXG4gICAgICAgIHZlcmlmeVBpbixcclxuICAgICAgICBwaW5CbG9ja0Zvcm1hdFxyXG4gICAgfSkgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBwaW5EaXNwbGF5T3B0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBcImVudGVycGluXCI6IDB4MDAsXHJcbiAgICAgICAgICAgIFwiZW50ZXJwaW5hbW91bnRcIjogMHgwMSxcclxuICAgICAgICAgICAgXCJyZWVudGVycGluYW1vdW50XCI6IDB4MDIsXHJcbiAgICAgICAgICAgIFwicmVlbnRlcnBpblwiOiAweDAzLFxyXG4gICAgICAgICAgICBcInZlcmlmeXBpblwiOiAweDA0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoW1xyXG4gICAgICAgICAgICAweDAxLCAweDA0LFxyXG4gICAgICAgICAgICAodGltZW91dCB8fCAweDFFKSxcclxuICAgICAgICAgICAgKChkaXNwbGF5VHlwZSkgPyAocGluRGlzcGxheU9wdGlvbnNbIGRpc3BsYXlUeXBlLnRvTG93ZXJDYXNlKCkgXSB8fCAweDAwKTogMHgwMCksXHJcbiAgICAgICAgICAgICh0aGlzLmZpbmRQaW5MZW5ndGgobWF4UGluTGVuZ3RoLCBtaW5QaW5MZW5ndGgpKSxcclxuICAgICAgICAgICAgKHR5cGVvZih0b25lQ2hvaWNlKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy50b25lQ2hvaWNlWyB0b25lQ2hvaWNlLnRvTG93ZXJDYXNlKCkgXSA6IDB4MDEsXHJcbiAgICAgICAgICAgICh0aGlzLmJ1aWxkUGluT3B0aW9uc0J5dGUobGFuZ3VhZ2VTZWxlY3Rpb24sIHdhaXRNZXNzYWdlLCB2ZXJpZnlQaW4sIHBpbkJsb2NrRm9ybWF0KSlcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZEFycGNDb21tYW5kID0gKGxlbiwgZGF0YSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2VuZEJpZ0Jsb2NrRGF0YSgweEE0LCBsZW4sIGRhdGEpLnRoZW4oXHJcbiAgICAgICAgICAgICgpID0+IHJlc29sdmUoWzB4MDEsIDB4QTQsIC4uLnRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDEwKV0pXHJcbiAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYnVpbGRUaXBPckNhc2hiYWNrQ21kID0gKHtcclxuICAgICAgICB0aW1lb3V0LFxyXG4gICAgICAgIGNvbW1hbmRUeXBlLFxyXG4gICAgICAgIHRvbmVDaG9pY2UsXHJcbiAgICAgICAgdHJhbnNhY3Rpb25BbW91bnQsXHJcbiAgICAgICAgY2FsY3VsYXRlZFRheEFtb3VudCxcclxuICAgICAgICB0YXhSYXRlLFxyXG4gICAgICAgIHRpcFNlbGVjdGlvbk1vZGUsXHJcbiAgICAgICAgbGVmdEJ1dHRvbixcclxuICAgICAgICBtaWRkbGVCdXR0b24sXHJcbiAgICAgICAgcmlnaHRCdXR0b25cclxuICAgIH0pID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLnZhbGlkYXRlQW1vdW50KHJlamVjdCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHByb3BzVG9WYWxpZGF0ZSA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcHJvcDogY29tbWFuZFR5cGUsXHJcbiAgICAgICAgICAgICAgICBwcm9wTmFtZTogJ2NvbW1hbmRUeXBlJyxcclxuICAgICAgICAgICAgICAgIHZhbGlkVHlwZXM6IFsnc3RyaW5nJ10sXHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICB2YWxpZFZhbHVlczogWyd0aXAnLCAnY2FzaGJhY2snXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiB0aXBTZWxlY3Rpb25Nb2RlLFxyXG4gICAgICAgICAgICAgICAgcHJvcE5hbWU6ICd0aXBTZWxlY3Rpb25Nb2RlJyxcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogKGNvbW1hbmRUeXBlICYmIGNvbW1hbmRUeXBlLnRvTG93ZXJDYXNlKCkgIT09ICdjYXNoYmFjaycpLFxyXG4gICAgICAgICAgICAgICAgdmFsaWRUeXBlczogWydzdHJpbmcnXSxcclxuICAgICAgICAgICAgICAgIHZhbGlkVmFsdWVzOiBbJ3BlcmNlbnQnLCAnYW1vdW50J11cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcHJvcDogdGF4UmF0ZSxcclxuICAgICAgICAgICAgICAgIHByb3BOYW1lOiAndGF4UmF0ZScsXHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICB2YWxpZFR5cGVzOiBbJ251bWJlcicsICdvYmplY3QnXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJlcXVpcmVkSW5wdXRzKHByb3BzVG9WYWxpZGF0ZSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0aXBDYXNoYmFja0NtZCA9IFtcclxuICAgICAgICAgICAgICAgIDB4MDEsIDB4QTAsXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mKHRpbWVvdXQpICE9PSAndW5kZWZpbmVkJykgPyB0aW1lb3V0IDogMHgxRSxcclxuICAgICAgICAgICAgICAgIChjb21tYW5kVHlwZS50b0xvd2VyQ2FzZSgpID09PSAndGlwJykgPyAweDAwIDogMHgwMSxcclxuICAgICAgICAgICAgICAgICh0eXBlb2YodG9uZUNob2ljZSkgPT09ICdzdHJpbmcnKSA/IHRoaXMudG9uZUNob2ljZVsgdG9uZUNob2ljZS50b0xvd2VyQ2FzZSgpIF0gOiB0aGlzLnRvbmVDaG9pY2Uub25lYmVlcFxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdHJ4QW1udCA9IHZhbGlkYXRvcih0cmFuc2FjdGlvbkFtb3VudCwgJ3RyYW5zYWN0aW9uQW1vdW50Jyk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YodHJ4QW1udCkgPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh0cnhBbW50KTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGlwQ2FzaGJhY2tDbWQgPSB0aXBDYXNoYmFja0NtZC5jb25jYXQoIHRyeEFtbnQgKTtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBjYWxjVGF4QW1udCA9IHZhbGlkYXRvcihjYWxjdWxhdGVkVGF4QW1vdW50LCAnY2FsY3VsYXRlZFRheEFtb3VudCcpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mKGNhbGNUYXhBbW50KSA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGNhbGNUYXhBbW50KTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGlwQ2FzaGJhY2tDbWQgPSB0aXBDYXNoYmFja0NtZC5jb25jYXQoIGNhbGNUYXhBbW50ICk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aXBDYXNoYmFja0NtZCA9ICh0eXBlb2YodGF4UmF0ZSkgPT09ICdudW1iZXInKSA/IFxyXG4gICAgICAgICAgICAgICAgdGlwQ2FzaGJhY2tDbWQuY29uY2F0KHRoaXMuY29udmVydE51bVRvQW1vdW50KHRheFJhdGUsIDYpKSA6IHRpcENhc2hiYWNrQ21kLmNvbmNhdCh0YXhSYXRlKTtcclxuXHJcbiAgICAgICAgICAgIHRpcENhc2hiYWNrQ21kLnB1c2goXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mKHRpcFNlbGVjdGlvbk1vZGUpID09PSAndW5kZWZpbmVkJykgPyAweDAwIDogKHRpcFNlbGVjdGlvbk1vZGUgPT09ICdwZXJjZW50JykgPyAweDAwIDogMHgwMVxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICB0aXBDYXNoYmFja0NtZC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZihsZWZ0QnV0dG9uKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5idWlsZE4yRm9ybWF0KGxlZnRCdXR0b24pIDogMHgwMCBcclxuICAgICAgICAgICAgKVxyXG5cclxuICAgICAgICAgICAgdGlwQ2FzaGJhY2tDbWQucHVzaChcclxuICAgICAgICAgICAgICAgICh0eXBlb2YobWlkZGxlQnV0dG9uKSAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5idWlsZE4yRm9ybWF0KG1pZGRsZUJ1dHRvbikgOiAweDAwIFxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICB0aXBDYXNoYmFja0NtZC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZihyaWdodEJ1dHRvbikgIT09ICd1bmRlZmluZWQnKSA/IHRoaXMuYnVpbGROMkZvcm1hdChyaWdodEJ1dHRvbikgOiAweDAwIFxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICB0aXBDYXNoYmFja0NtZCA9IHRpcENhc2hiYWNrQ21kLmNvbmNhdCh0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCAyNSkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodGlwQ2FzaGJhY2tDbWQpO1xyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSlcclxuICAgIH0pO1xyXG5cclxuICAgIGJ1aWxkRGlzcGxheUNtZCA9ICh7IGRpc3BsYXlUaW1lLCBtZXNzYWdlSWQgfSkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IFxyXG4gICAgICAgICh0eXBlb2YobWVzc2FnZUlkKSA9PT0gJ3VuZGVmaW5lZCcpID8gXHJcbiAgICAgICAgICAgIHJlamVjdCggbWlzc2luZ1JlcXVpcmVkRmllbGRzKFwibWVzc2FnZUlkXCIpICkgXHJcbiAgICAgICAgICAgIDogcmVzb2x2ZShbXHJcbiAgICAgICAgICAgICAgICAweDAxLCAweDA3LFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZihkaXNwbGF5VGltZSkgIT09ICd1bmRlZmluZWQnKSA/IGRpc3BsYXlUaW1lIDogMHgwRixcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VJZFxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBpbkNtZEJ1aWxkZXI7XHJcbiIsImltcG9ydCBQaW5DbWRCdWlsZGVyIGZyb20gJy4uL2NvbW1hbmRCdWlsZGVycy9waW5DbWRCdWlsZGVyJztcclxuaW1wb3J0IHsgXHJcbiAgICBkZXZpY2VOb3RGb3VuZCwgXHJcbiAgICByZWFkRmFpbGVkLCBcclxuICAgIGNvbW1hbmROb3RTZW50RnJvbUhvc3QsIFxyXG4gICAgY29tbWFuZE5vdFNlbnQsXHJcbiAgICBkZXZpY2VOb3RPcGVuLFxyXG4gICAgcmVzcG9uc2VOb3RSZWNlaXZlZFxyXG59IGZyb20gJy4uL2Vycm9ySGFuZGxlci9lcnJDb25zdGFudHMnO1xyXG5pbXBvcnQgeyBvcGVuU3VjY2Vzcywgc3VjY2Vzc0NvZGUsIG5vU2Vzc2lvblRvQ2xlYXIsIGdhdHRCdXN5LCBzdWNjZXNzZnVsQ2xvc2UgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY2xhc3MgUGluUGFkIGV4dGVuZHMgUGluQ21kQnVpbGRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2sgPSBjYWxsQmFja3MudHJhbnNhY3Rpb25DYWxsYmFjayB8fCBjYWxsQmFja3M7XHJcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrID0gY2FsbEJhY2tzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2s7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlRnJvbUhvc3RMZW4gPSAnMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMjIwJztcclxuICAgICAgICB0aGlzLmRldmljZUZyb21Ib3N0RGF0YSA9ICcwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMjEnO1xyXG4gICAgICAgIHRoaXMuZGV2aWNlVG9Ib3N0TGVuID0gJzA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIyMic7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VUb0hvc3REYXRhID0gJzA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIyMyc7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZWNlaXZlRGF0YUNoYXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNlbmRMZW5Ub0RldmljZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuY29tbWFuZFNlbnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN3aXBlSGFzQmVndW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uSGFzU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGF0YUdhdGhlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1F1aWNrQ2hpcFRyYW5zYWN0aW9uID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmRldmljZVNlcmlhbE51bWJlciA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMucmVwb3J0SWRzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlQWNrOiAweDAxLFxyXG4gICAgICAgICAgICBlbmRTZXNzaW9uOiAweDAyLFxyXG4gICAgICAgICAgICByZXF1ZXN0Q2FyZFN3aXBlOiAweDAzLFxyXG4gICAgICAgICAgICBjYXJkU3RhdHVzUmVwb3J0OiAweDIyLFxyXG4gICAgICAgICAgICBkZXZpY2VTdGF0ZVJlcG9ydDogMHgyMCxcclxuICAgICAgICAgICAgY2FyZERhdGFSZXBvcnQ6IDB4MjMsXHJcbiAgICAgICAgICAgIGVtdkNhcmRob2xkZXJTdGF0dXM6IDB4MkMsXHJcbiAgICAgICAgICAgIGJpZ0Jsb2NrRGF0YTogMHgyOSxcclxuICAgICAgICAgICAgZW12Q29tcGxldGlvbjogMHhBMixcclxuICAgICAgICAgICAgcmVxdWVzdFNuOiAweDFBLFxyXG4gICAgICAgICAgICBkZXZpY2VDb25maWc6IDB4MDksXHJcbiAgICAgICAgICAgIHBpblJlc3BvbnNlOiAweDI0LFxyXG4gICAgICAgICAgICBzZWxlY3Rpb25SZXNwb25zZTogMHgyNSxcclxuICAgICAgICAgICAgZGlzcGxheVJlc3A6IDB4MjcsXHJcbiAgICAgICAgICAgIHRpcENhc2hiYWNrUmVwb3J0OiAweDMwLFxyXG4gICAgICAgICAgICBkZWxheWVkQWNrOiAweDJBXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvbiA9IFsweDAwXTtcclxuXHJcbiAgICAgICAgdGhpcy5jbGVhclNlc3Npb25DbWQgPSBbMHgwMSwgMHgwMiwgMHgwMF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2FyZFNlcnZpY2UgPSAoKSA9PiBuZXcgUHJvbWlzZSggKHBhcmVudFJlc29sdmUsIHBhcmVudFJlamVjdCkgPT4gKCF0aGlzLmRldmljZSkgP1xyXG4gICAgICAgIHBhcmVudFJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RGb3VuZCkgKVxyXG4gICAgICAgIDpcclxuICAgICAgICB0aGlzLmNvbm5lY3RBbmRDYWNoZSgyKVxyXG4gICAgICAgICAgICAudGhlbiggc2VydmljZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IENhY2hlIEFwcERhdGFUb0hvc3RMZW5ndGggQ2hhcmFjdGVyaXN0aWMgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKHRoaXMuZGV2aWNlVG9Ib3N0TGVuKSBcclxuICAgICAgICAgICAgfSkudGhlbiggY2hhcmFjdGVyaXN0aWMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBCZWdpbiBub3RpZmljYXRpb25zIG9uIEFwcERhdGFUb0hvc3RMZW5ndGggQ2hhcmFjdGVyaXN0aWMgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFyYWN0ZXJpc3RpYy5zdGFydE5vdGlmaWNhdGlvbnMoKVxyXG4gICAgICAgICAgICB9KS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IEFkZCBsaXN0ZW5lciB0byBub3RpZmljYXRpb25zIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFyYWN0ZXJpc3RpY3ZhbHVlY2hhbmdlZCcsIHRoaXMuZGF0YVdhdGNoZXIpO1xyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWMuYWRkRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmRhdGFXYXRjaGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmREYXRhTGlzdGVuZXIgPSBjaGFyYWN0ZXJpc3RpYztcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtHQVRUXTogQ2FjaGUgQXBwRGF0YVRvSG9zdCBDaGFyYWN0ZXJpc3RpYyB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FyZFNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWModGhpcy5kZXZpY2VUb0hvc3REYXRhKTtcclxuICAgICAgICAgICAgfSkudGhlbiggY2hhcmFjdGVyaXN0aWMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZURhdGFDaGFyID0gY2hhcmFjdGVyaXN0aWM7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBDYWNoZSBBcHBEYXRhRnJvbUhvc3RMZW5ndGggQ2hhcmFjdGVyaXN0aWMgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJkU2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyh0aGlzLmRldmljZUZyb21Ib3N0TGVuKVxyXG4gICAgICAgICAgICB9KS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTGVuVG9EZXZpY2UgPSBjaGFyYWN0ZXJpc3RpYztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVF06IENhY2hlIEFwcERhdGFGcm9tSG9zdCBDaGFyYWN0ZXJpc3RpYyB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhcmRTZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKHRoaXMuZGV2aWNlRnJvbUhvc3REYXRhKVxyXG4gICAgICAgICAgICB9KS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMgPSBjaGFyYWN0ZXJpc3RpYztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgSWYgdGhpcyBsaWJyYXJ5IGlzIGJlaW5nIHVzZWQgaW4gYSB3ZWIgYXBwbGljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgTWFrZSBzdXJlIHRoZSBkZXZpY2UgY2FuY2VscyBhbnkgYWN0aXZlIGNvbW1hbmQsIGFuZCBkaXNjb25uZWN0cyBwcm9wZXJseVxyXG4gICAgICAgICAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMub25EZXN0cm95SGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLm9uRGVzdHJveUhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFRdOiBTdWNjZXNzZnVsbHkgY2FjaGVkIGFsbCBHQVRUIHNlcnZpY2VzIGFuZCBjaGFyYWN0ZXJpc3RpY3MuIFJldHVybmluZyBzdWNjZXNzZnVsIHBhaXIgdG8gdXNlciB8fCAke25ldyBEYXRlKCl9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGF5UHJvbWlzZSg0MDApXHJcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gcGFyZW50UmVzb2x2ZSh7IFxyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHN1Y2Nlc3NDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wZW5TdWNjZXNzXHJcbiAgICAgICAgICAgIH0pKS5jYXRjaChlcnIgPT4gcGFyZW50UmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSlcclxuICAgICk7XHJcbiAgICBcclxuICAgIGRhdGFXYXRjaGVyID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIGxldCBkYXRhRXZlbnQgPSBldmVudC50YXJnZXQudmFsdWUuZ2V0VWludDgoMCk7XHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW05PVElGWTogQXBwRGF0YVRvSG9zdExlbmd0aF06ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhbZGF0YUV2ZW50XSl9IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29tbWFuZFNlbnQgJiYgZGF0YUV2ZW50ID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFNlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkQ29tbWFuZFJlc3AoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWFkQ29tbWFuZFJlc3AgPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLnJlY2VpdmVEYXRhQ2hhcikgP1xyXG4gICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihyZWFkRmFpbGVkKSlcclxuICAgICAgICA6IHRoaXMucmVjZWl2ZURhdGFDaGFyLnJlYWRWYWx1ZSgpXHJcbiAgICAgICAgICAgIC50aGVuKHZhbHVlID0+IHRoaXMucmVhZFZhbHVlSGFuZGxlcih2YWx1ZSkgKVxyXG4gICAgICAgICAgICAudGhlbih2YWx1ZSA9PiByZXNvbHZlKHZhbHVlKSlcclxuICAgICAgICAgICAgLmNhdGNoKCBlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVyci5jb2RlID09PSBnYXR0QnVzeS5jb2RlICYmIGVyci5tZXNzYWdlID09PSBnYXR0QnVzeS5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0lORk9dOiBSZWFkIGZhaWxlZCBkdWUgdG8gZGV2aWNlIGJlaW5nIGJ1c3kuIEF0dGVtcHRpbmcgcmVhZCBhZ2FpbiB8fCAke25ldyBEYXRlKCl9YClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxheVByb21pc2UoMTAwKS50aGVuKCgpID0+IHJlc29sdmUoIHRoaXMucmVhZENvbW1hbmRSZXNwKCkgKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpXHJcbiAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICByZWFkVmFsdWVIYW5kbGVyID0gcmVhZFZhbHVlID0+IG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHtcclxuICAgICAgICBjb25zdCBjb21tYW5kUmVzcCA9IHRoaXMucmVhZEJ5dGVBcnJheShyZWFkVmFsdWUpO1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtSRUFEOiBBcHBEYXRhVG9Ib3N0XTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKGNvbW1hbmRSZXNwKX0gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICBpZiAoY29tbWFuZFJlc3AubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaChjb21tYW5kUmVzcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5yZXNwb25zZUFjazpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5wYXJzZUFja1Jlc3BvbnNlKGNvbW1hbmRSZXNwKSApXHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLmRldmljZVN0YXRlUmVwb3J0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCB0aGlzLmhhbmRsZURldmljZVN0YXRlUmVwb3J0KGNvbW1hbmRSZXNwKSApXHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLmNhcmRTdGF0dXNSZXBvcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuaGFuZGxlQ2FyZFN0YXR1c1JlcG9ydChjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5jYXJkRGF0YVJlcG9ydDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5oYW5kbGVDYXJkRGF0YVJlcG9ydChjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5lbXZDYXJkaG9sZGVyU3RhdHVzOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VFbXZDYXJkaG9sZGVySW50ZXJhY3Rpb25TdGF0dXMoY29tbWFuZFJlc3ApXHJcbiAgICAgICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLmVtdkNvbXBsZXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZUVtdkNvbXBsZXRpb24oY29tbWFuZFJlc3ApXHJcbiAgICAgICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLmJpZ0Jsb2NrRGF0YTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5oYW5kbGVCaWdCbG9ja0RhdGEoY29tbWFuZFJlc3ApIClcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMucmVxdWVzdFNuOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCB0aGlzLmZvcm1hdFNlcmlhbE51bWJlcihjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5kZXZpY2VDb25maWc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMucGFyc2VEZXZpY2VDb25maWd1cmF0aW9uKGNvbW1hbmRSZXNwKSApXHJcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucmVwb3J0SWRzLnBpblJlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbkNhbGxiYWNrKCB0aGlzLnBhcnNlUGluUmVzcG9uc2UoY29tbWFuZFJlc3ApIClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5zZWxlY3Rpb25SZXNwb25zZTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggdGhpcy5wYXJzZUNhcmRob2xkZXJSZXNwb25zZShjb21tYW5kUmVzcCkgKVxyXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJlcG9ydElkcy5kaXNwbGF5UmVzcDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSggXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayggdGhpcy5maW5kT3BlcmF0aW9uU3RhdHVzKGNvbW1hbmRSZXNwWzFdKSApXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMudGlwQ2FzaGJhY2tSZXBvcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMucGFyc2VUaXBDYXNoYmFja1JlcG9ydChjb21tYW5kUmVzcCkgKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5yZXBvcnRJZHMuZGVsYXllZEFjazpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2tSZXNwID0gdGhpcy5wYXJzZUFja1Jlc3BvbnNlKGNvbW1hbmRSZXNwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soeyBkZWxheWVkQUNLOiBhY2tSZXNwIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIGFja1Jlc3AgKVxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgW0RhdGEgUmVzcF06IFRoZXJlIGlzIG5vIHBhcnNlciBmb3IgdGhpcyBkYXRhLCByZXR1cm5pbmcgdG8gY2FsbGVyOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoY29tbWFuZFJlc3ApfSB8fCAke25ldyBEYXRlKCl9YFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjayggY29tbWFuZFJlc3AgKSApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJlc29sdmUoIGNvbW1hbmRSZXNwICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBoYW5kbGVCaWdCbG9ja0RhdGEgPSBiaWdCbG9ja0RhdGEgPT4ge1xyXG4gICAgICAgIHN3aXRjaChiaWdCbG9ja0RhdGFbMl0pIHtcclxuICAgICAgICAgICAgY2FzZSAweDAwOlxyXG4gICAgICAgICAgICAgICB0aGlzLmhhbmRsZUJpZ0Jsb2NrQmVnaW4oIGJpZ0Jsb2NrRGF0YSApO1xyXG4gICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAweDYzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhCbG9ja0lkID0gTWF0aC5tYXgoLi4uT2JqZWN0LmtleXModGhpcy5yYXdEYXRhKSkgKyAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVCaWdCbG9ja0ZpbmlzaCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJhd0RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5yYXdEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgIFsgYmlnQmxvY2tEYXRhWzJdIF06IGJpZ0Jsb2NrRGF0YS5zbGljZSg0KVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2FyZFN0YXR1c1JlcG9ydCA9IGNvbW1hbmRSZXNwID0+IG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soXHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VDYXJkU3RhdHVzUmVwb3J0KGNvbW1hbmRSZXNwKVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnN3aXBlSGFzQmVndW4gfHwgdGhpcy50cmFuc2FjdGlvbkhhc1N0YXJ0ZWQpID8gXHJcbiAgICAgICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcCggXHJcbiAgICAgICAgICAgICAgICAodGhpcy5zd2lwZUhhc0JlZ3VuID8gWzB4MDEsIDB4MEEsIDB4MDBdIDogWzB4MDEsIDB4QUIsIDB4MDBdKVxyXG4gICAgICAgICAgICApLnRoZW4oIGFja1Jlc3AgPT4gcmVzb2x2ZSggdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKGFja1Jlc3ApIClcclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gdGhpcy5zZW5kRXJyVG9DYWxsYmFjayggdGhpcy5idWlsZERldmljZUVycihlcnIpICkpXHJcbiAgICAgICAgOiByZXNvbHZlKClcclxuICAgIH0pO1xyXG5cclxuICAgIGhhbmRsZURldmljZVN0YXRlUmVwb3J0ID0gY29tbWFuZFJlc3AgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGFHYXRoZXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFHYXRoZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9TZW5kIGFzc2VtYmxlZCB0cmFuc2FjdGlvbiBkYXRhIHRvIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICBzd2lwZURhdGE6IHRoaXMuY2FyZERhdGFPYmpcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soXHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VEZXZpY2VTdGF0ZVJlcG9ydChjb21tYW5kUmVzcClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNhcmREYXRhUmVwb3J0ID0gY29tbWFuZFJlc3AgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN3aXBlSGFzQmVndW4pIHtcclxuICAgICAgICAgICAgdGhpcy5zd2lwZUhhc0JlZ3VuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUdhdGhlcmVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjb21tYW5kUmVzcC5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJzZUNhcmREYXRhKGNvbW1hbmRSZXNwKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW1BhcnRpYWwgRGF0YV0gQ2FyZCBEYXRhIFJlcG9ydCBjb250YWlucyBubyBkYXRhOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoY29tbWFuZFJlc3ApfWApO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcXVlc3RDYXJkU3dpcGUgPSBzd2lwZU9wdGlvbnMgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLnN3aXBlSGFzQmVndW4gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY2FyZERhdGFPYmogPSB7fTtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbSU5GT106IE1TUiB0cmFuc2FjdGlvbiBoYXMgYmVndW4gfHwgJHtuZXcgRGF0ZSgpfWApXHJcblxyXG4gICAgICAgIHJldHVybiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSlcclxuICAgICAgICAgICAgOiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoIHRoaXMuY2xlYXJTZXNzaW9uQ21kIClcclxuICAgICAgICAgICAgLnRoZW4oIGFja1Jlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKGFja1Jlc3ApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWlsZFN3aXBlQ29tbWFuZCggKHN3aXBlT3B0aW9ucyB8fCB7fSkgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9KS50aGVuKCByZXNwID0+IHJlc29sdmUocmVzcClcclxuICAgICAgICAgICAgKS5jYXRjaCggZXJyID0+IHJlamVjdChlcnIpKVxyXG4gICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICBzdGFydFRyYW5zYWN0aW9uID0gZW12T3B0aW9ucyA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25IYXNTdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNhcmREYXRhT2JqID0ge307XHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0lORk9dOiBFTVYgdHJhbnNhY3Rpb24gaGFzIGJlZ3VuIHx8ICR7bmV3IERhdGUoKX1gKVxyXG5cclxuICAgICAgICByZXR1cm4gKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgPyByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikpXHJcbiAgICAgICAgICAgIDogdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKHRoaXMuY2xlYXJTZXNzaW9uQ21kKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oIGFja1Jlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2soYWNrUmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkRW12Q29tbWFuZCggZW12T3B0aW9ucyB8fCB7fSApXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKCBlbXZDb21tbWFuZCA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcCggZW12Q29tbW1hbmQgKVxyXG4gICAgICAgICAgICAgICAgKS50aGVuKCByZXNwID0+IHJlc29sdmUocmVzcClcclxuICAgICAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihlcnIpICkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmVxdWVzdFBpbkVudHJ5ID0gcGluT3B0aW9ucyA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtQSU5dOiBSZXF1ZXN0IGZvciBQSU4gZW50cnkgc3RhcnQgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICByZXR1cm4gKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgPyByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikpXHJcbiAgICAgICAgICAgIDogdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKCB0aGlzLmJ1aWxkUGluQ29tbWFuZCggcGluT3B0aW9ucyB8fCB7fSApIClcclxuICAgICAgICAgICAgICAgIC50aGVuKCByZXNwID0+IHJlc29sdmUocmVzcClcclxuICAgICAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcclxuICAgIH0pOyBcclxuXHJcbiAgICBzZW5kQmlnQmxvY2tEYXRhID0gKGRhdGFUeXBlLCBkYXRhTGVuLCBkYXRhKSA9PiBuZXcgUHJvbWlzZSgocGFyZW50UmVzb2x2ZSwgcGFyZW50UmVqZWN0KSA9PiB7XHJcbiAgICAgICAgbGV0IGJsb2NrWmVybyA9IFsweDAxLCAweDEwLCBkYXRhVHlwZSwgMHgwMCwgKGRhdGFMZW4gJiAweEZGKV07XHJcblxyXG4gICAgICAgIGlmIChkYXRhTGVuIDwgNjApIHtcclxuICAgICAgICAgICAgYmxvY2taZXJvID0gYmxvY2taZXJvLmNvbmNhdCguLi50aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCA2MCkpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbU2VuZCBCaWcgQmxvY2sgRGF0YSBMZWdhY3ldOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoYmxvY2taZXJvKX1gKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBsZWdhY3lEYXRhID0gWzB4MDEsIDB4MTAsIGRhdGFUeXBlLCAweDAxLCBkYXRhTGVuLCAuLi5kYXRhXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsZWdhY3lEYXRhLmxlbmd0aCA8IDY1KVxyXG4gICAgICAgICAgICAgICAgbGVnYWN5RGF0YSA9IGxlZ2FjeURhdGEuY29uY2F0KC4uLnRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsICg2NSAtIGxlZ2FjeURhdGEubGVuZ3RoKSkpXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kUGluQ29tbWFuZChibG9ja1plcm8pLnRoZW4oKCkgPT4gdGhpcy5zZW5kUGluQ29tbWFuZChsZWdhY3lEYXRhKVxyXG4gICAgICAgICAgICAgICAgKS50aGVuKCgpID0+IHBhcmVudFJlc29sdmUoKVxyXG4gICAgICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcGFyZW50UmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYmxvY2taZXJvID0gYmxvY2taZXJvLmNvbmNhdChbXHJcbiAgICAgICAgICAgICAgICAoKGRhdGFMZW4gPj4gOCkgJiAweEZGKSwgXHJcbiAgICAgICAgICAgICAgICAoKGRhdGFMZW4gPj4gMTYpICYgMHhGRiksIFxyXG4gICAgICAgICAgICAgICAgKChkYXRhTGVuID4+IDI0KSAmIDB4RkYpLCBcclxuICAgICAgICAgICAgICAgIDB4MDEsIFxyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgNTYpXHJcbiAgICAgICAgICAgIF0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEV4dGVuZGVkQmlnQmxvY2tEYXRhKGRhdGFUeXBlLCBkYXRhTGVuLCBkYXRhLCBibG9ja1plcm8pLnRoZW4oKCkgPT4gcGFyZW50UmVzb2x2ZSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZW5kRXh0ZW5kZWRCaWdCbG9ja0RhdGEgPSAoZGF0YVR5cGUsIGRhdGFMZW4sIGRhdGEsIGJsb2NrWmVybykgPT4gbmV3IFByb21pc2UoIChwYXJlbnRSZXNvbHZlLCBwYXJlbnRSZWplY3QpID0+IHtcclxuICAgICAgICBjb25zdCBudW1iZXJPZkJsb2NrcyA9IE1hdGguY2VpbChkYXRhTGVuIC8gNjApO1xyXG4gICAgICAgIGxldCB3b3JraW5nT25Qcm9taXNlID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGNvbW1hbmRCbG9ja3MgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW1NlbmQgQmlnIEJsb2NrIERhdGEgRXh0ZW5kZWRdOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoYmxvY2taZXJvKX0gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICBjb25zdCBiZWdpblF1ZXVlID0gKCkgPT4gbmV3IFByb21pc2UoKGJlZ2luUXVldWVSZXNvbHZlLCBiZWdpblF1ZXVlUmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh3b3JraW5nT25Qcm9taXNlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXlQcm9taXNlKDUwMCkudGhlbigoKSA9PiBiZWdpblF1ZXVlUmVzb2x2ZSggYmVnaW5RdWV1ZSgpICkpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGF0YUJsb2NrID0gY29tbWFuZEJsb2Nrcy5zaGlmdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFkYXRhQmxvY2spXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYmVnaW5RdWV1ZVJlc29sdmUodHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICB3b3JraW5nT25Qcm9taXNlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhQmxvY2sucXVldWVkUHJvbWlzZSgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBkYXRhQmxvY2sucmVzb2x2ZSgpXHJcbiAgICAgICAgICAgICAgICApLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtpbmdPblByb21pc2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmVnaW5RdWV1ZVJlc29sdmUoIGJlZ2luUXVldWUoKSApXHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtpbmdPblByb21pc2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmVnaW5RdWV1ZVJlamVjdCggZGF0YUJsb2NrLnJlamVjdChlcnIpICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBlbnF1ZXVlID0gcXVldWVkUHJvbWlzZSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRCbG9ja3MucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZWRQcm9taXNlLFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSxcclxuICAgICAgICAgICAgICAgIHJlamVjdCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVucXVldWUoIFxyXG4gICAgICAgICAgICAoKSA9PiBuZXcgUHJvbWlzZShpbm5lclJlc29sdmUgPT4gXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRQaW5Db21tYW5kKGJsb2NrWmVybykudGhlbigoKSA9PiBpbm5lclJlc29sdmUoKSkgKSBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgYmxvY2sgPSAxOyBibG9jayA8PSBudW1iZXJPZkJsb2NrczsgaSArIDYwLCBibG9jaysrKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhRm9yQmxvY2sgPSBkYXRhLnNsaWNlKGksIChpICsgNjApKTtcclxuICAgICAgICAgICAgbGV0IGJsb2NrQ21kID0gWzB4MDEsIDB4MTAsIGRhdGFUeXBlLCBibG9jaywgZGF0YUZvckJsb2NrLmxlbmd0aCwgLi4uZGF0YUZvckJsb2NrXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChibG9ja0NtZC5sZW5ndGggIT09IDY1KVxyXG4gICAgICAgICAgICAgICAgYmxvY2tDbWQgPSBibG9ja0NtZC5jb25jYXQoIC4uLnRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsICg2NSAtIGJsb2NrQ21kLmxlbmd0aCkpIClcclxuXHJcbiAgICAgICAgICAgIGVucXVldWUoIFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gbmV3IFByb21pc2UoIGlubmVyUmVzb2x2ZSA9PiBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRQaW5Db21tYW5kKGJsb2NrQ21kKS50aGVuKCAoKSA9PiBpbm5lclJlc29sdmUoKSkgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW1NlbmQgQmlnIEJsb2NrIERhdGEgRXh0ZW5kZWRdOiBFeGVjdXRpbmcgcXVldWUgb2YgJHtjb21tYW5kQmxvY2tzLmxlbmd0aH0gY29tbWFuZHMgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICByZXR1cm4gYmVnaW5RdWV1ZSgpLnRoZW4oYmVnaW5RdWVSZXNwID0+IHBhcmVudFJlc29sdmUoYmVnaW5RdWVSZXNwKSkuY2F0Y2goZXJyID0+IHBhcmVudFJlamVjdChlcnIpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNlbmRBcnBjID0gYXJwY1Jlc3AgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgP1xyXG4gICAgICAgIHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdE9wZW4pKVxyXG4gICAgICAgIDogdGhpcy5zZW5kQXJwY0Jhc2UoYXJwY1Jlc3ApXHJcbiAgICAgICAgLnRoZW4oYXJwY0NtZCA9PiB0aGlzLmRlbGF5UHJvbWlzZSgyMDAsIGFycGNDbWQpXHJcbiAgICAgICAgKS50aGVuKGNtZCA9PiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoY21kKVxyXG4gICAgICAgICkudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW1NlbmQgQVJQQyBSZXN1bHRdOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcocmVzcCl9YCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXNwKTtcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkpXHJcbiAgICApO1xyXG5cclxuICAgIHNldERpc3BsYXlNZXNzYWdlID0gZGlzcGxheU9wdGlvbnMgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gXHJcbiAgICAgICAgKHRoaXMuZGV2aWNlICYmIHRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkRGlzcGxheUNtZCggKGRpc3BsYXlPcHRpb25zIHx8IHt9KSApLnRoZW4oIGNtZCA9PiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoY21kKSBcclxuICAgICAgICAgICAgICAgICkudGhlbihyZXNwID0+IHJlc29sdmUocmVzcClcclxuICAgICAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihlcnIpICkpXHJcbiAgICAgICAgICAgIDogcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdE9wZW4pKSApO1xyXG5cclxuICAgIHNlbmRQaW5Db21tYW5kID0gd3JpdGVDb21tYW5kID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgd3JpdGVDb21tYW5kID0gKHR5cGVvZih3cml0ZUNvbW1hbmQpID09PSAnc3RyaW5nJykgPyB0aGlzLmhleFRvQnl0ZXMod3JpdGVDb21tYW5kKSA6IHdyaXRlQ29tbWFuZDtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQXBwRnJvbUhvc3RMZW5ndGhdOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoW3dyaXRlQ29tbWFuZC5sZW5ndGhdKX0gfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICByZXR1cm4gKCF0aGlzLnNlbmRMZW5Ub0RldmljZSkgPyByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoY29tbWFuZE5vdFNlbnRGcm9tSG9zdCkgKVxyXG4gICAgICAgIDogdGhpcy5zZW5kTGVuVG9EZXZpY2Uud3JpdGVWYWx1ZShVaW50OEFycmF5Lm9mKCB3cml0ZUNvbW1hbmQubGVuZ3RoICkpXHJcbiAgICAgICAgICAgIC50aGVuKCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQXBwRnJvbUhvc3REYXRhXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHdyaXRlQ29tbWFuZCl9IHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFNlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljLndyaXRlVmFsdWUoIFVpbnQ4QXJyYXkuZnJvbSh3cml0ZUNvbW1hbmQpICkgKVxyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kU2VudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2VuZENvbW1hbmRXaXRoUmVzcCA9IHdyaXRlQ29tbWFuZCA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gdGhpcy5zZW5kUGluQ29tbWFuZCh3cml0ZUNvbW1hbmQpXHJcbiAgICAgICAgLnRoZW4oICgpID0+ICh0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlKSA/IFByb21pc2UucmVzb2x2ZSh0cnVlKSA6IHRoaXMud2FpdEZvckRldmljZVJlc3BvbnNlKDE2KSApXHJcbiAgICAgICAgLnRoZW4oIHdhaXRSZXNwID0+ICh3YWl0UmVzcCkgPyB0aGlzLnJlYWRDb21tYW5kUmVzcCgpIDogdGhpcy50cnlDb21tYW5kQWdhaW4od3JpdGVDb21tYW5kKSApXHJcbiAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUmVzcEF2YWlsYWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIHJlc3BvbnNlICk7XHJcbiAgICAgICAgfSkuY2F0Y2goIGVyciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApXHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgdHJ5Q29tbWFuZEFnYWluID0gd3JpdGVDb21tYW5kID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB0aGlzLnNlbmRQaW5Db21tYW5kKHdyaXRlQ29tbWFuZClcclxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy53YWl0Rm9yRGV2aWNlUmVzcG9uc2UoNSkgKVxyXG4gICAgICAgIC50aGVuKCB3YWl0UmVzcCA9PiAod2FpdFJlc3ApID8gcmVzb2x2ZSggdGhpcy5yZWFkQ29tbWFuZFJlc3AoKSApXHJcbiAgICAgICAgICAgIDogcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKHJlc3BvbnNlTm90UmVjZWl2ZWQpIClcclxuICAgICAgICApXHJcbiAgICApO1xyXG5cclxuICAgIC8vI3JlZ2lvbiBHZXREZXZpY2VJbmZvXHJcbiAgICBnZXREZXZpY2VJbmZvID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID9cclxuICAgICAgICByZWplY3QodGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSkgXHJcbiAgICAgICAgOiB0aGlzLmdhdGhlckRldmljZUluZm8oKVxyXG4gICAgICAgICAgICAudGhlbiggZGV2aWNlSW5mbyA9PiByZXNvbHZlKGRldmljZUluZm8pXHJcbiAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihlcnIpKSApXHJcbiAgICApO1xyXG5cclxuICAgIGdhdGhlckRldmljZUluZm8gPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gKHRoaXMuZGV2aWNlU2VyaWFsTnVtYmVyKSA/IFxyXG4gICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICBzZXJpYWxOdW1iZXI6IHRoaXMuZGV2aWNlU2VyaWFsTnVtYmVyLFxyXG4gICAgICAgICAgICBkZXZpY2VOYW1lOiB0aGlzLmRldmljZS5uYW1lLFxyXG4gICAgICAgICAgICBkZXZpY2VUeXBlOiB0aGlzLmRldmljZVR5cGUsXHJcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZFxyXG4gICAgICAgIH0pIFxyXG4gICAgICAgIDogdGhpcy5jaGVja0lmRGV2aWNlSWRsZSgpXHJcbiAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLmdldERldmljZUluZm9Qcm9jZWVkKClcclxuICAgICAgICAgICAgKS50aGVuKCAoKSA9PiByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICBzZXJpYWxOdW1iZXI6IHRoaXMuZGV2aWNlU2VyaWFsTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGRldmljZU5hbWU6IHRoaXMuZGV2aWNlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGV2aWNlVHlwZTogdGhpcy5kZXZpY2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpXHJcbiAgICApO1xyXG5cclxuICAgIGdldERldmljZUluZm9Qcm9jZWVkID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLnNlbmRQaW5Db21tYW5kKFsweDAwLCAweDFBLCAweDA1XSlcclxuICAgICAgICAudGhlbiggKCkgPT4gKHRoaXMuZGV2aWNlU2VyaWFsTnVtYmVyKSA/IFByb21pc2UucmVzb2x2ZSh0cnVlKSA6IHRoaXMud2FpdEZvclNuKDcpIFxyXG4gICAgICAgICkudGhlbiggd2FpdFJlc3AgPT4gKHdhaXRSZXNwKSA/IHJlc29sdmUoKSA6IFxyXG4gICAgICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIocmVzcG9uc2VOb3RSZWNlaXZlZCkpXHJcbiAgICAgICAgKS5jYXRjaCggZXJyID0+IHJlamVjdChlcnIpKVxyXG4gICAgfSlcclxuXHJcbiAgICBjaGVja0lmRGV2aWNlSWRsZSA9ICgpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gXHJcbiAgICAgICAgdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFsweDAxLCAweDFBLCAweDA1XSlcclxuICAgICAgICAgICAgLnRoZW4oIGFja1Jlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFja1Jlc3AuY29kZSA9PT0gMHg4MSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFyU2Vzc2lvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IHJlc29sdmUoIHRoaXMuY2hlY2tJZkRldmljZUlkbGUoKSApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhhY2tSZXNwKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICB3YWl0Rm9yU24gPSBtYXhUcmllcyA9PiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IHdhaXRGb3JSZXNwb25zZSA9IHRyeU51bWJlciA9PiBcclxuICAgICAgICAgICAgKHRyeU51bWJlciA8IG1heFRyaWVzKSA/IFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuZGV2aWNlU2VyaWFsTnVtYmVyKSA/IHJlc29sdmUoIHRydWUgKSA6IHNldFRpbWVvdXQoKCkgPT4gd2FpdEZvclJlc3BvbnNlKHRyeU51bWJlciArIDEpLCAyMDApXHJcbiAgICAgICAgICAgIDogcmVzb2x2ZSggZmFsc2UgKTtcclxuXHJcbiAgICAgICAgd2FpdEZvclJlc3BvbnNlKDApO1xyXG4gICAgfSk7XHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICBjYW5jZWxUcmFuc2FjdGlvbiA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljKSA/IFxyXG4gICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihjb21tYW5kTm90U2VudCkpXHJcbiAgICAgICAgOiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoWzB4MDEsIDB4MDUsIDB4MDBdKVxyXG4gICAgICAgIC50aGVuKCBhY2tSZXNwID0+IHJlc29sdmUoYWNrUmVzcCkgKVxyXG4gICAgICAgIC5jYXRjaCggZXJyID0+IHJlamVjdChlcnIpIClcclxuICAgICk7XHJcblxyXG4gICAgY2xlYXJTZXNzaW9uID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbQ2xlYXJTZXNzaW9uXTogUmVxdWVzdCB0byBjbGVhciBzZXNzaW9uIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICghdGhpcy5zZW5kTGVuVG9EZXZpY2UpID8gcmVzb2x2ZShub1Nlc3Npb25Ub0NsZWFyKSBcclxuICAgICAgICAgICAgOiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AodGhpcy5jbGVhclNlc3Npb25DbWQpXHJcbiAgICAgICAgICAgIC50aGVuKCBhY2tSZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayhhY2tSZXNwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtDbGVhclNlc3Npb25dOiBSZWNlaXZlZCBjbGVhciBzZXNzaW9uIHJlc3BvbnNlIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJJbnRlcm5hbFN0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShhY2tSZXNwKVxyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjbG9zZVBpbkRldmljZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuY2FyZERhdGFMaXN0ZW5lcikgP1xyXG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpLnRoZW4oICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0Nsb3NlIERldmljZV06IERldmljZSBDbG9zZWQuIENsZWFyaW5nIEpTIGNhY2hlIHx8ICR7bmV3IERhdGUoKX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckdhdHRDYWNoZSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCBlcnIgKSApXHJcbiAgICAgICAgOiB0aGlzLmNhcmREYXRhTGlzdGVuZXIuc3RvcE5vdGlmaWNhdGlvbnMoKVxyXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtDbG9zZSBEZXZpY2VdOiBHQVRUIG5vdGlmaWNhdGlvbnMgc3RvcHBlZC4gQ2xlYXJpbmcgSlMgY2FjaGUgfHwgJHtuZXcgRGF0ZSgpfWApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYXJkRGF0YUxpc3RlbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5kYXRhV2F0Y2hlcik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJHYXR0Q2FjaGUoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCB0aGlzLmRpc2Nvbm5lY3QoKSApXHJcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdCggZXJyICkgKVxyXG4gICAgKTtcclxuXHJcbiAgICBjbG9zZURldmljZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgIHJlc29sdmUoc3VjY2Vzc2Z1bENsb3NlKSBcclxuICAgICAgICA6IHRoaXMuY2xlYXJTZXNzaW9uKClcclxuICAgICAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuY2xvc2VQaW5EZXZpY2UoKVxyXG4gICAgICAgICAgICApLnRoZW4oKCk9PiByZXNvbHZlKHN1Y2Nlc3NmdWxDbG9zZSlcclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIGNsZWFySW50ZXJuYWxTdGF0ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmNvbW1hbmRTZW50ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUmVzcEF2YWlsYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGF0YUdhdGhlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1F1aWNrQ2hpcFRyYW5zYWN0aW9uID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhckdhdHRDYWNoZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uSGFzU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZURhdGFDaGFyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zZW5kTGVuVG9EZXZpY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2xlYXJJbnRlcm5hbFN0YXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3dpcGVIYXNCZWd1biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25IYXNTdGFydGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBpblBhZDtcclxuIiwiaW1wb3J0IFBpblBhZCBmcm9tICcuL3BpblBhZCc7XHJcbmltcG9ydCB7ICBkcE1pbmkgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY2xhc3MgRHBNaW5pIGV4dGVuZHMgUGluUGFkIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGV2aWNlVHlwZSA9IGRwTWluaTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHBNaW5pO1xyXG4iLCJpbXBvcnQgUGluUGFkIGZyb20gJy4vcGluUGFkJztcclxuaW1wb3J0IHsgZHluYVByb0dvIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIER5bmFQcm9HbyBleHRlbmRzIFBpblBhZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXZpY2VUeXBlID0gZHluYVByb0dvO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcXVlc3RUaXBPckNhc2hiYWNrID0gdGlwQ2FzaGJhY2tPcHRpb25zID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID9cclxuICAgICAgICByZWplY3QodGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSlcclxuICAgICAgICA6IHRoaXMuYnVpbGRUaXBPckNhc2hiYWNrQ21kKCAodGlwQ2FzaGJhY2tPcHRpb25zIHx8IHt9ICkpXHJcbiAgICAgICAgICAgIC50aGVuKHRpcENhc2hiYWNrQ21kID0+IHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcCh0aXBDYXNoYmFja0NtZClcclxuICAgICAgICAgICAgKS50aGVuKHJlc3AgPT4gcmVzb2x2ZShyZXNwKVxyXG4gICAgICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpKSlcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IER5bmFQcm9HbzsiLCJpbXBvcnQgRGV2aWNlQmFzZSBmcm9tICcuLi9kZXZpY2VzL2Jhc2VDbGFzcyc7XHJcblxyXG5jbGFzcyBTY3JhU3dpcGVQYXJzZXIgZXh0ZW5kcyBEZXZpY2VCYXNlIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLmRhdGFOYW1lcyA9IFtcclxuICAgICAgICAgICAgJ3RyYWNrMScsXHJcbiAgICAgICAgICAgICd0cmFjazInLFxyXG4gICAgICAgICAgICAndHJhY2szJyxcclxuICAgICAgICAgICAgJ2tzbicsXHJcbiAgICAgICAgICAgICdtYWduZVByaW50JyxcclxuICAgICAgICAgICAgJ21hZ25lUHJpbnRTdGF0dXMnLFxyXG4gICAgICAgICAgICAnc2VyaWFsTnVtYmVyJyxcclxuICAgICAgICAgICAgJ2VuY1Nlc3Npb25JZCcsXHJcbiAgICAgICAgICAgICd0cmFjazFNYXNrZWQnLFxyXG4gICAgICAgICAgICAndHJhY2syTWFza2VkJyxcclxuICAgICAgICAgICAgJ3RyYWNrM01hc2tlZCdcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLm9mZnNldCA9IDM7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhY2tJbmRpY2VzID0gb2Zmc2V0ID0+IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgIHRyYWNrMURlY29kZVN0YXR1czogb2Zmc2V0LFxyXG4gICAgICAgIHRyYWNrMkRlY29kZVN0YXR1czogb2Zmc2V0ICsgMSxcclxuICAgICAgICB0cmFjazNEZWNvZGVTdGF0dXM6IG9mZnNldCArIDIsXHJcbiAgICAgICAgdHJhY2sxTGVuOiBvZmZzZXQgKyAzLFxyXG4gICAgICAgIHRyYWNrMkxlbjogb2Zmc2V0ICsgNCxcclxuICAgICAgICB0cmFjazNMZW46IG9mZnNldCArIDUsXHJcbiAgICAgICAgY2FyZEVuY29kZVR5cGU6IG9mZnNldCArIDYsXHJcbiAgICAgICAgdHJhY2sxU3RhcnQ6IG9mZnNldCArIDcsXHJcbiAgICAgICAgdHJhY2sxRW5kOiBvZmZzZXQgKyAxMTgsXHJcbiAgICAgICAgdHJhY2syU3RhcnQ6IG9mZnNldCArIDExOSxcclxuICAgICAgICB0cmFjazJFbmQ6IG9mZnNldCArIDIzMCxcclxuICAgICAgICB0cmFjazNTdGFydDogb2Zmc2V0ICsgMjMxLFxyXG4gICAgICAgIHRyYWNrM0VuZDogb2Zmc2V0ICsgMzQyLFxyXG4gICAgICAgIGNhcmRTdGF0dXM6IG9mZnNldCArIDM0MyxcclxuICAgICAgICBtYWduZVByaW50U3RhdHVzU3RhcnQ6IG9mZnNldCArIDM0NCxcclxuICAgICAgICBtYWduZVByaW50U3RhdHVzRW5kOiBvZmZzZXQgKyAgMzQ3LFxyXG4gICAgICAgIG1hZ25lUHJpbnRMZW46IG9mZnNldCArIDM0OCxcclxuICAgICAgICBtYWduZVByaW50U3RhcnQ6IG9mZnNldCArIDM0OSxcclxuICAgICAgICBtYWduZVByaW50RW5kOiBvZmZzZXQgKyA0NzYsXHJcbiAgICAgICAgc2VyaWFsTnVtYmVyU3RhcnQ6IG9mZnNldCArIDQ3NyxcclxuICAgICAgICBzZXJpYWxOdW1iZXJFbmQ6IG9mZnNldCArIDQ5MixcclxuICAgICAgICBkZXZpY2VFbmNTdGF0dXNTdGFydDogb2Zmc2V0ICsgNDkzLFxyXG4gICAgICAgIGRldmljZUVuY1N0YXR1c0VuZDogb2Zmc2V0ICsgNDk0LFxyXG4gICAgICAgIGtzblN0YXJ0OiBvZmZzZXQgKyA0OTUsXHJcbiAgICAgICAga3NuRW5kOiBvZmZzZXQgKyA1MDQsXHJcbiAgICAgICAgdHJhY2sxTWFza2VkTGVuOiBvZmZzZXQgKyA1MDUsXHJcbiAgICAgICAgdHJhY2syTWFza2VkTGVuOiBvZmZzZXQgKyA1MDYsXHJcbiAgICAgICAgdHJhY2szTWFza2VkTGVuOiBvZmZzZXQgKyA1MDcsXHJcbiAgICAgICAgdHJhY2sxTWFza2VkU3RhcnQ6IG9mZnNldCArIDUwOCxcclxuICAgICAgICB0cmFjazFNYXNrZWRFbmQ6IG9mZnNldCArIDYxOSxcclxuICAgICAgICB0cmFjazJNYXNrZWRTdGFydDogb2Zmc2V0ICsgNjIwLFxyXG4gICAgICAgIHRyYWNrMk1hc2tlZEVuZDogb2Zmc2V0ICsgNzMxLFxyXG4gICAgICAgIHRyYWNrM01hc2tlZFN0YXJ0OiBvZmZzZXQgKyA3MzIsXHJcbiAgICAgICAgdHJhY2szTWFza2VkRW5kOiBvZmZzZXQgKyA4NDMsXHJcbiAgICAgICAgZW5jU2Vzc2lvbklkU3RhcnQ6IG9mZnNldCArIDg0NCxcclxuICAgICAgICBlbmNTZXNzaW9uSWRFbmQ6IG9mZnNldCArIDg1MSxcclxuICAgICAgICB0cmFjazFBYnNMZW46IG9mZnNldCArIDg1MixcclxuICAgICAgICB0cmFjazJBYnNMZW46IG9mZnNldCArIDg1MyxcclxuICAgICAgICB0cmFjazNBYnNMZW46IG9mZnNldCArIDg1NCxcclxuICAgICAgICBtYWduZVByaW50QWJzTGVuOiBvZmZzZXQgKyA4NTVcclxuICAgIH0pO1xyXG5cclxuICAgIHBhcnNlSGlkRGF0YSA9IGRhdGEgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYWNrUG9zaXRpb25zID0gdGhpcy50cmFja0luZGljZXModGhpcy5vZmZzZXQpO1xyXG4gICAgICAgIGxldCB0cmFja0luZm8gPSB7fTtcclxuICAgIFxyXG4gICAgICAgIC8vSXRlcmF0ZSB0aHJvdWdoIHRyYWNrIG5hbWVzIGFuZCBmb3JtYXQgaW4ga2V5IHZhbHVlIHBhaXIgZm9ybWF0LlxyXG4gICAgICAgIHRoaXMuZGF0YU5hbWVzLmZvckVhY2goIGRhdGFQcm9wID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCB0cmFja0RhdGEgPSBkYXRhLnNsaWNlKFxyXG4gICAgICAgICAgICAgICAgdHJhY2tQb3NpdGlvbnNbYCR7ZGF0YVByb3B9U3RhcnRgXSwgdHJhY2tQb3NpdGlvbnNbYCR7ZGF0YVByb3B9RW5kYF0gKyAxXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHJhY2tQb3NpdGlvbnMuaGFzT3duUHJvcGVydHkoYCR7ZGF0YVByb3B9TGVuYCkpIHtcclxuICAgICAgICAgICAgICAgIHRyYWNrRGF0YSA9IHRyYWNrRGF0YS5zbGljZShcclxuICAgICAgICAgICAgICAgICAgICAwLCBkYXRhW3RyYWNrUG9zaXRpb25zW2Ake2RhdGFQcm9wfUxlbmBdXVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICBTcGVjaWFsIGZvcm1hdHRpbmcgaXMgbmVlZGVkIGZvciB0cmFjazJNYXNrZWQsIHRyYWNrcyB3aXRoIGEgXCJEZWNvZGVTdGF0dXNcIiBmaWVsZCwgRGV2aWNlIFNlcmlhbCBOdW1iZXIsIGFuZCB0cmFja3MgdGhhdCBoYXZlIGEgXCJtYXNrZWRcIiBzdWZmaXguXHJcbiAgICAgICAgICAgICAgICBUaGUgYmVsb3cgdGVybmFyeSByZXR1cm5zIHRoZSBwcm9wZXIgZm9ybWF0LCBkZXBlbmRpbmcgb24gdHJhY2sgbmFtZSwgYW5kIHBlcmZvcm1zIG11Y2ggYmV0dGVyIHRoYW4gaWYvZWxzZWlmL2Vsc2Ugc3RhdGVtZW50LlxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0cmFja0luZm8gPSAoZGF0YVByb3AgPT09ICd0cmFjazJNYXNrZWQnKSA/IHRoaXMuZm9ybWF0VHJhY2syTWFza2VkKCB0cmFja0luZm8sIGRhdGFQcm9wLCB0aGlzLmJ1ZmZlclRvVXRmOCh0cmFja0RhdGEpICkgOiBcclxuICAgICAgICAgICAgICAgICh0cmFja1Bvc2l0aW9ucy5oYXNPd25Qcm9wZXJ0eShgJHtkYXRhUHJvcH1EZWNvZGVTdGF0dXNgKSkgPyB0aGlzLmZvcm1hdFRyYWNrV2l0aERlY29kZSggdHJhY2tJbmZvLCBkYXRhUHJvcCwgZGF0YVt0cmFja1Bvc2l0aW9uc1tgJHtkYXRhUHJvcH1EZWNvZGVTdGF0dXNgXV0sIHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcodHJhY2tEYXRhKSApIDogXHJcbiAgICAgICAgICAgICAgICAgICAgKGRhdGFQcm9wID09PSAnc2VyaWFsTnVtYmVyJykgPyB0aGlzLmZvcm1hdFNlcmlhbE51bWJlcih0cmFja0luZm8sIHRyYWNrRGF0YSkgOiBcclxuICAgICAgICAgICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50cmFja0luZm8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhUHJvcF0gOiAoZGF0YVByb3AudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbWFza2VkJykpID8gdGhpcy5idWZmZXJUb1V0ZjgodHJhY2tEYXRhKSA6IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcodHJhY2tEYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IHN3aXBlRGF0YTogeyAuLi50cmFja0luZm8gfSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZvcm1hdFNlcmlhbE51bWJlciA9ICh0cmFja0luZm8sIHRyYWNrRGF0YSkgPT4gKHtcclxuICAgICAgICAuLi50cmFja0luZm8sXHJcbiAgICAgICAgc2VyaWFsTnVtYmVyOiB0aGlzLmJ1ZmZlclRvVXRmOCggKHRyYWNrRGF0YS5sZW5ndGggPiA3ID8gdHJhY2tEYXRhLnNsaWNlKDAsIDcpIDogdHJhY2tEYXRhICkgKVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy9Nb3ZlZCBFeHAgYW5kIFBBTiBmb3JtYXRpbmcgdG8gVXRpbHMgY2xhc3MgLSBmb3IgaW5oZXJpdGFuY2UuXHJcblxyXG4gICAgZm9ybWF0VHJhY2syTWFza2VkID0gKHRyYWNrSW5mbywgZGF0YVByb3AsIHRyYWNrMk1hc2tlZCkgPT4gKHtcclxuICAgICAgICAuLi50cmFja0luZm8sXHJcbiAgICAgICAgW2RhdGFQcm9wXSA6IHRyYWNrMk1hc2tlZCxcclxuICAgICAgICAuLi50aGlzLmZvcm1hdEV4cFBBTih0cmFjazJNYXNrZWQpXHJcbiAgICB9KTtcclxuXHJcbiAgICBmb3JtYXRUcmFja1dpdGhEZWNvZGUgPSAodHJhY2tJbmZvLCBkYXRhUHJvcCwgZGVjb2RlU3RhdHVzVmFsdWUsIHRyYWNrVmFsdWUpID0+ICh7XHJcbiAgICAgICAgLi4udHJhY2tJbmZvLFxyXG4gICAgICAgIFtkYXRhUHJvcF0gOiB0cmFja1ZhbHVlLFxyXG4gICAgICAgIFtgJHtkYXRhUHJvcH1EZWNvZGVTdGF0dXNgXSA6IGRlY29kZVN0YXR1c1ZhbHVlID09PSAweDAwID8gXCJPa1wiIDogXCJFcnJvclwiLFxyXG4gICAgICAgIFtgJHtkYXRhUHJvcH1EZWNvZGVTdGF0dXNDb2RlYF0gOiBkZWNvZGVTdGF0dXNWYWx1ZVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNjcmFTd2lwZVBhcnNlcjsiLCJpbXBvcnQgU2NyYVN3aXBlUGFyc2VyIGZyb20gJy4uL3BhcnNlcnMvc2NyYVN3aXBlUGFyc2VyJztcclxuXHJcbmNsYXNzIFRyeFN0YXR1c1BhcnNlciBleHRlbmRzIFNjcmFTd2lwZVBhcnNlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy5UcnhTdGF0dXNFbnVtID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IFwiVHJhbnNhY3Rpb24gU3RhcnRlZCBhbmQgSWRsZVwiLFxyXG4gICAgICAgICAgICAweDAxOiBcIkNhcmQgaXMgSW5zZXJ0ZWRcIixcclxuICAgICAgICAgICAgMHgwMjogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICAweDAzOiBcIlRyYW5zYWN0aW9uIFByb2dyZXNzIENoYW5nZVwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIldhaXRpbmcgZm9yIFVzZXIgUmVzcG9uc2VcIixcclxuICAgICAgICAgICAgMHgwNTogXCJUaW1lZCBPdXRcIixcclxuICAgICAgICAgICAgMHgwNjogXCJUcmFuc2FjdGlvbiBDb21wbGV0ZVwiLFxyXG4gICAgICAgICAgICAweDA3OiBcIkNhbmNlbGxlZCBieSBIb3N0XCIsXHJcbiAgICAgICAgICAgIDB4MDg6IFwiQ2FyZCBSZW1vdmVkXCIsXHJcbiAgICAgICAgICAgIDB4MDk6IFwiQ29udGFjdGxlc3MgVG9rZW4gRGV0ZWN0ZWQsIFBvd2VyaW5nIFVwIENhcmRcIixcclxuICAgICAgICAgICAgMHgwQTogXCJNU1IgU3dpcGUgRGV0ZWN0ZWRcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLlRyeFByb2dyZXNzSW5kaWNhdG9yID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIDB4MDA6IFwiTm8gdHJhbnNhY3Rpb24gaW4gcHJvZ3Jlc3NcIixcclxuICAgICAgICAgICAgMHgwMTogXCJXYWl0aW5nIGZvciBjYXJkaG9sZGVyIHRvIHByZXNlbnQgcGF5bWVudFwiLFxyXG4gICAgICAgICAgICAweDAyOiBcIlBvd2VyaW5nIHVwIHRoZSBjYXJkXCIsXHJcbiAgICAgICAgICAgIDB4MDM6IFwiU2VsZWN0aW5nIHRoZSBhcHBsaWNhdGlvblwiLFxyXG4gICAgICAgICAgICAweDA0OiBcIldhaXRpbmcgZm9yIHVzZXIgbGFuZ3VhZ2Ugc2VsZWN0aW9uXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDA1OiBcIldhaXRpbmcgZm9yIHVzZXIgYXBwbGljYXRpb24gc2VsZWN0aW9uXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDA2OiBcIkluaXRpYXRpbmcgYXBwbGljYXRpb25cIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MDc6IFwiUmVhZGluZyBhcHBsaWNhdGlvbiBkYXRhXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDA4OiBcIk9mZmxpbmUgZGF0YSBhdXRoZW50aWNhdGlvblwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwOTogXCJQcm9jZXNzIHJlc3RyaWN0aW9uc1wiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwQTogXCJDYXJkaG9sZGVyIHZlcmlmaWNhdGlvblwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwQjogXCJUZXJtaW5hbCByaXNrIG1hbmFnZW1lbnRcIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MEM6IFwiVGVybWluYWwgYWN0aW9uIGFuYWx5c2lzXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDBEOiBcIkdlbmVyYXRpbmcgZmlyc3QgYXBwbGljYXRpb24gY3J5cHRvZ3JhbVwiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwRTogXCJDYXJkIGFjdGlvbiBhbmFseXNpc1wiLCAgLy9Db250YWN0IE9ubHlcclxuICAgICAgICAgICAgMHgwRjogXCJPbmxpbmUgcHJvY2Vzc2luZ1wiLFxyXG4gICAgICAgICAgICAweDEwOiBcIldhaXRpbmcgb25saW5lIHByb2Nlc3NpbmcgcmVzcG9uc2VcIixcclxuICAgICAgICAgICAgMHgxMTogXCJUcmFuc2FjdGlvbiBDb21wbGV0ZVwiLFxyXG4gICAgICAgICAgICAweDEyOiBcIlRyYW5zYWN0aW9uIEVycm9yXCIsXHJcbiAgICAgICAgICAgIDB4MTM6IFwiVHJhbnNhY3Rpb24gQXBwcm92ZWRcIixcclxuICAgICAgICAgICAgMHgxNDogXCJUcmFuc2FjdGlvbiBEZWNsaW5lZFwiLFxyXG4gICAgICAgICAgICAweDE1OiBcIlRyYW5zYWN0aW9uIENhbmNlbGxlZCBieSBNU1IgU3dpcGVcIiwgIC8vTVNSIE9ubHlcclxuICAgICAgICAgICAgMHgxNjogXCJFTVYgZXJyb3IgLSBDb25kaXRpb25zIE5vdCBTYXRpc2ZpZWRcIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MTc6IFwiRU1WIGVycm9yIC0gQ2FyZCBCbG9ja2VkXCIsICAvL0NvbnRhY3QgT25seVxyXG4gICAgICAgICAgICAweDE4OiBcIkFwcGxpY2F0aW9uIHNlbGVjdGlvbiBmYWlsZWRcIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MTk6IFwiRU1WIGVycm9yIC0gQ2FyZCBOb3QgQWNjZXB0ZWRcIiwgIC8vQ29udGFjdCBPbmx5XHJcbiAgICAgICAgICAgIDB4MUE6IFwiRW1wdHkgQ2FuZGlkYXRlIExpc3RcIixcclxuICAgICAgICAgICAgMHgxQjogXCJBcHBsaWNhdGlvbiBCbG9ja2VkXCIsXHJcbiAgICAgICAgICAgIDB4Mjk6IFwiQ29udGFjdGxlc3MgUmVtb3ZlIENhcmRcIixcclxuICAgICAgICAgICAgMHgyQTogXCJDb2xsaXNpb24gRGV0ZWN0ZWRcIixcclxuICAgICAgICAgICAgMHgyQjogXCJSZWZlciB0byBNb2JpbGUgRGV2aWNlIFByb21wdFwiLFxyXG4gICAgICAgICAgICAweDJDOiBcIkNvbnRhY3RsZXNzIFRyYW5zYWN0aW9uIENvbXBsZXRlXCIsXHJcbiAgICAgICAgICAgIDB4MkQ6IFwiUmVxdWVzdCBTd2l0Y2ggdG8gSUNDL01TUiAtIEtlcm5lbCBoYXMgcmVmdXNlZCBjb250YWN0bGVzcyBwYXltZW50XCIsXHJcbiAgICAgICAgICAgIDB4MkU6IFwiV3JvbmcgQ2FyZCBUeXBlIChNU0Qgb3IgRU1WKVwiLFxyXG4gICAgICAgICAgICAweDJGOiBcIk5vIEFwcGxpY2F0aW9uIEludGVyY2hhbmdlIFByb2ZpbGUgKFRhZyA4MikgUmVjZWl2ZWRcIixcclxuICAgICAgICAgICAgMHgzMTogXCJNYWduZXRpYyBzdHJpcGUgZGVjb2RpbmcgZXJyb3IuXCIsXHJcbiAgICAgICAgICAgIDB4M0M6IFwiTWFnbmV0aWMgc3RyaXBlIGRlY29kaW5nIGR1cmluZyBUZWNobmljYWwgRmFsbGJhY2suIFJldmVydCB0byBNU1IsIHBvd2VyaW5nIHVwIGJ1dCBub3QgcmVjZWl2aW5nIGFuIEFuc3dlciB0byBSZXNldCBmcm9tIGNhcmQuXCIsXHJcbiAgICAgICAgICAgIDB4M0Q6IFwiTWFnbmV0aWMgc3RyaXBlIGNhcmQgZGVjb2RlZCBkdXJpbmcgTVNSIEZhbGxiYWNrLiBEZXZpY2UgcmV2ZXJ0ZWQgdG8gTVNSLCBidXQgZW5jb3VudGVyZWQgZmF0YWwgZXJyb3JzLlwiLFxyXG4gICAgICAgICAgICAweDNFOiBcIk1hZ25ldGljIHN0cmlwZSBjYXJkIGRlY29kZWQgZHVyaW5nIGEgTm8gRmFsbGJhY2sgTVNSIHJlYWQuXCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZVRyYW5zYWN0aW9uU3RhdHVzID0gbm90aWZpY2F0aW9uID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhTGVuID0gdGhpcy5yZWFkVHdvQnl0ZUxlbmd0aChbXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvblsxXSxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uWzJdXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGxldCBuZXdOb3RpZmljYXRpb24gPSBub3RpZmljYXRpb24uc2xpY2UoMyk7XHJcblxyXG4gICAgICAgIHJldHVybiAobmV3Tm90aWZpY2F0aW9uLmxlbmd0aCA9PT0gZGF0YUxlbikgPyB0aGlzLnBhcnNlTm90aWZpY2F0aW9ucyhuZXdOb3RpZmljYXRpb24pIDogdGhpcy50aHJvd0xlbkVycigpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgcGFyc2VOb3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9uU2xpY2UgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld05vdGlmaWNhdGlvblNsaWNlID0gbm90aWZpY2F0aW9uU2xpY2Uuc2xpY2UoNik7XHJcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uTGVuZ3RoID0gdGhpcy5yZWFkVHdvQnl0ZUxlbmd0aChbXHJcbiAgICAgICAgICAgIG5ld05vdGlmaWNhdGlvblNsaWNlWzBdLFxyXG4gICAgICAgICAgICBuZXdOb3RpZmljYXRpb25TbGljZVsxXVxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBjb25zdCBub3RpZmljYXRpb25Db250ZW50ID0gbmV3Tm90aWZpY2F0aW9uU2xpY2Uuc2xpY2UoMik7XHJcbiAgICAgICAgY29uc3QgdHJ4U3RhdHVzQ29kZSA9IG5vdGlmaWNhdGlvbkNvbnRlbnRbMF07XHJcbiAgICAgICAgY29uc3QgdHJ4UHJvZ3Jlc3NDb2RlID0gbm90aWZpY2F0aW9uQ29udGVudFsyXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChub3RpZmljYXRpb25Db250ZW50Lmxlbmd0aCA9PT0gbm90aWZpY2F0aW9uTGVuZ3RoKSA/ICB7XHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU3RhdHVzOiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiB0cnhTdGF0dXNDb2RlLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzTXNnOiAoIHRoaXMuVHJ4U3RhdHVzRW51bVsgdHJ4U3RhdHVzQ29kZSBdIHx8IFwiU3RhdHVzIGNvZGUgbWVzc2FnZSBub3QgZG9jdW1lbnRlZFwiICksXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NvZGU6IHRyeFByb2dyZXNzQ29kZSxcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzTXNnOiAoIHRoaXMuVHJ4UHJvZ3Jlc3NJbmRpY2F0b3JbIHRyeFByb2dyZXNzQ29kZSBdIHx8IFwiUHJvZ3Jlc3MgY29kZSBtZXNzYWdlIG5vdCBkb2N1bWVudGVkXCIgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDogdGhpcy50aHJvd0xlbkVycigpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUcnhTdGF0dXNQYXJzZXI7IiwiaW1wb3J0IFRyeFN0YXR1c1BhcnNlciBmcm9tICcuL3RyeFN0YXR1c1BhcnNlcic7XHJcblxyXG5jb25zdCBkdWtwdEZhaWx1cmVCYXNlID0gXCJGYWlsdXJlLCBEVUtQVCBzY2hlbWUgaXMgXCI7XHJcbmNvbnN0IGludmFsaWRCYXNlID0gXCJJbnZhbGlkIFwiO1xyXG5cclxuXHJcbmNsYXNzIFNjcmFFbXZQYXJzZXIgZXh0ZW5kcyBUcnhTdGF0dXNQYXJzZXIge1xyXG4gICAgY29uc3RydWN0b3IoZGV2aWNlLCBjYWxsQmFja3MpIHtcclxuICAgICAgICBzdXBlcihkZXZpY2UsIGNhbGxCYWNrcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZW12UmVzdWx0Q29kZXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgMHg4MTogZHVrcHRGYWlsdXJlQmFzZSArIFwibm90IGxvYWRlZFwiLFxyXG4gICAgICAgICAgICAweDgyOiBkdWtwdEZhaWx1cmVCYXNlICsgXCJsb2FkZWQgYnV0IGFsbCBvZiBpdHMga2V5cyBoYXZlIGJlZW4gdXNlZFwiLFxyXG4gICAgICAgICAgICAweDgzOiBkdWtwdEZhaWx1cmVCYXNlICsgXCJub3QgbG9hZGVkIChTZWN1cml0eSBMZXZlbCBub3QgMyBvciA0KVwiLFxyXG4gICAgICAgICAgICAweDg0OiBpbnZhbGlkQmFzZSArIFwiVG90YWwgVHJhbnNhY3Rpb24gVGltZSBGaWVsZFwiLFxyXG4gICAgICAgICAgICAweDg1OiBpbnZhbGlkQmFzZSArIFwiQ2FyZCBUeXBlIEZpZWxkXCIsXHJcbiAgICAgICAgICAgIDB4ODY6IGludmFsaWRCYXNlICsgXCJPcHRpb25zIEZpZWxkXCIsXHJcbiAgICAgICAgICAgIDB4ODc6IGludmFsaWRCYXNlICsgXCJBbW91bnQgQXV0aG9yaXplZCBGaWVsZFwiLFxyXG4gICAgICAgICAgICAweDg4OiBpbnZhbGlkQmFzZSArIFwiVHJhbnNhY3Rpb24gVHlwZSBGaWVsZFwiLFxyXG4gICAgICAgICAgICAweDg5OiBpbnZhbGlkQmFzZSArICBcIkNhc2ggQmFjayBGaWVsZFwiLFxyXG4gICAgICAgICAgICAweDhBOiBpbnZhbGlkQmFzZSArIFwiVHJhbnNhY3Rpb24gQ3VycmVuY3kgQ29kZSBGaWVsZFwiLFxyXG4gICAgICAgICAgICAweDhFOiBpbnZhbGlkQmFzZSArIFwiUmVwb3J0aW5nIE9wdGlvblwiLFxyXG4gICAgICAgICAgICAweDhGOiBcIlRyYW5zYWN0aW9uIEFscmVhZHkgSW4gUHJvZ3Jlc3NcIixcclxuICAgICAgICAgICAgMHg5MTogaW52YWxpZEJhc2UgKyBcIkRldmljZSBTZXJpYWwgTnVtYmVyXCIsXHJcbiAgICAgICAgICAgIDB4OTY6IGludmFsaWRCYXNlICsgXCJTeXN0ZW0gRGF0ZSBhbmQgVGltZVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VFbXZEYXRhID0gKGVtdkRhdGEsIGlzQXJxYykgPT4gKGlzQXJxYykgPyAoe1xyXG4gICAgICAgIGFycWNEYXRhOiB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCBlbXZEYXRhLnNsaWNlKDExKSApLFxyXG4gICAgICAgIGFycWNEYXRhUGFyc2VkOlxyXG4gICAgICAgICAgICB0aGlzLnRsdlBhcnNlcihcclxuICAgICAgICAgICAgICAgIGVtdkRhdGEuc2xpY2UoMTMpLFxyXG4gICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSlcclxuICAgICAgICA6ICh7XHJcbiAgICAgICAgICAgIHNpZ25hdHVyZVJlcXVpcmVkOiAoZW12RGF0YVsxMV0gPT09IDB4ODApID8gXCJDQkMtTUFDIGNoZWNrZWQgaW4gQVJRQyBvbmxpbmUgcmVzcG9uc2VcIiA6IChlbXZEYXRhWzExXSA9PT0gMHgwMSksXHJcbiAgICAgICAgICAgIGJhdGNoRGF0YTogdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyggZW12RGF0YS5zbGljZSgxMSkgKSxcclxuICAgICAgICAgICAgYmF0Y2hEYXRhUGFyc2VkOiB0aGlzLnRsdlBhcnNlciggZW12RGF0YS5zbGljZSgxNCksIHRydWUgKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgLy9SZWFkIFJlc3VsdCBDb2RlIGZyb20gc3RhcnRUcmFuc2FjdGlvbiBjb21tYW5kIGFuZCByZXR1cm4gdG8gdXNlci4gSWYgbm90IDAgLSByZXR1cm4gZXJyb3IgbWVzc2FnZS5cclxuICAgIHBhcnNlRW12Q29tbWFuZFJlc3BvbnNlID0gcmVzcCA9PiAge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdENvZGUgPSByZXNwLnNsaWNlKDQsIDYpO1xyXG5cclxuICAgICAgICAvL3Jlc3VsdCBjb2RlIG9mIFsweDAwLCAweDAwXSBpcyBzdWNjZXNzLlxyXG4gICAgICAgIHJldHVybiAocGFyc2VJbnQoIHJlc3VsdENvZGUuam9pbihcIlwiKSApKSA/XHJcbiAgICAgICAgICAgICh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBwYXJzZUludCh0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCByZXN1bHRDb2RlICksIDE2KSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiU3RhcnRUcmFuc2FjdGlvbkVycm9yXCIsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmVtdlJlc3VsdENvZGVzWyByZXN1bHRDb2RlWzFdIF0gfHwgXCJUcmFuc2FjdGlvbiBFcnJvciBNZXNzYWdlIG5vdCB5ZXQgZG9jdW1lbnRlZFwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3MsIHRyYW5zYWN0aW9uIGhhcyBzdGFydGVkXCJcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZVVzZXJTZWxlY3Rpb25SZXF1ZXN0ID0gc2VsZWN0aW9uUmVxdWVzdCA9PiAoe1xyXG4gICAgICAgIHVzZXJTZWxlY3Rpb25SZXF1ZXN0OiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGlvblR5cGU6IChzZWxlY3Rpb25SZXF1ZXN0WzBdID09PSAweDAwKSA/IFwiQXBwbGljYXRpb24gU2VsZWN0aW9uXCIgOiBcIkxhbmd1YWdlIFNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICB0aW1lUmVtYWluaW5nOiAgc2VsZWN0aW9uUmVxdWVzdFsxXSxcclxuICAgICAgICAgICAgbWVudUl0ZW1zOiB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHNlbGVjdGlvblJlcXVlc3Quc2xpY2UoMikpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NyYUVtdlBhcnNlcjsiLCJpbXBvcnQgU2NyYUVtdlBhcnNlciBmcm9tICcuLi9wYXJzZXJzL3NjcmFFbXZQYXJzZXInO1xyXG5cclxuXHJcbmNsYXNzIFNjcmFDbWRCdWlsZGVyIGV4dGVuZHMgU2NyYUVtdlBhcnNlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbXZPcHRpb25zID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgICdub3JtYWwnOiAweDAwLFxyXG4gICAgICAgICAgICAnYnlwYXNzcGluJzogMHgwMSxcclxuICAgICAgICAgICAgJ2ZvcmNlb25saW5lJzogMHgwMixcclxuICAgICAgICAgICAgJ3F1aWNrY2hpcCc6IDB4ODAsXHJcbiAgICAgICAgICAgICdwaW5ieXBhc3NxdWlja2NoaXAnOiAweDgxLFxyXG4gICAgICAgICAgICAnZm9yY2VvbmxpbmVxdWlja2NoaXAnOiAweDgyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdHVzVmVyYm9zaXR5ID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIFwibWluaW11bVwiOiAweDAwLFxyXG4gICAgICAgICAgICAnbWVkaXVtJzogMHgwMSxcclxuICAgICAgICAgICAgJ3ZlcmJvc2UnOiAweDAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZW12Q29tbWFuZEJhc2UgPSBbMHg0OSwgMHgxOSwgMHgwMCwgMHgwMCwgMHgwMywgMHgwMCwgMHgwMCwgMHgxM107XHJcbiAgICB9XHJcblxyXG4gICAgYW1vdW50SGVscGVyID0gKGF1dGhBbW91bnQsIHRyeFR5cGUsIGRlZmF1bHRWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCh0eXBlb2YoYXV0aEFtb3VudCkpIHtcclxuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnROdW1Ub0Ftb3VudChhdXRoQW1vdW50KTtcclxuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBhdXRoQW1vdW50O1xyXG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGV4VG9CeXRlcyhhdXRoQW1vdW50KTtcclxuICAgICAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyeFR5cGVMb3dlciA9ICh0eXBlb2YodHJ4VHlwZSkgPT09ICdzdHJpbmcnKSA/IHRyeFR5cGUudG9Mb3dlckNhc2UoKSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRyeFR5cGVMb3dlciA9PT0gJ3JlZnVuZCcgfHwgdHJ4VHlwZUxvd2VyID09PSAnY2FzaGJhY2snIHx8IHRyeFR5cGVMb3dlciA9PT0gJ2NvbnRhY3RsZXNzY2FzaGJhY2snKSA/IFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDYpIDogZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYnVpbGRFbXZDb21tYW5kID0gKHsgXHJcbiAgICAgICAgdGltZW91dCwgXHJcbiAgICAgICAgY2FyZFR5cGUsIFxyXG4gICAgICAgIHRyYW5zYWN0aW9uVHlwZSwgXHJcbiAgICAgICAgY2FzaEJhY2ssIFxyXG4gICAgICAgIGN1cnJlbmN5Q29kZSwgXHJcbiAgICAgICAgcmVwb3J0VmVyYm9zaXR5LFxyXG4gICAgICAgIGVtdk9wdGlvbnMsXHJcbiAgICAgICAgYXV0aG9yaXplZEFtb3VudFxyXG4gICAgfSkgPT4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjb21tYW5kID0gWyBcclxuICAgICAgICAgICAgLi4udGhpcy5lbXZDb21tYW5kQmFzZSwgXHJcbiAgICAgICAgICAgIHRpbWVvdXQgfHwgMHgzQywgXHJcbiAgICAgICAgICAgIChjYXJkVHlwZSkgPyB0aGlzLmNhcmRUeXBlcyggY2FyZFR5cGUudG9Mb3dlckNhc2UoKSApIDogMHgwMyxcclxuICAgICAgICAgICAgKHR5cGVvZihlbXZPcHRpb25zKSAhPT0gJ3VuZGVmaW5lZCcpID8gKHRoaXMuZW12T3B0aW9uc1sgZW12T3B0aW9ucy50b0xvd2VyQ2FzZSgpIF0pIDogMHg4MFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbW1hbmQgPSBjb21tYW5kLmNvbmNhdCggdGhpcy5hbW91bnRIZWxwZXIoYXV0aG9yaXplZEFtb3VudCwgdHJhbnNhY3Rpb25UeXBlLCBbMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgMHgwMF0pICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQgPSAodHJhbnNhY3Rpb25UeXBlKSA/IFxyXG4gICAgICAgICAgICBjb21tYW5kLmNvbmNhdCh0aGlzLnRyYW5zYWN0aW9uVHlwZXNbIHRyYW5zYWN0aW9uVHlwZS50b0xvd2VyQ2FzZSgpIF0gfHwgMHgwMCkgXHJcbiAgICAgICAgICAgIDogY29tbWFuZC5jb25jYXQoMHgwMClcclxuXHJcbiAgICAgICAgY29tbWFuZCA9IGNvbW1hbmQuY29uY2F0KCB0aGlzLmFtb3VudEhlbHBlcihjYXNoQmFjaywgdHJhbnNhY3Rpb25UeXBlLCB0aGlzLm5ld0FycmF5UGFydGlhbCgweDAwLCA2KSkgKTtcclxuXHJcbiAgICAgICAgY29tbWFuZCA9IChjdXJyZW5jeUNvZGUpID8gY29tbWFuZC5jb25jYXQoIHRoaXMuY3VycmVuY3lDb2RlWyBjdXJyZW5jeUNvZGUudG9Mb3dlckNhc2UoKSBdIHx8ICB0aGlzLmN1cnJlbmN5Q29kZVsnZGVmYXVsdCddIClcclxuICAgICAgICAgICAgOiBjb21tYW5kLmNvbmNhdCggWzB4MDgsIDB4NDBdICk7XHJcblxyXG4gICAgICAgIGNvbW1hbmQucHVzaChcclxuICAgICAgICAgICAgKHJlcG9ydFZlcmJvc2l0eSkgPyAoIHRoaXMuc3RhdHVzVmVyYm9zaXR5WyByZXBvcnRWZXJib3NpdHkudG9Mb3dlckNhc2UoKSBdIHx8IDB4MDAgKSA6IDB4MDFcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjb21tYW5kO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkQXJwY0NvbW1hbmQgPSAobGVuLCBkYXRhKSA9PiAoWzB4NDksIChsZW4gKyA2KSwgMHgwMCwgMHgwMCwgMHgwMywgMHgwMywgKChsZW4gPj4gOCkgJiAweEZGKSwgKGxlbiAmIDB4RkYpLCAuLi5kYXRhIF0pO1xyXG5cclxuICAgIGJ1aWxkRGF0ZVRpbWVDb21tYW5kID0gc3BlY2lmaWNUaW1lID0+IHtcclxuICAgICAgICBsZXQgZGF0ZVRpbWVDb21tYW5kID0gWzB4NDksIDB4MjIsIDB4MDAsIDB4MDAsIDB4MDMsIDB4MEMsIDB4MDAsIDB4MUNdO1xyXG4gICAgICAgIGRhdGVUaW1lQ29tbWFuZCA9IGRhdGVUaW1lQ29tbWFuZC5jb25jYXQoIHRoaXMubmV3QXJyYXlQYXJ0aWFsKDB4MDAsIDE3KSApO1xyXG4gICAgICAgIC8vRm9ybWF0IERhdGUgc2VnbWVudCBiZWxvd1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSAoc3BlY2lmaWNUaW1lIGluc3RhbmNlb2YgRGF0ZSkgPyBzcGVjaWZpY1RpbWUgOiBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICAvL01vbnRoICh6ZXJvIGJhc2VkIGluZGV4LCBzbyBhZGQgMSkuXHJcbiAgICAgICAgZGF0ZVRpbWVDb21tYW5kLnB1c2goIFxyXG4gICAgICAgICAgICB0aGlzLmNhc3REZWNUb0hleCggY3VycmVudC5nZXRNb250aCgpICsgMSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBkYXRlVGltZUNvbW1hbmQucHVzaChcclxuICAgICAgICAgICAgdGhpcy5jYXN0RGVjVG9IZXgoIGN1cnJlbnQuZ2V0RGF0ZSgpIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBkYXRlVGltZUNvbW1hbmQucHVzaChcclxuICAgICAgICAgICAgdGhpcy5jYXN0RGVjVG9IZXgoIGN1cnJlbnQuZ2V0SG91cnMoKSApXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZGF0ZVRpbWVDb21tYW5kLnB1c2goXHJcbiAgICAgICAgICAgIHRoaXMuY2FzdERlY1RvSGV4KCBjdXJyZW50LmdldE1pbnV0ZXMoKSApXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZGF0ZVRpbWVDb21tYW5kLnB1c2goXHJcbiAgICAgICAgICAgIHRoaXMuY2FzdERlY1RvSGV4KCBjdXJyZW50LmdldFNlY29uZHMoKSApXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy9DdXJyZW50bHkgdW51c2VkIG9mZnNldC4gIDB4MDAgLSAweDA2IGlzIHZhbGlkIC0gYnV0IGlzIG5vdCBleGFtaW5lZC5cclxuICAgICAgICBkYXRlVGltZUNvbW1hbmQucHVzaCgweDAwKTtcclxuXHJcbiAgICAgICAgLy9ZZWFyIGlzIGJhc2VkIHVwb24gMjAwOCA9PT0gMHgwMC5cclxuICAgICAgICBkYXRlVGltZUNvbW1hbmQucHVzaChcclxuICAgICAgICAgICAgdGhpcy5jYXN0RGVjVG9IZXgoIGN1cnJlbnQuZ2V0RnVsbFllYXIoKSAtIDIwMDggKVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgLy9NQUMgLSBmb3IgYWxsIGRldmljZXMgZXhjZXB0IHR3byBleGNlcHRpb25zIChzZWUgZG9jdW1lbnRhdGlvbikgdGhpcyBjYW4gYmUgcGFkZGVkIHdpdGggemVyb3MuXHJcbiAgICAgICAgZGF0ZVRpbWVDb21tYW5kID0gZGF0ZVRpbWVDb21tYW5kLmNvbmNhdCggdGhpcy5uZXdBcnJheVBhcnRpYWwoMHgwMCwgNCkgKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gZGF0ZVRpbWVDb21tYW5kO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY3JhQ21kQnVpbGRlcjtcclxuIiwiaW1wb3J0IFNjcmFDbWRCdWlsZGVyIGZyb20gJy4uL2NvbW1hbmRCdWlsZGVycy9zY3JhQ21kQnVpbGRlcic7XHJcbmltcG9ydCB7IFxyXG4gICAgY29tbWFuZE5vdFNlbnQsXHJcbiAgICByZXNwb25zZU5vdFJlY2VpdmVkLFxyXG4gICAgZGV2aWNlTm90Rm91bmQsXHJcbiAgICBkZXZpY2VOb3RPcGVuXHJcbn0gZnJvbSAnLi4vZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cyc7XHJcbmltcG9ydCB7IFxyXG4gICAgY2xvc2VTdWNjZXNzLCBcclxuICAgIHN1Y2Nlc3NDb2RlLCBcclxuICAgIG9wZW5TdWNjZXNzLFxyXG4gICAgdW5rbm93blVuZG9jXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNsYXNzIFNjcmEgZXh0ZW5kcyBTY3JhQ21kQnVpbGRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2sgPSBjYWxsQmFja3MudHJhbnNhY3Rpb25DYWxsYmFjayB8fCBjYWxsQmFja3M7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5Q2FsbGJhY2sgPSBjYWxsQmFja3MuZGlzcGxheUNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayA9IGNhbGxCYWNrcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMudXNlclNlbGVjdGlvbkNhbGxiYWNrID0gY2FsbEJhY2tzLnVzZXJTZWxlY3Rpb25DYWxsYmFjaztcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm1heEJsb2NrSWQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yYXdEYXRhID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YVJlYWRTdGF0dXNDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhUmVhZHlDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YU5vdGlmaWNhdGlvbiA9XCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMDFcIjtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDaGFySWQgPSAnMDUwOGU2ZjgtYWQ4Mi04OThmLWY4NDMtZTM0MTBjYjYwMjAwJztcclxuICAgICAgICB0aGlzLmRhdGFSZWFkeUlkID0gXCIwNTA4ZTZmOC1hZDgyLTg5OGYtZjg0My1lMzQxMGNiNjAyMDJcIjtcclxuICAgICAgICB0aGlzLmRhdGFSZWFkU3RhdHVzSWQgPSBcIjA1MDhlNmY4LWFkODItODk4Zi1mODQzLWUzNDEwY2I2MDIwM1wiO1xyXG5cclxuICAgICAgICB0aGlzLnJlc3VsdENvZGVzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgICcwMDAwJzogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgICAgICcwMzhCJzogXCJJbnZhbGlkIFNlbGVjdGlvbiBTdGF0dXNcIixcclxuICAgICAgICAgICAgJzAzOEMnOiAnSW52YWxpZCBTZWxlY3Rpb24gUmVzdWx0JyxcclxuICAgICAgICAgICAgJzAzOEQnOiBcIkZhaWx1cmUsIG5vIHRyYW5zYWN0aW9uIGN1cnJlbnRseSBpbiBwcm9ncmVzc1wiLFxyXG4gICAgICAgICAgICAnMDM4Ric6IFwiRmFpbHVyZSwgdHJhbnNhY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzc1wiLFxyXG4gICAgICAgICAgICAnMDM5MCc6ICdEZXZpY2UgaGFzIG5vIGtleXMnLFxyXG4gICAgICAgICAgICAnMDM5MSc6ICdJbnZhbGlkIGRldmljZSBzZXJpYWwgbnVtYmVyJyxcclxuICAgICAgICAgICAgJzAzOTInOiAnSW52YWxpZCB0eXBlIG9mIE1BQyBmaWVsZCcsXHJcbiAgICAgICAgICAgICcwMzk2JzogJ0ludmFsaWQgZGF0ZS90aW1lIGRhdGEnLFxyXG4gICAgICAgICAgICAnMDM5Nyc6ICdJbnZhbGlkIE1BQydcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5jZWxFbXZDb21tYW5kID0gVWludDhBcnJheS5vZihcclxuICAgICAgICAgICAgMHg0OSwgMHgwNiwgMHgwMCwgMHgwMCwgMHgwMywgMHgwNCwgMHgwMCwgMHgwMFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2FyZFNlcnZpY2VCYXNlID0gb3B0aW9uYWxJbmRleCA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLmRldmljZSkgP1xyXG4gICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RGb3VuZCkpXHJcbiAgICAgICAgOlxyXG4gICAgICAgIHRoaXMuY29ubmVjdEFuZENhY2hlKG9wdGlvbmFsSW5kZXgpXHJcbiAgICAgICAgICAgIC50aGVuKCBzZXJ2aWNlID0+XHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKHRoaXMuY2FyZERhdGFOb3RpZmljYXRpb24pXHJcbiAgICAgICAgICAgICkudGhlbihjaGFyYWN0ZXJpc3RpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbR0FUVCBOT1RJRklDQVRJT05TXTogUmVxdWVzdCB0byBjYWNoZSBjaGFyYWN0ZXJpc3RpY3MsIHN0YXJ0IG5vdGlmaWNhdGlvbnMsIGFuZCBhdHRhY2ggbGlzdGVuZXJzLiB8fCAke25ldyBEYXRlKCl9YCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFyYWN0ZXJpc3RpYy5zdGFydE5vdGlmaWNhdGlvbnMoKVxyXG4gICAgICAgICAgICB9KS50aGVuKGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5jYXJkRGF0YUhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWMuYWRkRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmNhcmREYXRhSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lciA9IGNoYXJhY3RlcmlzdGljO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FyZFNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWModGhpcy5jb21tYW5kQ2hhcklkKVxyXG4gICAgICAgICAgICB9KS50aGVuKGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljID0gY2hhcmFjdGVyaXN0aWM7XHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgIElmIHRoaXMgbGlicmFyeSBpcyBiZWluZyB1c2VkIGluIGEgd2ViIGFwcGxpY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgTWFrZSBzdXJlIHRoZSBkZXZpY2UgZGlzY29ubmVjdHMgcHJvcGVybHkgdXBvbiB3aW5kb3cgdW5sb2FkLlxyXG4gICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5vbkRlc3Ryb3lIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5vbkRlc3Ryb3lIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJkU2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyh0aGlzLmRhdGFSZWFkeUlkKVxyXG4gICAgICAgICAgICB9KS50aGVuKCBjaGFyYWN0ZXJpc3RpYyA9PiBjaGFyYWN0ZXJpc3RpYy5zdGFydE5vdGlmaWNhdGlvbnMoKVxyXG4gICAgICAgICAgICApLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5kYXRhUmVhZHlIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgdGhpcy5kYXRhUmVhZHlIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFSZWFkeUNoYXJhY3RlcmlzdGljID0gY2hhcmFjdGVyaXN0aWM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJkU2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyh0aGlzLmRhdGFSZWFkU3RhdHVzSWQpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oIGNoYXJhY3RlcmlzdGljID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVJlYWRTdGF0dXNDaGFyYWN0ZXJpc3RpYyA9IGNoYXJhY3RlcmlzdGljO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0dBVFQgTk9USUZJQ0FUSU9OU106IFN1Y2Nlc3MhIENhY2hlZCBjaGFyYWN0ZXJpc3RpY3MsIHN0YXJ0ZWQgbm90aWZpY2F0aW9ucywgYW5kIGF0dGFjaGVkIGxpc3RlbmVycy4gfHwgJHtuZXcgRGF0ZSgpfWApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogb3BlblN1Y2Nlc3NcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCBlcnIgKSlcclxuICAgICk7XHJcblxyXG4gICAgZGF0YVJlYWR5SGFuZGxlciA9IGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgZXZlbnRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICBsZXQgZm9ybWF0dGVkRXZlbnRWYWx1ZSA9IHRoaXMucmVhZEJ5dGVBcnJheShldmVudFZhbHVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgW0RhdGEgUmVhZHkgTGlzdGVuZXJdOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoZm9ybWF0dGVkRXZlbnRWYWx1ZSl9YCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbW1hbmRTZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRTZW50ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNhcmREYXRhSGFuZGxlciA9IGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgZXZlbnRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICAgICAgLy9JZiB0aGUgZmlyc3QgcG9zaXRpb24gaW4gdGhlIGFycmF5ID09PSAyNTUsIGNhcmQgZGF0YSBub3RpZmljYXRpb25zIGhhdmUgZmluaXNoZWQuXHJcbiAgICAgICAgaWYgKGV2ZW50VmFsdWUuZ2V0VWludDgoMCkgIT09IDI1NSkge1xyXG4gICAgICAgICAgICBsZXQgbm90aWZpY2F0aW9uQXJyYXkgPSB0aGlzLnJlYWRCeXRlQXJyYXkoZXZlbnRWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJhd0RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnJhd0RhdGEsXHJcbiAgICAgICAgICAgICAgICBbbm90aWZpY2F0aW9uQXJyYXlbMF1dOiBub3RpZmljYXRpb25BcnJheS5zbGljZSgxKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvL0tlZXAgdHJhY2sgb2YgdGhlIGFtb3VudCBvZiBub3RpZmljYXRpb25zIHNlbnQgZnJvbSBkZXZpY2UuXHJcbiAgICAgICAgICAgIHRoaXMubWF4QmxvY2tJZCA9IGV2ZW50VmFsdWUuZ2V0VWludDgoMSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja05vdGlmaWNhdGlvbkxlbmd0aCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxOb3RpZmljYXRpb24gPSAodGhpcy5ybGVGb3JtYXRzWyB0aGlzLnJhd0RhdGFbMF1bMF0gXSkgPyB0aGlzLmRlY29kZVJMRSh0aGlzLnJhd0RhdGFbMF0pIDogdGhpcy5yYXdEYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL0NoZWNrIGlmIHN3aXBlIGRhdGFcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxOb3RpZmljYXRpb25bMF0gPT09IDAgfHwgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uWzBdID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuVG9Vc2VyKHRoaXMudHJhbnNhY3Rpb25DYWxsYmFjaykoIHRoaXMucGFyc2VIaWREYXRhKCB0aGlzLmJ1aWxkSW5pdGlhbERhdGFBcnJheSh0cnVlKSApICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb25JZCA9IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxOb3RpZmljYXRpb25bN10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbE5vdGlmaWNhdGlvbls4XVxyXG4gICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmROb3RpZmljYXRpb25UeXBlKG5vdGlmaWNhdGlvbklkKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBlbHNlIHRoaXMuc2VuZEVyclRvQ2FsbGJhY2soIHRoaXMudGhyb3dMZW5FcnIoKSApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaW5kTm90aWZpY2F0aW9uVHlwZSA9IG5vdGlmaWNhdGlvbklkID0+IHtcclxuICAgICAgICBsZXQgYnVpbHROb3RpZmljYXRpb24gPSB0aGlzLmJ1aWxkSW5pdGlhbERhdGFBcnJheSh0cnVlKTtcclxuXHJcbiAgICAgICAgc3dpdGNoKG5vdGlmaWNhdGlvbklkKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCIwMzAwXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKCc9PVRyYW5zYWN0aW9uIFN0YXR1cz09Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5Ub1VzZXIodGhpcy50cmFuc2FjdGlvblN0YXR1c0NhbGxiYWNrKSh0aGlzLnBhcnNlVHJhbnNhY3Rpb25TdGF0dXMoIGJ1aWx0Tm90aWZpY2F0aW9uICkpO1xyXG4gICAgICAgICAgICBjYXNlIFwiMDMwMVwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShcIj09RGlzcGxheSBNZXNzYWdlIFJlcXVlc3Q9PVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVyblRvVXNlcih0aGlzLmRpc3BsYXlDYWxsYmFjaykoe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiB0aGlzLmJ1ZmZlclRvVXRmOCggYnVpbHROb3RpZmljYXRpb24uc2xpY2UoMTEpIClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYXNlIFwiMDMwMlwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShcIj09VXNlciBTZWxlY3Rpb24gUmVxdWVzdD09XCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZSh0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKGJ1aWx0Tm90aWZpY2F0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICAvL1RPRE86IEZ1cnRoZXIgaW52ZXN0aWdhdGlvbiB3YXJyYW50ZWQgZm9yIHRoaXMgY2lyY3Vtc3RhbmNlLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuVG9Vc2VyKHRoaXMudXNlclNlbGVjdGlvbkNhbGxiYWNrKSggdGhpcy5wYXJzZVVzZXJTZWxlY3Rpb25SZXF1ZXN0KGJ1aWxkTm90aWZpY2F0aW9uKSApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCIwMzAzXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKFwiPT1BUlFDIE1lc3NhZ2U9PVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVyblRvVXNlcih0aGlzLnRyYW5zYWN0aW9uQ2FsbGJhY2spKHRoaXMucGFyc2VFbXZEYXRhKCBidWlsdE5vdGlmaWNhdGlvbiwgdHJ1ZSApKSA7XHJcbiAgICAgICAgICAgIGNhc2UgXCIwMzA0XCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKCc9PUJhdGNoIERhdGEgTWVzc2FnZT09Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5Ub1VzZXIodGhpcy50cmFuc2FjdGlvbkNhbGxiYWNrKSh0aGlzLnBhcnNlRW12RGF0YSggYnVpbHROb3RpZmljYXRpb24sIGZhbHNlICkpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dEZXZpY2VTdGF0ZShgVW5kb2N1bWVudGVkIE5vdGlmaWNhdGlvbiBJRDogJHtub3RpZmljYXRpb25JZH1gLCBidWlsdE5vdGlmaWNhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKCB0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKCBidWlsdE5vdGlmaWNhdGlvbiApICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0VHJhbnNhY3Rpb24gPSBlbXZPcHRpb25zID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSApXHJcbiAgICAgICAgOiB0aGlzLnNlbmRDb21tYW5kV2l0aFJlc3AoXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRFbXZDb21tYW5kKCBlbXZPcHRpb25zIHx8IHt9IClcclxuICAgICAgICApLnRoZW4oIHZhbHVlID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29tbWFuZFJlc3AgPSB0aGlzLnBhcnNlRW12Q29tbWFuZFJlc3BvbnNlKHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAoY29tbWFuZFJlc3AuY29kZSA9PT0gMCkgPyByZXNvbHZlKGNvbW1hbmRSZXNwKSA6XHJcbiAgICAgICAgICAgICAgICAoY29tbWFuZFJlc3AuY29kZSAhPT0gOTE4KSA/IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGNvbW1hbmRSZXNwKSkgOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGV2aWNlRGF0ZVRpbWUoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLmRlbGF5UHJvbWlzZSg1MDApIClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4gcmVzb2x2ZSggdGhpcy5zdGFydFRyYW5zYWN0aW9uKGVtdk9wdGlvbnMpICkgKVxyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkgKVxyXG4gICAgKTsgXHJcblxyXG4gICAgcmVhZENvbW1hbmRWYWx1ZSA9ICgpID0+IG5ldyBQcm9taXNlIChyZXNvbHZlID0+IHRoaXMuY29tbWFuZENoYXJhY3RlcmlzdGljLnJlYWRWYWx1ZSgpXHJcbiAgICAgICAgLnRoZW4oIHZhbHVlID0+IHJlc29sdmUoIHRoaXMucmVhZEJ5dGVBcnJheSh2YWx1ZSkgKSkpO1xyXG5cclxuICAgIGNoZWNrTm90aWZpY2F0aW9uTGVuZ3RoID0gKCkgPT4gTWF0aC5tYXgoLi4uT2JqZWN0LmtleXModGhpcy5yYXdEYXRhKSkgPT09IHRoaXMubWF4QmxvY2tJZCAtIDE7XHJcbiAgIFxyXG4gICAgc2VuZENvbW1hbmRXaXRoUmVzcCA9IHdyaXRlQ29tbWFuZCA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5jb21tYW5kQ2hhcmFjdGVyaXN0aWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihjb21tYW5kTm90U2VudCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBTZW5kaW5nIGNvbW1hbmQ6ICR7dGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyh3cml0ZUNvbW1hbmQpfWApO1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRTZW50ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYy53cml0ZVZhbHVlKFVpbnQ4QXJyYXkuZnJvbSh3cml0ZUNvbW1hbmQpKVxyXG4gICAgICAgICAgICAudGhlbiggKCkgPT4gKHRoaXMuY29tbWFuZFJlc3BBdmFpbGFibGUpID8gUHJvbWlzZS5yZXNvbHZlKCB0cnVlICkgOiB0aGlzLndhaXRGb3JEZXZpY2VSZXNwb25zZSgxNSkpXHJcbiAgICAgICAgICAgIC50aGVuKCB3YWl0UmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRSZXNwQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiAoIXdhaXRSZXNwKSA/IFxyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihyZXNwb25zZU5vdFJlY2VpdmVkKSkgOiB0aGlzLnJlYWRDb21tYW5kVmFsdWUoKVxyXG4gICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc29sdmUocmVzcG9uc2UpXHJcbiAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihlcnIpICkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVyblRvVXNlciA9IHNwZWNpZmllZENhbGxiYWNrID0+IHJldHVybk9iaiA9PiB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLm1heEJsb2NrSWQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmF3RGF0YSA9IHt9O1xyXG4gICAgICAgIHJldHVybiBzcGVjaWZpZWRDYWxsYmFjayhyZXR1cm5PYmopO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERldmljZURhdGVUaW1lID0gc3BlY2lmaWNUaW1lID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+ICghdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID9cclxuICAgICAgICByZWplY3QoZGV2aWNlTm90T3BlbilcclxuICAgICAgICA6IHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChcclxuICAgICAgICAgICAgdGhpcy5idWlsZERhdGVUaW1lQ29tbWFuZChzcGVjaWZpY1RpbWUpXHJcbiAgICAgICAgKS50aGVuKHJlc3AgPT4gcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICBkYXRlVGltZVJlc3VsdDogdGhpcy5yZXN1bHRDb2Rlc1sgdGhpcy5jb252ZXJ0QXJyYXlUb0hleFN0cmluZyhyZXNwLnNsaWNlKDQsIDYpKSBdIHx8IGAke3Vua25vd25VbmRvY30gcmVzdWx0IGNvZGVgXHJcbiAgICAgICAgfSkpLmNhdGNoKGVyciA9PiByZWplY3QodGhpcy5idWlsZERldmljZUVycihlcnIpKSlcclxuICAgICk7XHJcblxyXG4gICAgcmVhZEJhdHRlcnlMZXZlbCA9ICgpID0+IG5ldyBQcm9taXNlKCByZXNvbHZlID0+IFxyXG4gICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChbMHg0NSwgMHgwMF0pLnRoZW4odmFsdWUgPT4gcmVzb2x2ZSggdmFsdWVbMl0gKSlcclxuICAgICk7XHJcblxyXG4gICAgZ2V0RGV2aWNlU24gPSAoKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IFxyXG4gICAgICAgIHRoaXMuc2VuZENvbW1hbmRXaXRoUmVzcChbMHgwMCwgMHgwMSwgMHgwM10pXHJcbiAgICAgICAgLnRoZW4oIHJlc3AgPT4gdGhpcy5idWZmZXJUb1V0ZjgocmVzcC5zbGljZSgyKSkgXHJcbiAgICAgICAgKS50aGVuKGZvcm1hdHRlZFZhbHVlID0+IHJlc29sdmUoZm9ybWF0dGVkVmFsdWUpKVxyXG4gICAgKTtcclxuXHJcbiAgICBnYXRoZXJEZXZpY2VJbmZvID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBsZXQgYmF0dGVyeTtcclxuICAgICAgICBsZXQgc2VyaWFsTnVtO1xyXG5cclxuICAgICAgICB0aGlzLnJlYWRCYXR0ZXJ5TGV2ZWwoKVxyXG4gICAgICAgIC50aGVuKCByZXNwQmF0dGVyeSA9PiB7XHJcbiAgICAgICAgICAgIGJhdHRlcnkgPSByZXNwQmF0dGVyeTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGV2aWNlU24oKVxyXG4gICAgICAgIH0pLnRoZW4oIHJlc3BTbiA9PiB7XHJcbiAgICAgICAgICAgIHNlcmlhbE51bSA9IHJlc3BTbi5zdWJzdHJpbmcoMCwgNyk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKFsgYmF0dGVyeSwgc2VyaWFsTnVtIF0pXHJcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpIClcclxuICAgIH0pO1xyXG5cclxuICAgIGdldERldmljZUluZm8gPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLmRldmljZS5nYXR0LmNvbm5lY3RlZCkgP1xyXG4gICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSApIFxyXG4gICAgICAgIDogdGhpcy5nYXRoZXJEZXZpY2VJbmZvKClcclxuICAgICAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBkZXZpY2VJbmZvID0+IHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGRldmljZU5hbWU6IHRoaXMuZGV2aWNlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGV2aWNlVHlwZTogdGhpcy5kZXZpY2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhdHRlcnlMZXZlbDogZGV2aWNlSW5mb1swXSxcclxuICAgICAgICAgICAgICAgICAgICBzZXJpYWxOdW1iZXI6IGRldmljZUluZm9bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApKVxyXG4gICAgKTtcclxuXHJcbiAgICBzZW5kVXNlclNlbGVjdGlvbiA9IHNlbGVjdGlvblJlc3VsdCA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgIHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihkZXZpY2VOb3RPcGVuKSApIFxyXG4gICAgICAgIDogdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKFsweDQ5LCAweDA4LCAweDAwLCAweDAwLCAweDAzLCAweDAyLCAweDAwLCAweDAyLCAweDAwLCBzZWxlY3Rpb25SZXN1bHRdKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nRGV2aWNlU3RhdGUoYFtVc2VyIFNlbGVjdGlvbiBSZXNwXTogJHt0aGlzLmNvbnZlcnRBcnJheVRvSGV4U3RyaW5nKHJlc3ApfWApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlclNlbGVjdGlvblJlc3BvbnNlOiAodGhpcy5yZXN1bHRDb2Rlc1sgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIHJlc3Auc2xpY2UoNCwgNikgKSBcclxuICAgICAgICAgICAgICAgICAgICBdIHx8IFwiVW5rbm93biBvciB1bmRvY3VtZW50ZWQgcmVzdWx0IGNvZGVcIilcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KCB0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikgKSlcclxuICAgIClcclxuXHJcbiAgICBzZW5kQXJwYyA9IGFycGNSZXNwID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHRoaXMuc2VuZEFycGNCYXNlKGFycGNSZXNwKVxyXG4gICAgICAgIC50aGVuKGFycGNDbWQgPT4gdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKGFycGNDbWQpKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0RldmljZVN0YXRlKGBbU2VuZCBBUlBDIFJlc3BdOiAke3RoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcocmVzcCl9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdENvZGUgPSAocmVzcC5sZW5ndGggPiA1KSA/IHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcoIHJlc3Auc2xpY2UoNCwgNikgKSA6IFwiXCI7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICBzZW5kQXJwY1Jlc3BvbnNlOiAodGhpcy5yZXN1bHRDb2Rlc1sgcmVzdWx0Q29kZSBdIHx8IFwiVW5rbm93biBvciB1bmRvY3VtZW50ZWQgcmVzdWx0IGNvZGVcIilcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSkpXHJcbiAgICApO1xyXG5cclxuICAgIGNsZWFyR2F0dENhY2hlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh3aW5kb3cpXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLm9uRGVzdHJveUhhbmRsZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubWF4QmxvY2tJZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsTm90aWZpY2F0aW9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJhd0RhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhUmVhZFN0YXR1c0NoYXJhY3RlcmlzdGljID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRhdGFSZWFkeUNoYXJhY3RlcmlzdGljID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jYXJkRGF0YUxpc3RlbmVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjZWFzZU5vdGlmaWNhdGlvbnMgPSAoKSA9PiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiAoIXRoaXMuY2FyZERhdGFMaXN0ZW5lcikgPyByZXNvbHZlKCkgOiB0aGlzLmNhcmREYXRhTGlzdGVuZXIuc3RvcE5vdGlmaWNhdGlvbnMoKVxyXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FyZERhdGFMaXN0ZW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFyYWN0ZXJpc3RpY3ZhbHVlY2hhbmdlZCcsIHRoaXMuY2FyZERhdGFIYW5kbGVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJlYWRTdGF0dXNDaGFyYWN0ZXJpc3RpYy5zdG9wTm90aWZpY2F0aW9ucygpXHJcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVJlYWR5Q2hhcmFjdGVyaXN0aWMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLCB0aGlzLmRhdGFSZWFkeUhhbmRsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpXHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgY2FuY2VsVHJhbnNhY3Rpb24gPSAoKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4gKCF0aGlzLmNvbW1hbmRDaGFyYWN0ZXJpc3RpYykgPyBcclxuICAgICAgICByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoY29tbWFuZE5vdFNlbnQpKVxyXG4gICAgICAgIDogdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKHRoaXMuY2FuY2VsRW12Q29tbWFuZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHJlc29sdmUoe1xyXG4gICAgICAgICAgICBjYW5jZWxSZXNwb25zZTogKHRoaXMucmVzdWx0Q29kZXNbIHRoaXMuY29udmVydEFycmF5VG9IZXhTdHJpbmcocmVzcC5zbGljZSg0LCA2KSkgXSB8fCBgJHt1bmtub3duVW5kb2N9IHJlc3VsdCBjb2RlYClcclxuICAgICAgICB9KSkuY2F0Y2goZXJyID0+IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpKVxyXG4gICAgKTtcclxuXHJcbiAgICBjbG9zZURldmljZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IHJlc29sdmUoe1xyXG4gICAgICAgICAgICBjb2RlOiBzdWNjZXNzQ29kZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogY2xvc2VTdWNjZXNzXHJcbiAgICAgICAgfSkgXHJcbiAgICAgICAgOiB0aGlzLmNlYXNlTm90aWZpY2F0aW9ucygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyR2F0dENhY2hlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICB9KS50aGVuKCgpID0+IHJlc29sdmUoe1xyXG4gICAgICAgICAgICBjb2RlOiBzdWNjZXNzQ29kZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogY2xvc2VTdWNjZXNzXHJcbiAgICAgICAgfSkpLmNhdGNoKGVyciA9PiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZXJyKSApKVxyXG4gICAgKSBcclxuXHJcbiAgICBjbGVhclNlc3Npb24gPSAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICAodGhpcy5kZXZpY2UgJiYgdGhpcy5kZXZpY2UuZ2F0dC5jb25uZWN0ZWQpID8gXHJcbiAgICAgICAgICAgIHJlc29sdmUoXCJTQ1JBIGRldmljZXMgZG8gbm90IGNhcnJ5IGEgc2Vzc2lvblwiKSBcclxuICAgICAgICAgICAgOiByZWplY3QoIHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikpIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NyYTtcclxuIiwiaW1wb3J0IFNjcmEgZnJvbSAnLi9zY3JhJztcclxuaW1wb3J0IHsgXHJcbiAgICBzd2lwZUxpc3RlbmluZyxcclxuICAgIHN1Y2Nlc3NDb2RlLFxyXG4gICAgZUR5bmFtb1xyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IGRldmljZU5vdE9wZW4gfSBmcm9tICcuLi9lcnJvckhhbmRsZXIvZXJyQ29uc3RhbnRzJztcclxuXHJcbmNsYXNzIEVEeW5hbW8gZXh0ZW5kcyBTY3JhIHtcclxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgY2FsbEJhY2tzKSB7XHJcbiAgICAgICAgc3VwZXIoZGV2aWNlLCBjYWxsQmFja3MpO1xyXG5cclxuICAgICAgICB0aGlzLmRldmljZVR5cGUgPSBlRHluYW1vO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENhcmRTZXJ2aWNlID0gKCkgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IFxyXG4gICAgICAgIHRoaXMuZ2V0Q2FyZFNlcnZpY2VCYXNlKDEpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiByZXNvbHZlKHJlc3ApXHJcbiAgICAgICAgKS5jYXRjaCggZXJyID0+IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpIClcclxuICAgICk7XHJcblxyXG4gICAgcmVxdWVzdENhcmRTd2lwZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IFxyXG4gICAgICAgIHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGRldmljZU5vdE9wZW4pKVxyXG4gICAgICAgIDogcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgIGNvZGU6IHN1Y2Nlc3NDb2RlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBzd2lwZUxpc3RlbmluZ1xyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFRHluYW1vO1xyXG4iLCJpbXBvcnQgU2NyYSBmcm9tICcuL3NjcmEnO1xyXG5pbXBvcnQgeyBcclxuICAgIHN3aXBlTGlzdGVuaW5nLFxyXG4gICAgc3VjY2Vzc0NvZGUsXHJcbiAgICB0RHluYW1vXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgY29tbWFuZE5vdEFjY2VwdGVkLCBkZXZpY2VOb3RPcGVuIH0gZnJvbSAnLi4vZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cyc7XHJcblxyXG5jbGFzcyBURHluYW1vIGV4dGVuZHMgU2NyYSB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGNhbGxCYWNrcykge1xyXG4gICAgICAgIHN1cGVyKGRldmljZSwgY2FsbEJhY2tzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRIZWFkQWx3YXlzT24gPSBbMHg1OCwgMHgwMSwgMHgwMV07XHJcbiAgICAgICAgLy90aGlzLnNldEhlYWRPZmZXaGVuSWRsZSA9IFVpbnQ4QXJyYXkub2YoMHg1OCwgMHgwMSwgMHgwMCk7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlVHlwZSA9IHREeW5hbW9cclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXJkU2VydmljZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiBcclxuICAgICAgICB0aGlzLmdldENhcmRTZXJ2aWNlQmFzZSgpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiByZXNvbHZlKHJlc3ApXHJcbiAgICAgICAgKS5jYXRjaCggZXJyID0+IHJlamVjdCh0aGlzLmJ1aWxkRGV2aWNlRXJyKGVycikpIClcclxuICAgICk7XHJcblxyXG4gICAgcmVxdWVzdENhcmRTd2lwZSA9ICgpID0+IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiAoIXRoaXMuZGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/XHJcbiAgICAgICAgcmVqZWN0KHRoaXMuYnVpbGREZXZpY2VFcnIoZGV2aWNlTm90T3BlbikpIFxyXG4gICAgICAgIDogdGhpcy5zZW5kQ29tbWFuZFdpdGhSZXNwKHRoaXMuc2V0SGVhZEFsd2F5c09uKVxyXG4gICAgICAgIC50aGVuKHNldEhlYWRPcGVuUmVzcCA9PiAocGFyc2VJbnQoc2V0SGVhZE9wZW5SZXNwKSA9PT0gMCkgPyBcclxuICAgICAgICAgICAgcmVzb2x2ZSh7IFxyXG4gICAgICAgICAgICAgICAgY29kZTogc3VjY2Vzc0NvZGUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBzd2lwZUxpc3RlbmluZ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICA6IHJlamVjdCggdGhpcy5idWlsZERldmljZUVycihjb21tYW5kTm90QWNjZXB0ZWQpIClcclxuICAgICAgICApLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSlcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFREeW5hbW87XHJcbiIsImltcG9ydCBEcE1pbmkgZnJvbSAnLi4vZGV2aWNlcy9keW5hUHJvTWluaSc7XHJcbmltcG9ydCBEeW5Qcm9HbyBmcm9tICcuLi9kZXZpY2VzL2R5bmFQcm9Hbyc7XHJcbmltcG9ydCBFRHluYW1vIGZyb20gJy4uL2RldmljZXMvZUR5bmFtbyc7XHJcbmltcG9ydCBURHluYW1vIGZyb20gJy4uL2RldmljZXMvdER5bmFtbyc7XHJcbmltcG9ydCB7IFxyXG4gICAgdER5bmFtbyxcclxuICAgIGVEeW5hbW8sXHJcbiAgICBkeW5hUHJvR28sXHJcbiAgICBkcE1pbmkgXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJzsgXHJcblxyXG5jb25zdCBjb21tYW5kTm90VXNlZCA9IGlzU2NyYSA9PiBcclxuICAgICgpID0+IFByb21pc2UucmVzb2x2ZShgJHsoaXNTY3JhID8gJ1NDUkEnIDogJ1BpblBhZCcpfSBkZXZpY2VzIGRvIG5vdCB1c2UgdGhpcyBjb21tYW5kYCk7XHJcblxyXG4gICAgXHJcbmNsYXNzIERldmljZUludGVyZmFjZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IFxyXG4gICAgICAgIGdldENhcmRTZXJ2aWNlLFxyXG4gICAgICAgIHN0YXJ0VHJhbnNhY3Rpb24sXHJcbiAgICAgICAgY2FuY2VsVHJhbnNhY3Rpb24sXHJcbiAgICAgICAgc2VuZENvbW1hbmRXaXRoUmVzcCxcclxuICAgICAgICBjbGVhclNlc3Npb24sXHJcbiAgICAgICAgY2xvc2VEZXZpY2UsXHJcbiAgICAgICAgZ2V0RGV2aWNlSW5mbyxcclxuICAgICAgICByZXF1ZXN0Q2FyZFN3aXBlLFxyXG4gICAgICAgIGlzRGV2aWNlQ29ubmVjdGVkLFxyXG4gICAgICAgIGRpc2Nvbm5lY3QsXHJcbiAgICAgICAgcmVxdWVzdFBpbkVudHJ5LFxyXG4gICAgICAgIHNldERpc3BsYXlNZXNzYWdlLFxyXG4gICAgICAgIHNlbmRVc2VyU2VsZWN0aW9uLFxyXG4gICAgICAgIHNlbmRBcnBjLFxyXG4gICAgICAgIHNldERldmljZURhdGVUaW1lLFxyXG4gICAgICAgIHJlcXVlc3RUaXBPckNhc2hiYWNrXHJcbiAgICB9KSB7XHJcbiAgICAgICAgdGhpcy5vcGVuRGV2aWNlID0gZ2V0Q2FyZFNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5zdGFydFRyYW5zYWN0aW9uID0gc3RhcnRUcmFuc2FjdGlvbjtcclxuICAgICAgICB0aGlzLmNhbmNlbFRyYW5zYWN0aW9uID0gY2FuY2VsVHJhbnNhY3Rpb247XHJcbiAgICAgICAgdGhpcy5zZW5kQ29tbWFuZCA9IHNlbmRDb21tYW5kV2l0aFJlc3A7XHJcbiAgICAgICAgdGhpcy5jbGVhclNlc3Npb24gPSBjbGVhclNlc3Npb247XHJcbiAgICAgICAgdGhpcy5jbG9zZURldmljZSA9IGNsb3NlRGV2aWNlO1xyXG4gICAgICAgIHRoaXMuZGV2aWNlSW5mbyA9IGdldERldmljZUluZm87XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0Q2FyZFN3aXBlID0gcmVxdWVzdENhcmRTd2lwZTtcclxuICAgICAgICB0aGlzLmlzRGV2aWNlT3BlbiA9IGlzRGV2aWNlQ29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuZm9yY2VEaXNjb25uZWN0ID0gZGlzY29ubmVjdDtcclxuICAgICAgICB0aGlzLnJlcXVlc3RQaW5FbnRyeSA9IChyZXF1ZXN0UGluRW50cnkpID8gcmVxdWVzdFBpbkVudHJ5IDogY29tbWFuZE5vdFVzZWQodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zZXREaXNwbGF5TWVzc2FnZSA9IChzZXREaXNwbGF5TWVzc2FnZSkgPyBzZXREaXNwbGF5TWVzc2FnZSA6IGNvbW1hbmROb3RVc2VkKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc2VuZFVzZXJTZWxlY3Rpb24gPSAoc2VuZFVzZXJTZWxlY3Rpb24pID8gc2VuZFVzZXJTZWxlY3Rpb24gOiBjb21tYW5kTm90VXNlZCgpO1xyXG4gICAgICAgIHRoaXMuc2VuZEFycGNSZXNwb25zZSA9IChzZW5kQXJwYykgPyBzZW5kQXJwYyA6ICgpID0+IFByb21pc2UucmVzb2x2ZShcIkZlYXR1cmUgUGVuZGluZyBDb21wbGV0aW9uXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0RGV2aWNlRGF0ZVRpbWUgPSAoc2V0RGV2aWNlRGF0ZVRpbWUpID8gc2V0RGV2aWNlRGF0ZVRpbWUgOiBjb21tYW5kTm90VXNlZCgpO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdFRpcE9yQ2FzaGJhY2sgPSAocmVxdWVzdFRpcE9yQ2FzaGJhY2spID8gcmVxdWVzdFRpcE9yQ2FzaGJhY2sgOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoXCJUaGlzIGRldmljZSBkb2VzIG5vdCB1c2UgdGhpcyBjb21tYW5kXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgbmV3RGV2aWNlSW5zdGFuY2UgPSB7XHJcbiAgICBbZUR5bmFtb106IChkZXZpY2UsIGNhbGxiYWNrcykgPT4gbmV3IEVEeW5hbW8oZGV2aWNlLCBjYWxsYmFja3MpLFxyXG4gICAgW3REeW5hbW9dOiAgKGRldmljZSwgY2FsbGJhY2tzKSA9PiBuZXcgVER5bmFtbyhkZXZpY2UsIGNhbGxiYWNrcyksXHJcbiAgICBbZHluYVByb0dvXTogKGRldmljZSwgY2FsbGJhY2tzKSA9PiBuZXcgRHluUHJvR28oZGV2aWNlLCBjYWxsYmFja3MpLFxyXG4gICAgW2RwTWluaV06IChkZXZpY2UsIGNhbGxiYWNrcykgPT4gbmV3IERwTWluaShkZXZpY2UsIGNhbGxiYWNrcyksXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBidWlsZERldmljZU9iamVjdCA9IChkZXZpY2UsIGNhbGxiYWNrcywgZGV2aWNlVHlwZVN0cmluZykgPT4gKHtcclxuICAgIGlkOiBkZXZpY2UuaWQsXHJcbiAgICBuYW1lOiBkZXZpY2UubmFtZSxcclxuICAgIGRldmljZVR5cGU6IGRldmljZVR5cGVTdHJpbmcsXHJcbiAgICBkZXZpY2VJbnRlcmZhY2U6IG5ldyBEZXZpY2VJbnRlcmZhY2UoXHJcbiAgICAgICAgbmV3RGV2aWNlSW5zdGFuY2VbIGRldmljZVR5cGVTdHJpbmcgXShkZXZpY2UsIGNhbGxiYWNrcylcclxuICAgIClcclxufSk7XHJcblxyXG4iLCJpbXBvcnQge1xyXG4gICAgdER5bmFtbyxcclxuICAgIGVEeW5hbW8sXHJcbiAgICBkeW5hUHJvR28sXHJcbiAgICBkcE1pbmlcclxufSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IG5vdEZvdW5kT2JqIH0gZnJvbSAnLi4vZXJyb3JIYW5kbGVyL2VyckNvbnN0YW50cyc7XHJcblxyXG5jb25zdCBlRHluYW1vUGF0dGVybiA9IG5ldyBSZWdFeHAoL15lRHluYW1vLS8pO1xyXG5jb25zdCB0RHluYW1vUGF0dGVybiA9IG5ldyBSZWdFeHAoL150RHluYW1vLS8pO1xyXG5jb25zdCBkcE1pbmlQYXR0ZXJuID0gbmV3IFJlZ0V4cCgvXkRQTWluaS8pO1xyXG5jb25zdCBkcEdvUGF0dGVybiA9IG5ldyBSZWdFeHAoL15EUEcvKTtcclxuXHJcblxyXG5jb25zdCBpbnNwZWN0RGV2aWNlTmFtZSA9IGRldmljZU5hbWUgPT4gKHREeW5hbW9QYXR0ZXJuLnRlc3QoZGV2aWNlTmFtZSkpID8gdER5bmFtbyA6IFxyXG4gICAgKGVEeW5hbW9QYXR0ZXJuLnRlc3QoZGV2aWNlTmFtZSkpID8gZUR5bmFtbyA6IFxyXG4gICAgICAgIChkcEdvUGF0dGVybi50ZXN0KGRldmljZU5hbWUpKSA/IGR5bmFQcm9HbyA6IFxyXG4gICAgICAgICAgICAoZHBNaW5pUGF0dGVybi50ZXN0KGRldmljZU5hbWUpKSA/IGRwTWluaSA6IFwiXCI7XHJcblxyXG5jb25zdCBmb3JtYXRUeXBlU3RyaW5nID0gZGV2aWNlVHlwZVN0ciA9PiB7XHJcbiAgICBjb25zdCBkZXZpY2VUeXBlQXJyID0gW2R5bmFQcm9HbywgZHBNaW5pLCBlRHluYW1vLCB0RHluYW1vXTtcclxuICAgIGxldCByZXR1cm5TdHIgPSBcIlwiO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2aWNlVHlwZUFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChkZXZpY2VUeXBlU3RyLnRvTG93ZXJDYXNlKCkgPT09IGRldmljZVR5cGVBcnJbaV0udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICByZXR1cm5TdHIgPSBkZXZpY2VUeXBlQXJyW2ldO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJldHVyblN0cjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGZpbmREZXZpY2VUeXBlU3RyaW5nID0gKG5hbWVTdHIsIHR5cGVTdHIpID0+IHtcclxuICAgIGlmICh0eXBlU3RyKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkU3RyID0gZm9ybWF0VHlwZVN0cmluZyh0eXBlU3RyKTtcclxuXHJcbiAgICAgICAgaWYgKGZvcm1hdHRlZFN0cikge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkU3RyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5zcGVjdERldmljZU5hbWUobmFtZVN0cilcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGZpbmREZXZpY2VCeVByb2R1Y3ROYW1lID0gc2VsZWN0ZWREZXZpY2UgPT4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGxldCBtb2RlbE5hbWVTdHJpbmc7XHJcblxyXG4gICAgcmV0dXJuIHNlbGVjdGVkRGV2aWNlLmdhdHQuY29ubmVjdCgpXHJcbiAgICAudGhlbihzZXJ2ZXIgPT4gc2VydmVyLmdldFByaW1hcnlTZXJ2aWNlKCdkZXZpY2VfaW5mb3JtYXRpb24nKVxyXG4gICAgKS50aGVuKHNlcnZpY2UgPT4gc2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYygnbW9kZWxfbnVtYmVyX3N0cmluZycpXHJcbiAgICApLnRoZW4oY2hhcmFjdGVyaXN0aWMgPT4gY2hhcmFjdGVyaXN0aWMucmVhZFZhbHVlKClcclxuICAgICkudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgbW9kZWxOYW1lU3RyaW5nID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpLmRlY29kZSh2YWx1ZSkudHJpbSgpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIHNlbGVjdGVkRGV2aWNlLmdhdHQuZGlzY29ubmVjdCgpICk7XHJcbiAgICB9KS50aGVuKCAoKSA9PiByZXNvbHZlKCBtb2RlbE5hbWVTdHJpbmcgKVxyXG4gICAgKS5jYXRjaChlcnIgPT4gKFxyXG4gICAgICAgICAgICBlcnIuY29kZSA9PT0gbm90Rm91bmRPYmouZXJyb3JDb2RlICYmIFxyXG4gICAgICAgICAgICBlcnIubmFtZSA9PT0gbm90Rm91bmRPYmouZXJyb3JOYW1lICYmIFxyXG4gICAgICAgICAgICBlcnIubWVzc2FnZS5pbmNsdWRlcyhcIjAwMDAxODBhLTAwMDAtMTAwMC04MDAwLTAwODA1ZjliMzRmYlwiKVxyXG4gICAgICAgICkgPyAoIXNlbGVjdGVkRGV2aWNlLmdhdHQuY29ubmVjdGVkKSA/IHJlc29sdmUoIGR5bmFQcm9HbyApIFxyXG4gICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZSggc2VsZWN0ZWREZXZpY2UuZ2F0dC5kaXNjb25uZWN0KCkgKS50aGVuKCgpID0+IHJlc29sdmUoIGR5bmFQcm9HbyApKVxyXG4gICAgICAgIDogcmVqZWN0KGVycilcclxuICAgICk7XHJcbn0pO1xyXG4iLCJpbXBvcnQgQXBpRXJyb3IgZnJvbSAnLi9lcnJvckhhbmRsZXIvYXBpRXJyb3InO1xyXG5pbXBvcnQgeyBhbGxEZXZpY2VDb25maWcsIGZpbmREZXZpY2VCeURldmljZU5hbWUgfSBmcm9tICcuL2NvbmZpZ3VyYXRpb25zJztcclxuaW1wb3J0IHsgYnVpbGREZXZpY2VPYmplY3QgfSBmcm9tICcuL3V0aWxzL2luc3RhbmNpYXRlRGV2aWNlJztcclxuaW1wb3J0IHsgZmluZERldmljZVR5cGVTdHJpbmcsIGZpbmREZXZpY2VCeVByb2R1Y3ROYW1lIH0gZnJvbSAnLi91dGlscy9pZGVudGlmeURldmljZSc7XHJcblxyXG5cclxuY29uc3QgYXJyYW5nZUNhbGxiYWNrcyA9IGNhbGxCYWNrcyA9PiB7XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdENhbGxiYWNrID0gZGF0YU9iaiA9PiB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiQ2FsbGJhY2sgbm90IHByb3ZpZGVkIHRvICdzY2FuRm9yRGV2aWNlcycgZnVuY3Rpb24uIFBsZWFzZSBwcm92aWRlIGF0IGxlYXN0IG9uZSBjYWxsYmFjayBmdW5jdGlvbiB0byB0aGlzIG1ldGhvZFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRyYW5zYWN0aW9uQ2FsbGJhY2sgZGF0YTogXCIsIGRhdGFPYmopO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGxCYWNrcyA9IGNhbGxCYWNrcyB8fCBkZWZhdWx0Q2FsbGJhY2s7XHJcbiAgICBcclxuICAgIGNvbnN0IGlzRnVuY1R5cGUgPSAodHlwZW9mIGNhbGxCYWNrcyA9PT0gJ2Z1bmN0aW9uJyk7XHJcblxyXG4gICAgY29uc3QgcHJvcEFzc2lnbm1lbnQgPSBwcm9wTmFtZSA9PiAoY2FsbEJhY2tzW3Byb3BOYW1lXSkgPyBjYWxsQmFja3NbcHJvcE5hbWVdIDogXHJcbiAgICAgICAgKGlzRnVuY1R5cGUpID8gY2FsbEJhY2tzIDogY2FsbEJhY2tzLnRyYW5zYWN0aW9uQ2FsbGJhY2s7XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdEVyckNhbGxiYWNrID0gZXJyT2JqID0+IFxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbTWFnZW5zYUJsdWV0b290aCBJbnRlcm5hbCBFcnJvcl06IFwiLCBlcnJPYmopO1xyXG5cclxuICAgIGNhbGxCYWNrcy5lcnJvckNhbGxiYWNrID0gKGNhbGxCYWNrcy5lcnJvckNhbGxiYWNrIHx8IGRlZmF1bHRFcnJDYWxsYmFjayk7XHJcbiAgICBjYWxsQmFja3MudHJhbnNhY3Rpb25TdGF0dXNDYWxsYmFjayA9ICggY2FsbEJhY2tzLnRyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2sgfHwgcHJvcEFzc2lnbm1lbnQoJ3RyYW5zYWN0aW9uU3RhdHVzQ2FsbGJhY2snKSApO1xyXG4gICAgY2FsbEJhY2tzLnVzZXJTZWxlY3Rpb25DYWxsYmFjayA9ICggY2FsbEJhY2tzLnVzZXJTZWxlY3Rpb25DYWxsYmFjayB8fCBwcm9wQXNzaWdubWVudCgndXNlclNlbGVjdGlvbkNhbGxiYWNrJykgKTtcclxuICAgIGNhbGxCYWNrcy5kaXNwbGF5Q2FsbGJhY2sgPSAoIGNhbGxCYWNrcy5kaXNwbGF5Q2FsbGJhY2sgfHwgcHJvcEFzc2lnbm1lbnQoJ2Rpc3BsYXlDYWxsYmFjaycpICk7XHJcbiAgICBjYWxsQmFja3MuZGlzY29ubmVjdEhhbmRsZXIgPSAoY2FsbEJhY2tzLmRpc2Nvbm5lY3RIYW5kbGVyIHx8IHByb3BBc3NpZ25tZW50KCd0cmFuc2FjdGlvbkNhbGxiYWNrJykgKTtcclxuXHJcbiAgICByZXR1cm4gY2FsbEJhY2tzO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2NhbkZvckRldmljZXMgPSAoY2FsbEJhY2tzLCBkZXZpY2VOYW1lLCBkZXZpY2VUeXBlKSA9PiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBjYWxsQmFja3MgPT09ICdvYmplY3QnICYmIHR5cGVvZiBjYWxsQmFja3MudHJhbnNhY3Rpb25DYWxsYmFjayA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgcmV0dXJuIHJlamVjdChcIldoZW4gcHJvdmlkaW5nIG11bHRpcGxlIGNhbGxiYWNrcyBpbiBhbiBvYmplY3QsICd0cmFuc2FjdGlvbkNhbGxiYWNrJyBtdXN0IGJlIHByb3ZpZGVkXCIpO1xyXG5cclxuICAgIGNhbGxCYWNrcyA9IGFycmFuZ2VDYWxsYmFja3MoY2FsbEJhY2tzKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gKGRldmljZU5hbWUpID8gZmluZERldmljZUJ5RGV2aWNlTmFtZShkZXZpY2VOYW1lKSA6IGFsbERldmljZUNvbmZpZztcclxuICAgIFxyXG4gICAgcmV0dXJuIG5hdmlnYXRvci5ibHVldG9vdGgucmVxdWVzdERldmljZSggb3B0aW9ucyApXHJcbiAgICAgICAgLnRoZW4oZGV2aWNlID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRldmljZVR5cGVOYW1lID0gZmluZERldmljZVR5cGVTdHJpbmcoZGV2aWNlLm5hbWUsIGRldmljZVR5cGUpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChkZXZpY2VUeXBlTmFtZSkgPyByZXNvbHZlKCBidWlsZERldmljZU9iamVjdChkZXZpY2UsIGNhbGxCYWNrcywgZGV2aWNlVHlwZU5hbWUpICkgOlxyXG4gICAgICAgICAgICAgICAgZmluZERldmljZUJ5UHJvZHVjdE5hbWUoZGV2aWNlKS50aGVuKCBcclxuICAgICAgICAgICAgICAgICAgICBkZXZpY2VUeXBlU3RyaW5nID0+ICghZGV2aWNlVHlwZVN0cmluZykgPyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiU2VsZWN0ZWQgZGV2aWNlIGlzIG5vdCBzdXBwb3J0ZWRcIikgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZSggYnVpbGREZXZpY2VPYmplY3QoZGV2aWNlLCBjYWxsQmFja3MsIGRldmljZVR5cGVTdHJpbmcpIClcclxuICAgICAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gKHR5cGVvZiBlcnIgPT09IFwib2JqZWN0XCIpID8gXHJcbiAgICAgICAgICAgIHJlamVjdCggbmV3IEFwaUVycm9yKGVycikgKSA6IFxyXG4gICAgICAgICAgICByZWplY3QoXCJTZWxlY3RlZCBkZXZpY2UgaXMgbm90IHN1cHBvcnRlZFwiKVxyXG4gICAgICAgIClcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=